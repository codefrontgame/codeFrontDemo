(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-514a6566"],{"005e":function(e,t,i){e.exports=i.p+"c858d804d048236fd104269716261fa8.js"},"00b4":function(e,t,i){e.exports=i.p+"f1a4f9fa2839f32bf511a7a94552cd10.js"},"013e":function(e,t,i){e.exports=i.p+"8681f562786fa45bebe8ee7ed2461026.js"},"0252":function(e,t,i){e.exports=i.p+"ae5d4d6eea08ccfac67e44bfe11da4ed.js"},"026f":function(e,t,i){e.exports=i.p+"5683c8e2b4781ac5373747e5e6268216.js"},"02be":function(e,t,i){e.exports=i.p+"f0a872cb9d974c958b5ef95b0122b242.js"},"0438":function(e,t,i){e.exports=i.p+"1517d7a249c47eaf819aa1fcca0d9f1e.js"},"044a":function(e,t,i){e.exports=i.p+"c6845f5ab9b3d7b55d4119b8a207bb0b.js"},"04de":function(e,t,i){e.exports=i.p+"9cc943893664c6bd450c099a2b0c8b7e.js"},"0552":function(e,t,i){e.exports=i.p+"98c15d631c653584b9d729f0c3d5b3bc.js"},"05e3":function(e,t,i){e.exports=i.p+"bd31647feb59f240e6c02a3b4ece9194.js"},"060d":function(e,t,i){e.exports=i.p+"85e246a36ca53e3f767608542dcd26b3.js"},"0678":function(e,t,i){e.exports=i.p+"8bdbab2f0d58195a7d509ad6fbe02966.js"},"06ce":function(e,t,i){e.exports=i.p+"6f783ca6efdcb90ccde9175312f6558d.js"},"07d6":function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},"07e0":function(e,t,i){e.exports=i.p+"ebd49eb40894542639b100956e9a698c.js"},"0806":function(e,t,i){e.exports=i.p+"c033d0cf791d80ef14327c1ade637578.js"},"0823":function(e,t,i){e.exports=i.p+"75286494cc641014ccffd03008f296c6.js"},"08b0":function(e,t,i){},"08bb":function(e,t,i){e.exports=i.p+"3e6cde7f6a3d84c5cff5127be1c019f3.js"},"09d7":function(e,t,i){e.exports=i.p+"c41a2553f4cc7b7fe9de6146a31dcb2f.js"},"09dc":function(e,t,i){e.exports=i.p+"409c22409d24a1be88312f7c0bf54eb4.js"},"0a96":function(e,t,i){e.exports=i.p+"ae8ef91c47351a3b457142908804ddee.js"},"0acd":function(e,t,i){e.exports=i.p+"042a0929611f7e1e7513258ec70ebdf5.js"},"0b17":function(e,t,i){e.exports=i.p+"5f36c529684a07a9edd15a9219712583.js"},"0b74":function(e,t,i){e.exports=i.p+"e393bf5358fc198ca07e518900b24311.js"},"11e4":function(e,t,i){e.exports=i.p+"451c3753fb6dfc1f2de25cb7524f4bb2.js"},1385:function(e,t,i){e.exports=i.p+"f87604748196a6bdd16c584d88408daf.js"},1496:function(e,t,i){e.exports=i.p+"c0f91d067bd4f665ec7b85a632e3168d.js"},1584:function(e,t,i){e.exports=i.p+"02c061acfcb17cb0413eb1e190d33cbb.js"},1614:function(e,t,i){e.exports=i.p+"9ba2b41c99505943c68ba3d6120f464c.js"},"16c6":function(e,t,i){e.exports=i.p+"9646de6925b7e8d7dac46342731e1904.js"},"177b":function(e,t,i){e.exports=i.p+"fc43768786e3b6a4d43bf2f4f9603761.js"},"189f":function(e,t,i){e.exports=i.p+"7982ae381c10e501e9a46d8693deddf6.js"},1920:function(e,t,i){e.exports=i.p+"194e7c1e6dc06bec6fb0178f3fd90e24.js"},"1a29":function(e,t,i){e.exports=i.p+"0dc486b4415f7cbd7ddde8f32b6f12f1.js"},"1b62":function(e,t,i){e.exports=i.p+"fe5fd32b764aa22fde63925ac549a9c9.js"},"1c4e":function(e,t,i){e.exports=i.p+"be49208cc359a87152c752b0ea41d609.js"},"1cb3":function(e,t,i){e.exports=i.p+"0ab67a107deacf1d9b22eb0b706486db.js"},"1cea":function(e,t,i){e.exports=i.p+"42837f940cb1b7ef3aacf38a45916320.js"},"1dc8":function(e,t,i){e.exports=i.p+"7587c99e77660465e5d9c7311d41e514.js"},"1e9e":function(e,t,i){e.exports=i.p+"d6e8765f900021402ed221830d462b1d.js"},"1f06":function(e,t,i){e.exports=i.p+"8090b9684b48e3c94193c31e346e06f5.js"},"21de":function(e,t,i){e.exports=i.p+"7f97ea63879ac5f3a2b491a651a1a82f.js"},"223c":function(e,t,i){e.exports=i.p+"4190490a8257bdfcce6e2bd4f0634086.js"},"22ac":function(e,t,i){e.exports=i.p+"9588381016bdc5e88634572e630b4551.js"},"23f6":function(e,t,i){e.exports=i.p+"45446feb988b7dd3ee26aadccd022c0a.js"},"247c":function(e,t,i){e.exports=i.p+"8043595ccf704fc61e7e3e4c7c7e77a5.js"},"25cd":function(e,t,i){"use strict";var r=i("e899"),n=i.n(r);n.a},2770:function(e,t,i){e.exports=i.p+"1084edaced97872890c9d87a9944cdcd.js"},"277b":function(e,t,i){e.exports=i.p+"74973bbb728e661679e49a16773535a4.js"},2799:function(e,t,i){e.exports=i.p+"c87208f97f8f1e90f13f95515ade8e0b.js"},2849:function(e,t,i){e.exports=i.p+"1570e695c448e6a4f3a6bdf0372b58f0.js"},"285b":function(e,t,i){e.exports=i.p+"24dba425022a2cc94cb07980b04f60b8.js"},"292c":function(e,t,i){e.exports=i.p+"1dc321da606125ce0592e274e01c728d.js"},"29db":function(e,t,i){e.exports=i.p+"3c0ec12aff6e148d235875bfed4ca421.js"},"2aaa":function(e,t,i){e.exports=i.p+"11bf0f7ed4a8973f585ee98239613ebc.js"},"2ac7":function(e,t,i){e.exports=i.p+"0ebc6c9681e409f2bf3bb6d8ce64e28e.js"},"2c5e":function(e,t,i){e.exports=i.p+"31d41d6496fa8bb51798efce8a49626d.js"},"2d5e":function(e,t,i){e.exports=i.p+"12fcb95361de9251f1be9f0689a14453.js"},"2e2d":function(e,t,i){e.exports=i.p+"280ba139ff95428f262adbf81b77aeb4.js"},"2e9d":function(e,t,i){e.exports=i.p+"9e2a46a26e0b28d04b78f974a8a82c08.js"},"2e9f":function(e,t,i){e.exports=i.p+"1d837e2c9de35cbb09a85208da4a0d8a.js"},"2ebc":function(e,t,i){e.exports=i.p+"8b0a028adcf89579ab64902ed9c82ce3.js"},"2f57":function(e,t,i){e.exports=i.p+"38ec644b492741cce581c3fe271917d6.js"},"302b":function(e,t,i){e.exports=i.p+"8120c57dbca7501da3ecf702c811f16f.js"},3096:function(e,t,i){e.exports=i.p+"d38c97a7b5dc3fbb819bda6cb81f5084.js"},"30bc":function(e,t,i){e.exports=i.p+"ba4c03e8665597d9a60281eba5a7f4cc.js"},"30d0":function(e,t,i){e.exports=i.p+"0cab51dee983721ec757e7e209a67c1d.js"},"30dd":function(e,t,i){e.exports=i.p+"2af30a763bb650347df49c35832b56d6.js"},3143:function(e,t,i){e.exports=i.p+"4e9e0e943cacfdf9d350ba0c59bfb53b.js"},"31d9":function(e,t,i){e.exports=i.p+"297986c2038c6d4f56f094a9bf8f2ed2.js"},"320b":function(e,t,i){e.exports=i.p+"a65a0bae3e5b73407d15ea6bbb08e515.js"},"336b":function(e,t,i){e.exports=i.p+"c24de6963d7d00c269db34091059e06d.js"},"34e8":function(e,t,i){e.exports=i.p+"85a17f1272296cefbd6bf7de186651f2.js"},3623:function(e,t,i){e.exports=i.p+"5e4dd0452f14cf5dbb02a7dc7d9dda76.js"},3763:function(e,t,i){e.exports=i.p+"d9e70caae42a8f91d34536f0d7941673.js"},3802:function(e,t,i){e.exports=i.p+"fe4de7aeda3abed04c238956a8565de4.js"},3829:function(e,t,i){e.exports=i.p+"86dfc095a8bb97b2b6d94b798ebcdc61.js"},"38d0":function(e,t,i){e.exports=i.p+"02f9e1083a8b03ae4f83fa79c1a4a08e.js"},"39c3":function(e,t,i){e.exports=i.p+"f3a0f6e7e442de2ae51eddbf4eb98d97.js"},"3a37":function(e,t,i){e.exports=i.p+"16f4439a0d344c68357e63c24719dfc2.js"},"3a47":function(e,t,i){e.exports=i.p+"2208705283adad817bb4a5af647f77ab.js"},"3ced":function(e,t,i){},"3d0f":function(e,t,i){e.exports=i.p+"4263ed179f5b2268965e1157074583e8.js"},"3d1f":function(e,t,i){e.exports=i.p+"19573d26f286762809b86f935516c1ac.js"},"3ddc":function(e,t,i){e.exports=i.p+"0a6ff8061a6e0aeb5dc28187493d9193.js"},"3fb7":function(e,t,i){e.exports=i.p+"f4b747bf296f21fcf6d59357e92f948d.js"},4029:function(e,t,i){e.exports=i.p+"bd98610e395f3b4c7915cf3fbe854f6f.js"},"408d":function(e,t,i){e.exports=i.p+"983ddc3115fae8e0dfd108d799662892.js"},"42f0":function(e,t,i){e.exports=i.p+"fe8b425cd362809b17f5d36b06c81c7f.js"},4443:function(e,t,i){e.exports=i.p+"a97b36e84118cdf617d96b3338182518.js"},"44be":function(e,t,i){e.exports=i.p+"d7e8066668f05d83f86a128d7dbd45a2.js"},"44be9":function(e,t,i){e.exports=i.p+"115ab67b3f87b1c843ea1543b9559a72.js"},"44d4":function(e,t,i){e.exports=i.p+"cb1505a51fe14d2d2f563f58622f8d49.js"},"452b":function(e,t,i){e.exports=i.p+"5e9314c1c0d4e5f4cb7a3f80fc01530c.js"},4577:function(e,t,i){e.exports=i.p+"82641ab6d720341c411a8e723c518395.js"},"45c8":function(e,t,i){e.exports=i.p+"34bfb804dde47824b1f3f4292afc3669.js"},"45e0":function(e,t,i){e.exports=i.p+"70490ee4f92bec1a900f840c7bbd0395.js"},"464f":function(e,t,i){e.exports=i.p+"f6cfc0e0566a350632db32ece39b649d.js"},4731:function(e,t,i){e.exports=i.p+"3d4857cb734b986828b117a81f6bf14b.js"},"47b4":function(e,t,i){e.exports=i.p+"02b796b016e850565073adf16d050f8c.js"},4842:function(e,t,i){e.exports=i.p+"f597d643411369a4cef1bfaf6569a66f.js"},4996:function(e,t,i){e.exports=i.p+"2888585c64276b0aa21da59f6a638343.js"},"49cb":function(e,t,i){e.exports=i.p+"7d9d9847be22a3f2e8b44ce7df62160a.js"},"4bdb":function(e,t,i){e.exports=i.p+"2f0a14537d449d02e05ac0d76249c830.js"},"4c27":function(e,t,i){e.exports=i.p+"c1060e957d85467466a8b682be93794a.js"},"4c6d":function(e,t,i){e.exports=i.p+"f8219bf4097e53987f2cab95f8ed2fb9.js"},"4cb5":function(e,t,i){e.exports=i.p+"78ac9df80ff1079a3b9805fdef1346ec.js"},"4d6f":function(e,t,i){e.exports=i.p+"be91b3597e0d3df50a047a48788acb7c.js"},"4e72":function(e,t,i){e.exports=i.p+"d2d3e8d6fe7bb1625674d81075e49626.js"},"4efe":function(e,t,i){e.exports=i.p+"9cf3be7669b89ac4036cd07c9baf7e13.js"},"4f00":function(e,t,i){e.exports=i.p+"861eca236c1025d1fd3bfb61a287e4be.js"},"508b":function(e,t,i){e.exports=i.p+"85f71b723441bcf428b8abed1fc8f56f.js"},"50a9":function(e,t,i){e.exports=i.p+"dcf82c5c24de859d74953010a3bf7f11.js"},"50dd":function(e,t,i){e.exports=i.p+"2b925862cf75380c5db0ea4e9f525eaa.js"},"522f":function(e,t,i){e.exports=i.p+"2839e845bd0cf60f35f3a8ca90a5ee22.js"},5472:function(e,t,i){e.exports=i.p+"50c9c27033a8ed9876273bd72fddceb9.js"},5513:function(e,t,i){e.exports=i.p+"4a4234685007dd9236a440750c1d320e.js"},"55a5":function(e,t,i){e.exports=i.p+"223593fe8dd78b83f22808f9aad86ae9.js"},"55c7":function(e,t,i){e.exports=i.p+"a2eaf5dc54ffb8bccbb62d3acc66dce0.js"},5608:function(e,t,i){e.exports=i.p+"5c301f9efdf5f3d8eacd7be27ee2f1a9.js"},"56e9":function(e,t,i){"use strict";var r=i("08b0"),n=i.n(r);n.a},"59be":function(e,t,i){e.exports=i.p+"aa2f98073a8d9f266f3928b5d9c457d1.js"},"59de":function(e,t,i){e.exports=i.p+"79701bbf8c5436771916d9af708ae8ec.js"},"5a91":function(e,t,i){e.exports=i.p+"509903d9380e0dd525a67a6dfaccd64d.js"},"5b43":function(e,t,i){e.exports=i.p+"9392e8f68c7946a14e10547df6f0dea6.js"},"5c0e":function(e,t,i){e.exports=i.p+"bbba373303ed08ad9d879c910b7d4c52.js"},"5c5c":function(e,t,i){e.exports=i.p+"6527ef1b992fe62b2f4d2530ec2785fb.js"},"5dbf":function(e,t,i){e.exports=i.p+"6e4d1075690c1f17775f02251592ac60.js"},"5f15":function(e,t,i){e.exports=i.p+"edb819e7714a62ebe92b7272942da1fc.js"},"5fe5":function(e,t,i){e.exports=i.p+"88127e8fb8d3737158692480e0fa0187.js"},"60d0":function(e,t,i){e.exports=i.p+"99b756405f919e9022e6a4e3579dd5ee.js"},"614d":function(e,t,i){e.exports=i.p+"f8595ad10c92ed3c62ed9c38354a2985.js"},"61c2":function(e,t,i){"use strict";var r=i("6833"),n=i.n(r);n.a},6222:function(e,t,i){e.exports=i.p+"ad6b56181363cbf96ddaaf6aeaea2a24.js"},"624d":function(e,t,i){e.exports=i.p+"da06d4429e8bccd9ef90b16ebe49354b.js"},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"63df":function(e,t,i){e.exports=i.p+"7a20c8bdb85c767ae2df75239db9d34d.js"},6400:function(e,t,i){e.exports=i.p+"da8ac6d7830bed6f979e63f2622297d6.js"},6451:function(e,t,i){e.exports=i.p+"0b56e82ae05b7ec2022e1cb35b8b6e10.js"},"645c":function(e,t,i){e.exports=i.p+"de581fe10be3ac282fa6abc2f8171551.js"},"64d1":function(e,t,i){e.exports=i.p+"e8250271e7641960341ae2ac170af4ac.js"},"64df":function(e,t,i){e.exports=i.p+"aec5942aac0ba9ffef3afa54ecf3defe.js"},"65d8":function(e,t,i){ace.config.setModuleUrl("ace/ext/beautify",i("6b75")),ace.config.setModuleUrl("ace/ext/elastic_tabstops_lite",i("d68a")),ace.config.setModuleUrl("ace/ext/emmet",i("16c6")),ace.config.setModuleUrl("ace/ext/error_marker",i("8fca")),ace.config.setModuleUrl("ace/ext/keyboard_menu",i("31d9")),ace.config.setModuleUrl("ace/ext/language_tools",i("7fb7")),ace.config.setModuleUrl("ace/ext/linking",i("d6ea")),ace.config.setModuleUrl("ace/ext/modelist",i("a0a9")),ace.config.setModuleUrl("ace/ext/options",i("8674")),ace.config.setModuleUrl("ace/ext/rtl",i("9985")),ace.config.setModuleUrl("ace/ext/searchbox",i("fbe3")),ace.config.setModuleUrl("ace/ext/settings_menu",i("dae7")),ace.config.setModuleUrl("ace/ext/spellcheck",i("ea53")),ace.config.setModuleUrl("ace/ext/split",i("cb86")),ace.config.setModuleUrl("ace/ext/static_highlight",i("f6b3")),ace.config.setModuleUrl("ace/ext/statusbar",i("9bba")),ace.config.setModuleUrl("ace/ext/textarea",i("2e2d")),ace.config.setModuleUrl("ace/ext/themelist",i("deb4")),ace.config.setModuleUrl("ace/ext/whitespace",i("711e")),ace.config.setModuleUrl("ace/keyboard/emacs",i("6a6a")),ace.config.setModuleUrl("ace/keyboard/vim",i("7d66")),ace.config.setModuleUrl("ace/mode/abap",i("2e9f")),ace.config.setModuleUrl("ace/mode/abc",i("e48e")),ace.config.setModuleUrl("ace/mode/actionscript",i("0823")),ace.config.setModuleUrl("ace/mode/ada",i("223c")),ace.config.setModuleUrl("ace/mode/apache_conf",i("645c")),ace.config.setModuleUrl("ace/mode/applescript",i("ebbe")),ace.config.setModuleUrl("ace/mode/asciidoc",i("408d")),ace.config.setModuleUrl("ace/mode/asl",i("8f61")),ace.config.setModuleUrl("ace/mode/assembly_x86",i("2770")),ace.config.setModuleUrl("ace/mode/autohotkey",i("5608")),ace.config.setModuleUrl("ace/mode/batchfile",i("55a5")),ace.config.setModuleUrl("ace/mode/bro",i("6b8e")),ace.config.setModuleUrl("ace/mode/c9search",i("6e91")),ace.config.setModuleUrl("ace/mode/cirru",i("c547")),ace.config.setModuleUrl("ace/mode/clojure",i("f865")),ace.config.setModuleUrl("ace/mode/cobol",i("6db9")),ace.config.setModuleUrl("ace/mode/coffee",i("c09b")),ace.config.setModuleUrl("ace/mode/coldfusion",i("2e9d")),ace.config.setModuleUrl("ace/mode/csharp",i("e437")),ace.config.setModuleUrl("ace/mode/csound_document",i("8051")),ace.config.setModuleUrl("ace/mode/csound_orchestra",i("47b4")),ace.config.setModuleUrl("ace/mode/csound_score",i("c1b8")),ace.config.setModuleUrl("ace/mode/csp",i("aa91")),ace.config.setModuleUrl("ace/mode/css",i("ce62")),ace.config.setModuleUrl("ace/mode/curly",i("f238")),ace.config.setModuleUrl("ace/mode/c_cpp",i("6222")),ace.config.setModuleUrl("ace/mode/d",i("1f06")),ace.config.setModuleUrl("ace/mode/dart",i("f158")),ace.config.setModuleUrl("ace/mode/diff",i("64df")),ace.config.setModuleUrl("ace/mode/django",i("67bd")),ace.config.setModuleUrl("ace/mode/dockerfile",i("8cc3")),ace.config.setModuleUrl("ace/mode/dot",i("508b")),ace.config.setModuleUrl("ace/mode/drools",i("9330")),ace.config.setModuleUrl("ace/mode/edifact",i("fa7c")),ace.config.setModuleUrl("ace/mode/eiffel",i("82be")),ace.config.setModuleUrl("ace/mode/ejs",i("b2be")),ace.config.setModuleUrl("ace/mode/elixir",i("624d")),ace.config.setModuleUrl("ace/mode/elm",i("e636")),ace.config.setModuleUrl("ace/mode/erlang",i("f51f")),ace.config.setModuleUrl("ace/mode/forth",i("c201")),ace.config.setModuleUrl("ace/mode/fortran",i("8433")),ace.config.setModuleUrl("ace/mode/fsharp",i("ecaf")),ace.config.setModuleUrl("ace/mode/ftl",i("522f")),ace.config.setModuleUrl("ace/mode/gcode",i("8160")),ace.config.setModuleUrl("ace/mode/gherkin",i("8c4c")),ace.config.setModuleUrl("ace/mode/gitignore",i("7404")),ace.config.setModuleUrl("ace/mode/glsl",i("8534")),ace.config.setModuleUrl("ace/mode/gobstones",i("f5a8")),ace.config.setModuleUrl("ace/mode/golang",i("3802")),ace.config.setModuleUrl("ace/mode/graphqlschema",i("5c5c")),ace.config.setModuleUrl("ace/mode/groovy",i("42f0")),ace.config.setModuleUrl("ace/mode/haml",i("dde4")),ace.config.setModuleUrl("ace/mode/handlebars",i("ca62")),ace.config.setModuleUrl("ace/mode/haskell",i("4c27")),ace.config.setModuleUrl("ace/mode/haskell_cabal",i("76b7")),ace.config.setModuleUrl("ace/mode/haxe",i("a39b")),ace.config.setModuleUrl("ace/mode/hjson",i("8637")),ace.config.setModuleUrl("ace/mode/html",i("09dc")),ace.config.setModuleUrl("ace/mode/html_elixir",i("6609")),ace.config.setModuleUrl("ace/mode/html_ruby",i("821a")),ace.config.setModuleUrl("ace/mode/ini",i("7f40")),ace.config.setModuleUrl("ace/mode/io",i("73fc")),ace.config.setModuleUrl("ace/mode/jack",i("d9a1")),ace.config.setModuleUrl("ace/mode/jade",i("1385")),ace.config.setModuleUrl("ace/mode/java",i("6615")),ace.config.setModuleUrl("ace/mode/javascript",i("ffa8")),ace.config.setModuleUrl("ace/mode/json",i("1584")),ace.config.setModuleUrl("ace/mode/jsoniq",i("d37b")),ace.config.setModuleUrl("ace/mode/jsp",i("ca8c")),ace.config.setModuleUrl("ace/mode/jssm",i("0678")),ace.config.setModuleUrl("ace/mode/jsx",i("59de")),ace.config.setModuleUrl("ace/mode/julia",i("0b74")),ace.config.setModuleUrl("ace/mode/kotlin",i("5f15")),ace.config.setModuleUrl("ace/mode/latex",i("6b80")),ace.config.setModuleUrl("ace/mode/less",i("d84e")),ace.config.setModuleUrl("ace/mode/liquid",i("ab26")),ace.config.setModuleUrl("ace/mode/lisp",i("f9fe")),ace.config.setModuleUrl("ace/mode/livescript",i("fe63")),ace.config.setModuleUrl("ace/mode/logiql",i("d454")),ace.config.setModuleUrl("ace/mode/lsl",i("ee39")),ace.config.setModuleUrl("ace/mode/lua",i("e4e9")),ace.config.setModuleUrl("ace/mode/luapage",i("55c7")),ace.config.setModuleUrl("ace/mode/lucene",i("81ad")),ace.config.setModuleUrl("ace/mode/makefile",i("f386")),ace.config.setModuleUrl("ace/mode/markdown",i("07e0")),ace.config.setModuleUrl("ace/mode/mask",i("d442")),ace.config.setModuleUrl("ace/mode/matlab",i("1496")),ace.config.setModuleUrl("ace/mode/maze",i("e94f")),ace.config.setModuleUrl("ace/mode/mel",i("dac3")),ace.config.setModuleUrl("ace/mode/mixal",i("60d0")),ace.config.setModuleUrl("ace/mode/mushcode",i("e8f9")),ace.config.setModuleUrl("ace/mode/mysql",i("4efe")),ace.config.setModuleUrl("ace/mode/nix",i("4d6f")),ace.config.setModuleUrl("ace/mode/nsis",i("3ddc")),ace.config.setModuleUrl("ace/mode/objectivec",i("6ba8")),ace.config.setModuleUrl("ace/mode/ocaml",i("320b")),ace.config.setModuleUrl("ace/mode/pascal",i("a34c")),ace.config.setModuleUrl("ace/mode/perl",i("76e4")),ace.config.setModuleUrl("ace/mode/pgsql",i("005e")),ace.config.setModuleUrl("ace/mode/php",i("5472")),ace.config.setModuleUrl("ace/mode/php_laravel_blade",i("9f2e")),ace.config.setModuleUrl("ace/mode/pig",i("d380")),ace.config.setModuleUrl("ace/mode/plain_text",i("7c24")),ace.config.setModuleUrl("ace/mode/powershell",i("90d3")),ace.config.setModuleUrl("ace/mode/praat",i("e476")),ace.config.setModuleUrl("ace/mode/prolog",i("9b6b")),ace.config.setModuleUrl("ace/mode/properties",i("06ce")),ace.config.setModuleUrl("ace/mode/protobuf",i("6daa")),ace.config.setModuleUrl("ace/mode/puppet",i("9d22")),ace.config.setModuleUrl("ace/mode/python",i("96e8")),ace.config.setModuleUrl("ace/mode/r",i("5a91")),ace.config.setModuleUrl("ace/mode/razor",i("63df")),ace.config.setModuleUrl("ace/mode/rdoc",i("bdf3")),ace.config.setModuleUrl("ace/mode/red",i("8e4d")),ace.config.setModuleUrl("ace/mode/redshift",i("b7d3")),ace.config.setModuleUrl("ace/mode/rhtml",i("1e9e")),ace.config.setModuleUrl("ace/mode/rst",i("177b")),ace.config.setModuleUrl("ace/mode/ruby",i("30dd")),ace.config.setModuleUrl("ace/mode/rust",i("c705")),ace.config.setModuleUrl("ace/mode/sass",i("a285")),ace.config.setModuleUrl("ace/mode/scad",i("3143")),ace.config.setModuleUrl("ace/mode/scala",i("49cb")),ace.config.setModuleUrl("ace/mode/scheme",i("ecdc")),ace.config.setModuleUrl("ace/mode/scss",i("dbdbe")),ace.config.setModuleUrl("ace/mode/sh",i("8b06")),ace.config.setModuleUrl("ace/mode/sjs",i("f0f9")),ace.config.setModuleUrl("ace/mode/slim",i("a0cd")),ace.config.setModuleUrl("ace/mode/smarty",i("7a3e")),ace.config.setModuleUrl("ace/mode/snippets",i("6400")),ace.config.setModuleUrl("ace/mode/soy_template",i("0552")),ace.config.setModuleUrl("ace/mode/space",i("452b")),ace.config.setModuleUrl("ace/mode/sparql",i("b4b8")),ace.config.setModuleUrl("ace/mode/sql",i("44d4")),ace.config.setModuleUrl("ace/mode/sqlserver",i("bea1")),ace.config.setModuleUrl("ace/mode/stylus",i("6451")),ace.config.setModuleUrl("ace/mode/svg",i("3096")),ace.config.setModuleUrl("ace/mode/swift",i("9ea2")),ace.config.setModuleUrl("ace/mode/tcl",i("5fe5")),ace.config.setModuleUrl("ace/mode/terraform",i("cbb0")),ace.config.setModuleUrl("ace/mode/tex",i("ba80")),ace.config.setModuleUrl("ace/mode/text",i("39c3")),ace.config.setModuleUrl("ace/mode/textile",i("02be")),ace.config.setModuleUrl("ace/mode/toml",i("189f")),ace.config.setModuleUrl("ace/mode/tsx",i("4996")),ace.config.setModuleUrl("ace/mode/turtle",i("247c")),ace.config.setModuleUrl("ace/mode/twig",i("d70b")),ace.config.setModuleUrl("ace/mode/typescript",i("8616")),ace.config.setModuleUrl("ace/mode/vala",i("614d")),ace.config.setModuleUrl("ace/mode/vbscript",i("dcf9")),ace.config.setModuleUrl("ace/mode/velocity",i("a160")),ace.config.setModuleUrl("ace/mode/verilog",i("e131")),ace.config.setModuleUrl("ace/mode/vhdl",i("e7bf")),ace.config.setModuleUrl("ace/mode/wollok",i("34e8")),ace.config.setModuleUrl("ace/mode/xml",i("efb9")),ace.config.setModuleUrl("ace/mode/xquery",i("d235")),ace.config.setModuleUrl("ace/mode/yaml",i("1614")),ace.config.setModuleUrl("ace/theme/ambiance",i("b7bf")),ace.config.setModuleUrl("ace/theme/chaos",i("4bdb")),ace.config.setModuleUrl("ace/theme/chrome",i("dd6e")),ace.config.setModuleUrl("ace/theme/clouds",i("29db")),ace.config.setModuleUrl("ace/theme/clouds_midnight",i("0252")),ace.config.setModuleUrl("ace/theme/cobalt",i("060d")),ace.config.setModuleUrl("ace/theme/crimson_editor",i("dc44")),ace.config.setModuleUrl("ace/theme/dawn",i("0806")),ace.config.setModuleUrl("ace/theme/dracula",i("464f")),ace.config.setModuleUrl("ace/theme/dreamweaver",i("3d1f")),ace.config.setModuleUrl("ace/theme/eclipse",i("b39c")),ace.config.setModuleUrl("ace/theme/github",i("3fb7")),ace.config.setModuleUrl("ace/theme/gob",i("1cb3")),ace.config.setModuleUrl("ace/theme/gruvbox",i("942c")),ace.config.setModuleUrl("ace/theme/idle_fingers",i("75cf")),ace.config.setModuleUrl("ace/theme/iplastic",i("8f76")),ace.config.setModuleUrl("ace/theme/katzenmilch",i("22ac")),ace.config.setModuleUrl("ace/theme/kr_theme",i("6997")),ace.config.setModuleUrl("ace/theme/kuroir",i("899f")),ace.config.setModuleUrl("ace/theme/merbivore",i("3763")),ace.config.setModuleUrl("ace/theme/merbivore_soft",i("f8a9")),ace.config.setModuleUrl("ace/theme/monokai",i("720d")),ace.config.setModuleUrl("ace/theme/mono_industrial",i("44be")),ace.config.setModuleUrl("ace/theme/pastel_on_dark",i("50a9")),ace.config.setModuleUrl("ace/theme/solarized_dark",i("b28c")),ace.config.setModuleUrl("ace/theme/solarized_light",i("9a21")),ace.config.setModuleUrl("ace/theme/sqlserver",i("efe9")),ace.config.setModuleUrl("ace/theme/terminal",i("bef1")),ace.config.setModuleUrl("ace/theme/textmate",i("f369")),ace.config.setModuleUrl("ace/theme/tomorrow",i("c665")),ace.config.setModuleUrl("ace/theme/tomorrow_night",i("c662")),ace.config.setModuleUrl("ace/theme/tomorrow_night_blue",i("3a47")),ace.config.setModuleUrl("ace/theme/tomorrow_night_bright",i("2ac7")),ace.config.setModuleUrl("ace/theme/tomorrow_night_eighties",i("a6f9")),ace.config.setModuleUrl("ace/theme/twilight",i("21de")),ace.config.setModuleUrl("ace/theme/vibrant_ink",i("1cea")),ace.config.setModuleUrl("ace/theme/xcode",i("30d0")),ace.config.setModuleUrl("ace/mode/coffee_worker",i("a4c5")),ace.config.setModuleUrl("ace/mode/css_worker",i("de84")),ace.config.setModuleUrl("ace/mode/html_worker",i("2c5e")),ace.config.setModuleUrl("ace/mode/javascript_worker",i("b030")),ace.config.setModuleUrl("ace/mode/json_worker",i("7466")),ace.config.setModuleUrl("ace/mode/lua_worker",i("23f6")),ace.config.setModuleUrl("ace/mode/php_worker",i("09d7")),ace.config.setModuleUrl("ace/mode/xml_worker",i("7832")),ace.config.setModuleUrl("ace/mode/xquery_worker",i("957d")),ace.config.setModuleUrl("ace/snippets/abap",i("e608")),ace.config.setModuleUrl("ace/snippets/abc",i("d175")),ace.config.setModuleUrl("ace/snippets/actionscript",i("aff3")),ace.config.setModuleUrl("ace/snippets/ada",i("9085")),ace.config.setModuleUrl("ace/snippets/apache_conf",i("6ac5")),ace.config.setModuleUrl("ace/snippets/applescript",i("fec3")),ace.config.setModuleUrl("ace/snippets/asciidoc",i("c1e5")),ace.config.setModuleUrl("ace/snippets/asl",i("af63")),ace.config.setModuleUrl("ace/snippets/assembly_x86",i("f18b")),ace.config.setModuleUrl("ace/snippets/autohotkey",i("7d3a")),ace.config.setModuleUrl("ace/snippets/batchfile",i("4f00")),ace.config.setModuleUrl("ace/snippets/bro",i("d56c")),ace.config.setModuleUrl("ace/snippets/c9search",i("4577")),ace.config.setModuleUrl("ace/snippets/cirru",i("c544")),ace.config.setModuleUrl("ace/snippets/clojure",i("3829")),ace.config.setModuleUrl("ace/snippets/cobol",i("9f21")),ace.config.setModuleUrl("ace/snippets/coffee",i("bc2c")),ace.config.setModuleUrl("ace/snippets/coldfusion",i("f85c")),ace.config.setModuleUrl("ace/snippets/csharp",i("026f")),ace.config.setModuleUrl("ace/snippets/csound_document",i("c932")),ace.config.setModuleUrl("ace/snippets/csound_orchestra",i("4029")),ace.config.setModuleUrl("ace/snippets/csound_score",i("e352")),ace.config.setModuleUrl("ace/snippets/csp",i("80f5")),ace.config.setModuleUrl("ace/snippets/css",i("7e23")),ace.config.setModuleUrl("ace/snippets/curly",i("2d5e")),ace.config.setModuleUrl("ace/snippets/c_cpp",i("ea97")),ace.config.setModuleUrl("ace/snippets/d",i("7872")),ace.config.setModuleUrl("ace/snippets/dart",i("64d1")),ace.config.setModuleUrl("ace/snippets/diff",i("7164")),ace.config.setModuleUrl("ace/snippets/django",i("c5f7")),ace.config.setModuleUrl("ace/snippets/dockerfile",i("04de")),ace.config.setModuleUrl("ace/snippets/dot",i("7637")),ace.config.setModuleUrl("ace/snippets/drools",i("1a29")),ace.config.setModuleUrl("ace/snippets/edifact",i("ada6")),ace.config.setModuleUrl("ace/snippets/eiffel",i("eda7")),ace.config.setModuleUrl("ace/snippets/ejs",i("044a")),ace.config.setModuleUrl("ace/snippets/elixir",i("a74a")),ace.config.setModuleUrl("ace/snippets/elm",i("db75")),ace.config.setModuleUrl("ace/snippets/erlang",i("92bd")),ace.config.setModuleUrl("ace/snippets/forth",i("681c")),ace.config.setModuleUrl("ace/snippets/fortran",i("4c6d")),ace.config.setModuleUrl("ace/snippets/fsharp",i("4e72")),ace.config.setModuleUrl("ace/snippets/ftl",i("d9df")),ace.config.setModuleUrl("ace/snippets/gcode",i("3a37")),ace.config.setModuleUrl("ace/snippets/gherkin",i("1dc8")),ace.config.setModuleUrl("ace/snippets/gitignore",i("71cf")),ace.config.setModuleUrl("ace/snippets/glsl",i("5b43")),ace.config.setModuleUrl("ace/snippets/gobstones",i("4842")),ace.config.setModuleUrl("ace/snippets/golang",i("7d5e")),ace.config.setModuleUrl("ace/snippets/graphqlschema",i("97cc")),ace.config.setModuleUrl("ace/snippets/groovy",i("84b9")),ace.config.setModuleUrl("ace/snippets/haml",i("277b")),ace.config.setModuleUrl("ace/snippets/handlebars",i("0b17")),ace.config.setModuleUrl("ace/snippets/haskell",i("2849")),ace.config.setModuleUrl("ace/snippets/haskell_cabal",i("b636")),ace.config.setModuleUrl("ace/snippets/haxe",i("cbc2")),ace.config.setModuleUrl("ace/snippets/hjson",i("c303")),ace.config.setModuleUrl("ace/snippets/html",i("c499")),ace.config.setModuleUrl("ace/snippets/html_elixir",i("a74ad")),ace.config.setModuleUrl("ace/snippets/html_ruby",i("fb47")),ace.config.setModuleUrl("ace/snippets/ini",i("38d0")),ace.config.setModuleUrl("ace/snippets/io",i("08bb")),ace.config.setModuleUrl("ace/snippets/jack",i("8dda")),ace.config.setModuleUrl("ace/snippets/jade",i("5513")),ace.config.setModuleUrl("ace/snippets/java",i("8ad0")),ace.config.setModuleUrl("ace/snippets/javascript",i("3d0f")),ace.config.setModuleUrl("ace/snippets/json",i("1c4e")),ace.config.setModuleUrl("ace/snippets/jsoniq",i("1b62")),ace.config.setModuleUrl("ace/snippets/jsp",i("5dbf")),ace.config.setModuleUrl("ace/snippets/jssm",i("9106")),ace.config.setModuleUrl("ace/snippets/jsx",i("9027")),ace.config.setModuleUrl("ace/snippets/julia",i("292c")),ace.config.setModuleUrl("ace/snippets/kotlin",i("7a0e")),ace.config.setModuleUrl("ace/snippets/latex",i("8698")),ace.config.setModuleUrl("ace/snippets/less",i("ffed")),ace.config.setModuleUrl("ace/snippets/liquid",i("c6bb")),ace.config.setModuleUrl("ace/snippets/lisp",i("1920")),ace.config.setModuleUrl("ace/snippets/livescript",i("50dd")),ace.config.setModuleUrl("ace/snippets/logiql",i("45e0")),ace.config.setModuleUrl("ace/snippets/lsl",i("9656")),ace.config.setModuleUrl("ace/snippets/lua",i("59be")),ace.config.setModuleUrl("ace/snippets/luapage",i("45c8")),ace.config.setModuleUrl("ace/snippets/lucene",i("af17")),ace.config.setModuleUrl("ace/snippets/makefile",i("d078")),ace.config.setModuleUrl("ace/snippets/markdown",i("f56d")),ace.config.setModuleUrl("ace/snippets/mask",i("f8d0")),ace.config.setModuleUrl("ace/snippets/matlab",i("cdf0")),ace.config.setModuleUrl("ace/snippets/maze",i("e402")),ace.config.setModuleUrl("ace/snippets/mel",i("05e3")),ace.config.setModuleUrl("ace/snippets/mixal",i("30bc")),ace.config.setModuleUrl("ace/snippets/mushcode",i("6c5b")),ace.config.setModuleUrl("ace/snippets/mysql",i("44be9")),ace.config.setModuleUrl("ace/snippets/nix",i("9f57")),ace.config.setModuleUrl("ace/snippets/nsis",i("2799")),ace.config.setModuleUrl("ace/snippets/objectivec",i("2ebc")),ace.config.setModuleUrl("ace/snippets/ocaml",i("decb")),ace.config.setModuleUrl("ace/snippets/pascal",i("82eb")),ace.config.setModuleUrl("ace/snippets/perl",i("9c66")),ace.config.setModuleUrl("ace/snippets/pgsql",i("0438")),ace.config.setModuleUrl("ace/snippets/php",i("edc5")),ace.config.setModuleUrl("ace/snippets/php_laravel_blade",i("ee4d")),ace.config.setModuleUrl("ace/snippets/pig",i("6efd")),ace.config.setModuleUrl("ace/snippets/plain_text",i("4cb5")),ace.config.setModuleUrl("ace/snippets/powershell",i("0a96")),ace.config.setModuleUrl("ace/snippets/praat",i("00b4")),ace.config.setModuleUrl("ace/snippets/prolog",i("7fec")),ace.config.setModuleUrl("ace/snippets/properties",i("9c25")),ace.config.setModuleUrl("ace/snippets/protobuf",i("5c0e")),ace.config.setModuleUrl("ace/snippets/puppet",i("bd40")),ace.config.setModuleUrl("ace/snippets/python",i("8273")),ace.config.setModuleUrl("ace/snippets/r",i("336b")),ace.config.setModuleUrl("ace/snippets/razor",i("f5b4")),ace.config.setModuleUrl("ace/snippets/rdoc",i("aafc")),ace.config.setModuleUrl("ace/snippets/red",i("0acd")),ace.config.setModuleUrl("ace/snippets/redshift",i("dc9a")),ace.config.setModuleUrl("ace/snippets/rhtml",i("cba9")),ace.config.setModuleUrl("ace/snippets/rst",i("fb7c")),ace.config.setModuleUrl("ace/snippets/ruby",i("3623")),ace.config.setModuleUrl("ace/snippets/rust",i("82ca")),ace.config.setModuleUrl("ace/snippets/sass",i("8dc4")),ace.config.setModuleUrl("ace/snippets/scad",i("c28a")),ace.config.setModuleUrl("ace/snippets/scala",i("eb31")),ace.config.setModuleUrl("ace/snippets/scheme",i("80c7")),ace.config.setModuleUrl("ace/snippets/scss",i("ee9b")),ace.config.setModuleUrl("ace/snippets/sh",i("fbb9")),ace.config.setModuleUrl("ace/snippets/sjs",i("87b0")),ace.config.setModuleUrl("ace/snippets/slim",i("285b")),ace.config.setModuleUrl("ace/snippets/smarty",i("b627")),ace.config.setModuleUrl("ace/snippets/snippets",i("f2f9")),ace.config.setModuleUrl("ace/snippets/soy_template",i("4731")),ace.config.setModuleUrl("ace/snippets/space",i("6a54")),ace.config.setModuleUrl("ace/snippets/sparql",i("bb19")),ace.config.setModuleUrl("ace/snippets/sql",i("77d9")),ace.config.setModuleUrl("ace/snippets/sqlserver",i("ccba")),ace.config.setModuleUrl("ace/snippets/stylus",i("edd8")),ace.config.setModuleUrl("ace/snippets/svg",i("cf4c")),ace.config.setModuleUrl("ace/snippets/swift",i("fd05")),ace.config.setModuleUrl("ace/snippets/tcl",i("302b")),ace.config.setModuleUrl("ace/snippets/terraform",i("c079")),ace.config.setModuleUrl("ace/snippets/tex",i("11e4")),ace.config.setModuleUrl("ace/snippets/text",i("c428")),ace.config.setModuleUrl("ace/snippets/textile",i("013e")),ace.config.setModuleUrl("ace/snippets/toml",i("ea8d")),ace.config.setModuleUrl("ace/snippets/tsx",i("8ac6")),ace.config.setModuleUrl("ace/snippets/turtle",i("4443")),ace.config.setModuleUrl("ace/snippets/twig",i("f07a")),ace.config.setModuleUrl("ace/snippets/typescript",i("2f57")),ace.config.setModuleUrl("ace/snippets/vala",i("a2d0")),ace.config.setModuleUrl("ace/snippets/vbscript",i("2aaa")),ace.config.setModuleUrl("ace/snippets/velocity",i("8754")),ace.config.setModuleUrl("ace/snippets/verilog",i("9dc0")),ace.config.setModuleUrl("ace/snippets/vhdl",i("7611")),ace.config.setModuleUrl("ace/snippets/wollok",i("6969")),ace.config.setModuleUrl("ace/snippets/xml",i("bc8f")),ace.config.setModuleUrl("ace/snippets/xquery",i("f45c")),ace.config.setModuleUrl("ace/snippets/yaml",i("e9a6"))},6609:function(e,t,i){e.exports=i.p+"ab681d1130e1b9a6dc7a3ffecb397008.js"},6615:function(e,t,i){e.exports=i.p+"abd6f315c01614802df5303aba7a8d0d.js"},6762:function(e,t,i){"use strict";var r=i("5ca1"),n=i("c366")(!0);r(r.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},"67bd":function(e,t,i){e.exports=i.p+"db09b44a6520e4127e3ad04cafcf46ba.js"},"681c":function(e,t,i){e.exports=i.p+"279a6baa1089231c58d050c4c4182590.js"},6833:function(e,t,i){},6969:function(e,t,i){e.exports=i.p+"acc4ded8b9debce27f884c9cce5bf63c.js"},6997:function(e,t,i){e.exports=i.p+"a5cd4d965591278c0519bdfa761ea3aa.js"},"6a54":function(e,t,i){e.exports=i.p+"e98622ae0885350f586d342baeb8bb72.js"},"6a6a":function(e,t,i){e.exports=i.p+"54c1516151cd1ce002bc8140484185c3.js"},"6ac5":function(e,t,i){e.exports=i.p+"b72b274cae51085e3d09f54fbfa6c20c.js"},"6b75":function(e,t,i){e.exports=i.p+"0925adb74dc871a2f4e654a6fc28485c.js"},"6b80":function(e,t,i){e.exports=i.p+"f52e2798c3b260592cf35f3a20958d87.js"},"6b8e":function(e,t,i){e.exports=i.p+"61dc94007930f92b3c27ff68d448b4f3.js"},"6ba8":function(e,t,i){e.exports=i.p+"8468b2aa5fbe665b49784c30b4a908f7.js"},"6c5b":function(e,t,i){e.exports=i.p+"79f59a5fa9dc76c6f39b2e59cc629aa9.js"},"6d4f":function(e,t,i){(function(e){(function(){var e="ace",t=function(){return this}();if(t||"undefined"==typeof window||(t=window),e||"undefined"===typeof requirejs){var i=function(e,t,r){"string"===typeof e?(2==arguments.length&&(r=t),i.modules[e]||(i.payloads[e]=r,i.modules[e]=null)):i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};i.modules={},i.payloads={};var r=function(e,t,i){if("string"===typeof t){var r=s(e,t);if(void 0!=r)return i&&i(),r}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,c=t.length;a<c;++a){var l=s(e,t[a]);if(void 0==l&&n.original)return;o.push(l)}return i&&i.apply(null,o)||!0}},n=function(e,t){var i=r("",e,t);return void 0==i&&n.original?n.original.apply(this,arguments):i},o=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return o(e,i[0])+"!"+o(e,i[1])}if("."==t.charAt(0)){var r=e.split("/").slice(0,-1).join("/");t=r+"/"+t;while(-1!==t.indexOf(".")&&n!=t){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=o(e,t);var n=i.modules[t];if(!n){if(n=i.payloads[t],"function"===typeof n){var s={},a={id:t,uri:"",exports:s,packaged:!0},c=function(e,i){return r(t,e,i)},l=n(c,s,a);s=l||a.exports,i.modules[t]=s,delete i.payloads[t]}n=i.modules[t]=s||n}return n};a(e)}function a(e){var r=t;e&&(t[e]||(t[e]={}),r=t[e]),r.define&&r.define.packaged||(i.original=r.define,r.define=i,r.define.packaged=!0),r.require&&r.require.packaged||(n.original=r.require,r.require=n,r.require.packaged=!0)}})(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,i){"use strict";var r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},n=void 0===r.exec.call(/()??/,"")[1],o=function(){var e=/^/g;return r.test.call(e,""),!e.lastIndex}();function s(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function a(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var r=i||0;r<e.length;r++)if(e[r]===t)return r;return-1}o&&n||(RegExp.prototype.exec=function(e){var t,i,c=r.exec.apply(this,arguments);if("string"==typeof e&&c){if(!n&&c.length>1&&a(c,"")>-1&&(i=RegExp(this.source,r.replace.call(s(this),"g","")),r.replace.call(e.slice(c.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(c[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var l=1;l<c.length;l++)t=this._xregexp.captureNames[l-1],t&&(c[t]=c[l]);!o&&this.global&&!c[0].length&&this.lastIndex>c.index&&this.lastIndex--}return c},o||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,i){function r(){}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var i=d.call(arguments,1),n=function(){if(this instanceof n){var r=t.apply(this,i.concat(d.call(arguments)));return Object(r)===r?r:this}return t.apply(e,i.concat(d.call(arguments)))};return t.prototype&&(r.prototype=t.prototype,n.prototype=new r,r.prototype=null),n});var n,o,s,a,c,l=Function.prototype.call,h=Array.prototype,u=Object.prototype,d=h.slice,f=l.bind(u.toString),p=l.bind(u.hasOwnProperty);if((c=p(u,"__defineGetter__"))&&(n=l.bind(u.__defineGetter__),o=l.bind(u.__defineSetter__),s=l.bind(u.__lookupGetter__),a=l.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,i=[];if(i.splice.apply(i,e(20)),i.splice.apply(i,e(26)),t=i.length,i.splice(5,0,"XXX"),i.length,t+1==i.length)return!0}()){var g=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?g.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var i=this.length;e>0?e>i&&(e=i):void 0==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var r=this.slice(e,e+t),n=d.call(arguments,2),o=n.length;if(e===i)o&&this.push.apply(this,n);else{var s=Math.min(t,i-e),a=e+s,c=a+o-s,l=i-a,h=i-s;if(c<a)for(var u=0;u<l;++u)this[c+u]=this[a+u];else if(c>a)for(u=l;u--;)this[c+u]=this[a+u];if(o&&e===h)this.length=h,this.push.apply(this,n);else for(this.length=h+o,u=0;u<o;++u)this[e+u]=n[u]}return r};Array.isArray||(Array.isArray=function(e){return"[object Array]"==f(e)});var m,v=Object("a"),y="a"!=v[0]||!(0 in v);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=P(this),i=y&&"[object String]"==f(this)?this.split(""):t,r=arguments[1],n=-1,o=i.length>>>0;if("[object Function]"!=f(e))throw new TypeError;while(++n<o)n in i&&e.call(r,i[n],n,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=P(this),i=y&&"[object String]"==f(this)?this.split(""):t,r=i.length>>>0,n=Array(r),o=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var s=0;s<r;s++)s in i&&(n[s]=e.call(o,i[s],s,t));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=P(this),r=y&&"[object String]"==f(this)?this.split(""):i,n=r.length>>>0,o=[],s=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var a=0;a<n;a++)a in r&&(t=r[a],e.call(s,t,a,i)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=P(this),i=y&&"[object String]"==f(this)?this.split(""):t,r=i.length>>>0,n=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=P(this),i=y&&"[object String]"==f(this)?this.split(""):t,r=i.length>>>0,n=arguments[1];if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");for(var o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=P(this),i=y&&"[object String]"==f(this)?this.split(""):t,r=i.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var n,o=0;if(arguments.length>=2)n=arguments[1];else do{if(o in i){n=i[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}while(1);for(;o<r;o++)o in i&&(n=e.call(void 0,n,i[o],o,t));return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=P(this),i=y&&"[object String]"==f(this)?this.split(""):t,r=i.length>>>0;if("[object Function]"!=f(e))throw new TypeError(e+" is not a function");if(!r&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var n,o=r-1;if(arguments.length>=2)n=arguments[1];else do{if(o in i){n=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(1);do{o in this&&(n=e.call(void 0,n,i[o],o,t))}while(o--);return n}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=y&&"[object String]"==f(this)?this.split(""):P(this),i=t.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=U(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in t&&t[r]===e)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=y&&"[object String]"==f(this)?this.split(""):P(this),i=t.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,U(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in t&&e===t[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){var b="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(b+e);if(p(e,t)){var i;if(i={enumerable:!0,configurable:!0},c){var r=e.__proto__;e.__proto__=u;var n=s(e,t),o=a(e,t);if(e.__proto__=r,n||o)return n&&(i.get=n),o&&(i.set=o),i}return i.value=e[t],i}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(m=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var i;if(null===e)i=m();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,i=new r,i.__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i});function w(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(t){}}if(Object.defineProperty){var x=w({}),_="undefined"==typeof document||w(document.createElement("div"));if(!x||!_)var S=Object.defineProperty}if(!Object.defineProperty||S){var C="Property description must be an object: ",M="Object.defineProperty called on non-object: ",T="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(M+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(C+i);if(S)try{return S.call(Object,e,t,i)}catch(l){}if(p(i,"value"))if(c&&(s(e,t)||a(e,t))){var r=e.__proto__;e.__proto__=u,delete e[t],e[t]=i.value,e.__proto__=r}else e[t]=i.value;else{if(!c)throw new TypeError(T);p(i,"get")&&n(e,t,i.get),p(i,"set")&&o(e,t,i.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)p(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(O){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;var t="";while(p(e,t))t+="?";e[t]=!0;var i=p(e,t);return delete e[t],i}),!Object.keys){var R=!0,E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],k=E.length;for(var L in{toString:null})R=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var i in e)p(e,i)&&t.push(i);if(R)for(var r=0,n=k;r<n;r++){var o=E[r];p(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var A="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||A.trim()){A="["+A+"]";var $=new RegExp("^"+A+A+"*"),I=new RegExp(A+A+"*$");String.prototype.trim=function(){return String(this).replace($,"").replace(I,"")}}function U(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}var P=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,i){"use strict";e("./regexp"),e("./es5-shim"),"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var r=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),n=navigator.userAgent;t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((n.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((n.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=n.match(/ Gecko\/\d+/),t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(n.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(n.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(n.split(" Edge/")[1])||void 0,t.isAIR=n.indexOf("AdobeAIR")>=0,t.isIPad=n.indexOf("iPad")>=0,t.isAndroid=n.indexOf("Android")>=0,t.isChromeOS=n.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(n)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIPad||t.isAndroid}}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("./useragent"),n="http://www.w3.org/1999/xhtml";if(t.buildDom=function e(t,i,r){if("string"==typeof t&&t){var n=document.createTextNode(t);return i&&i.appendChild(n),n}if(!Array.isArray(t))return t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],i,r);a&&o.push(a)}return o}var c=document.createElement(t[0]),l=t[1],h=1;l&&"object"==typeof l&&!Array.isArray(l)&&(h=2);for(s=h;s<t.length;s++)e(t[s],c,r);return 2==h&&Object.keys(l).forEach(function(e){var t=l[e];"class"===e?c.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e?c[e]=t:"ref"===e?r&&(r[t]=c):null!=t&&c.setAttribute(e,t)}),i&&i.appendChild(c),c},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){var i=t?t.ownerDocument:document;return i.createTextNode(e)},t.createFragment=function(e){var t=e?e.ownerDocument:document;return t.createDocumentFragment()},t.hasCssClass=function(e,t){var i=(e.className+"").split(/\s+/g);return-1!==i.indexOf(t)},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i)},t.removeCssClass=function(e,t){var i=e.className.split(/\s+/g);while(1){var r=i.indexOf(t);if(-1==r)break;i.splice(r,1)}e.className=i.join(" ")},t.toggleCssClass=function(e,t){var i=e.className.split(/\s+/g),r=!0;while(1){var n=i.indexOf(t);if(-1==n)break;r=!1,i.splice(n,1)}return r&&i.push(t),e.className=i.join(" "),r},t.setCssClass=function(e,i,r){r?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,r=0;if(t=t||document,i=t.querySelectorAll("style"))while(r<i.length)if(i[r++].id===e)return!0},t.importCssString=function(e,i,r){var n=r;r&&r.getRootNode?(n=r.getRootNode(),n&&n!=r||(n=document)):n=document;var o=n.ownerDocument||n;if(i&&t.hasCssString(i,n))return null;i&&(e+="\n/*# sourceURL=ace/css/"+i+" */");var s=t.createElement("style");s.appendChild(o.createTextNode(e)),i&&(s.id=i),n==o&&(n=t.getDocumentHead(o)),n.insertBefore(s,n.firstChild)},t.importCssStylsheet=function(e,i){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(i))},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var r=t.createElement("ace_outer"),n=r.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",n.display="block",r.appendChild(i);var o=e.documentElement;o.appendChild(r);var s=i.offsetWidth;n.overflow="scroll";var a=i.offsetWidth;return s==a&&(a=r.clientWidth),o.removeChild(r),s-a},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,"undefined"!==typeof document){var o=document.createElement("div");t.HI_DPI&&void 0!==o.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||"undefined"===typeof o.style.animationName||(t.HAS_CSS_ANIMATION=!0),o=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,i){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:t.translate=function(e,t,i){e.style.top=Math.round(i)+"px",e.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,i){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,i){"use strict";var r=e("./oop"),n=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return r.mixin(i,i.MODIFIER_KEYS),r.mixin(i,i.PRINTABLE_KEYS),r.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();r.mixin(t,n),t.keyCodeToString=function(e){var t=n[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("./keys"),n=e("./useragent"),o=null,s=0;t.addListener=function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent){var r=function(){i.call(e,window.event)};i._wrapper=r,e.attachEvent("on"+t,r)}},t.removeListener=function(e,t,i){if(e.removeEventListener)return e.removeEventListener(t,i,!1);e.detachEvent&&e.detachEvent("on"+t,i._wrapper||i)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||n.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,i,r){function n(e){i&&i(e),r&&r(e),t.removeListener(document,"mousemove",i,!0),t.removeListener(document,"mouseup",n,!0),t.removeListener(document,"dragstart",n,!0)}return t.addListener(document,"mousemove",i,!0),t.addListener(document,"mouseup",n,!0),t.addListener(document,"dragstart",n,!0),n},t.addTouchMoveListener=function(e,i){var r,n;t.addListener(e,"touchstart",function(e){var t=e.touches,i=t[0];r=i.clientX,n=i.clientY}),t.addListener(e,"touchmove",function(e){var t=e.touches;if(!(t.length>1)){var o=t[0];e.wheelX=r-o.clientX,e.wheelY=n-o.clientY,r=o.clientX,n=o.clientY,i(e)}})},t.addMouseWheelListener=function(e,i){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),i(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0);break}i(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),i(e)})},t.addMultiMouseDownListener=function(e,i,r,o){var s,a,c,l=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};function u(e){if(0!==t.getButton(e)?l=0:e.detail>1?(l++,l>4&&(l=1)):l=1,n.isIE){var u=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;c&&!u||(l=1),c&&clearTimeout(c),c=setTimeout(function(){c=null},i[l-1]||600),1==l&&(s=e.clientX,a=e.clientY)}if(e._clicks=l,r[o]("mousedown",e),l>4)l=0;else if(l>1)return r[o](h[l],e)}function d(e){l=2,c&&clearTimeout(c),c=setTimeout(function(){c=null},i[l-1]||600),r[o]("mousedown",e),r[o](h[l],e)}Array.isArray(e)||(e=[e]),e.forEach(function(e){t.addListener(e,"mousedown",u),n.isOldIE&&t.addListener(e,"dblclick",d)})};var a=!n.isMac||!n.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};function c(e,t,i){var c=a(t);if(!n.isMac&&o){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(c|=8),o.altGr){if(3==(3&c))return;o.altGr=0}if(18===i||17===i){var l="location"in t?t.location:t.keyLocation;if(17===i&&1===l)1==o[i]&&(s=t.timeStamp);else if(18===i&&3===c&&2===l){var h=t.timeStamp-s;h<50&&(o.altGr=!0)}}}if(i in r.MODIFIER_KEYS&&(i=-1),8&c&&i>=91&&i<=93&&(i=-1),!c&&13===i){l="location"in t?t.location:t.keyLocation;if(3===l&&(e(t,c,-i),t.defaultPrevented))return}if(n.isChromeOS&&8&c){if(e(t,c,i),t.defaultPrevented)return;c&=-9}return!!(c||i in r.FUNCTION_KEYS||i in r.PRINTABLE_KEYS)&&e(t,c,i)}function l(){o=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[a(e)]},t.addCommandKeyListener=function(e,i){var r=t.addListener;if(n.isOldGecko||n.isOpera&&!("KeyboardEvent"in window)){var s=null;r(e,"keydown",function(e){s=e.keyCode}),r(e,"keypress",function(e){return c(i,e,s)})}else{var a=null;r(e,"keydown",function(e){o[e.keyCode]=(o[e.keyCode]||0)+1;var t=c(i,e,e.keyCode);return a=e.defaultPrevented,t}),r(e,"keypress",function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),r(e,"keyup",function(e){o[e.keyCode]=null}),o||(l(),r(window,"focus",l))}},"object"==typeof window&&window.postMessage&&!n.isOldIE){var h=1;t.nextTick=function(e,i){i=i||window;var r="zero-timeout-message-"+h++,n=function(o){o.data==r&&(t.stopPropagation(o),t.removeListener(i,"message",n),e())};t.addListener(i,"message",n),i.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,i){return setTimeout(function i(){t.$idleBlocked?setTimeout(i,100):e()},i)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";var r=function(e,t){return e.row-t.row||e.column-t.column},n=function(e,t,i,r){this.start={row:e,column:t},this.end={row:i,column:r}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,r=e.start;return t=this.compare(i.row,i.column),1==t?(t=this.compare(r.row,r.column),1==t?2:0==t?1:0):-1==t?-2:(t=this.compare(r.row,r.column),-1==t?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)i={row:e,column:0};if(this.start.row>t)var r={row:t+1,column:0};else if(this.start.row<e)r={row:e,column:0};return n.fromPoints(r||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var r={row:e,column:t};else var o={row:e,column:t};return n.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=r,n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){var i="";while(t>0)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var r=/^\s\s*/,n=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(n,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,r=e.length;i<r;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var r=0;r<t.length;r++)i[r]=e(t[r]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in i={},t)i[r]=e(t[r]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(i,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var i=null,r=function(){i=null,e()},n=function(e){null==i&&(i=setTimeout(r,e||t))};return n.delay=function(e){i&&clearTimeout(i),i=setTimeout(r,e||t)},n.schedule=n,n.call=function(){this.cancel(),e()},n.cancel=function(){i&&clearTimeout(i),i=null},n.isPending=function(){return i},n}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(e,t,i){"use strict";var r=e("../lib/event"),n=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=n.isChrome<18,c=n.isIE,l=n.isChrome>63,h=400,u=e("../lib/keys"),d=u.KEY_MODS,f=n.isIOS,p=f?/\s/:/\n/,g=function(e,t){var i=o.createElement("textarea");i.className="ace_text-input",i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.style.opacity="0",e.insertBefore(i,e.firstChild);var g=!1,m=!1,v=!1,y=!1,b="";n.isMobile||(i.style.fontSize="1px");var w=!1,x=!1,_="",S=0,C=0;try{var M=document.activeElement===i}catch(Y){}r.addListener(i,"blur",function(e){x||(t.onBlur(e),M=!1)}),r.addListener(i,"focus",function(e){if(!x){if(M=!0,n.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),n.isEdge?setTimeout(T):T()}}),this.$focusScroll=!1,this.focus=function(){if(b||l||"browser"==this.$focusScroll)return i.focus({preventScroll:!0});var e=i.style.top;i.style.position="fixed",i.style.top="0px";try{var t=0!=i.getBoundingClientRect().top}catch(Y){return}var r=[];if(t){var n=i.parentElement;while(n&&1==n.nodeType)r.push(n),n.setAttribute("ace_nocontext",!0),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement}i.focus({preventScroll:!0}),t&&r.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){i.style.position="","0px"==i.style.top&&(i.style.top=e)},0)},this.blur=function(){i.blur()},this.isFocused=function(){return M},t.on("beforeEndOperation",function(){t.curOp&&"insertstring"==t.curOp.command.name||(v&&(_=i.value="",N()),T())});var T=f?function(e){if(M&&(!g||e)){e||(e="");var r="\n ab"+e+"cde fg\n";r!=i.value&&(i.value=_=r);var n=4,o=4+(e.length||(t.selection.isEmpty()?0:1));S==n&&C==o||i.setSelectionRange(n,o),S=n,C=o}}:function(){if(!v&&!y&&(M||L)){v=!0;var e=t.selection,r=e.getRange(),n=e.cursor.row,o=r.start.column,s=r.end.column,a=t.session.getLine(n);if(r.start.row!=n){var c=t.session.getLine(n-1);o=r.start.row<n-1?0:o,s+=c.length+1,a=c+"\n"+a}else if(r.end.row!=n){var l=t.session.getLine(n+1);s=r.end.row>n+1?l.length:s,s+=a.length+1,a=a+"\n"+l}a.length>h&&(o<h&&s<h?a=a.slice(0,h):(a="\n",o=0,s=1));var u=a+"\n\n";if(u!=_&&(i.value=_=u,S=C=u.length),L&&(S=i.selectionStart,C=i.selectionEnd),C!=s||S!=o||i.selectionEnd!=C)try{i.setSelectionRange(o,s),S=o,C=s}catch(Y){}v=!1}};M&&t.onFocus();var R=function(e){return 0===e.selectionStart&&e.selectionEnd>=_.length&&e.value===_&&_&&e.selectionEnd!==C},E=function(e){v||(g?g=!1:R(i)&&(t.selectAll(),T()))},k=null;this.setInputHandler=function(e){k=e},this.getInputHandler=function(){return k};var L=!1,A=function(e,r){if(L&&(L=!1),m)return T(),e&&t.onPaste(e),m=!1,"";var n=i.selectionStart,o=i.selectionEnd,s=S,a=_.length-C,c=e,l=e.length-n,h=e.length-o,u=0;while(s>0&&_[u]==e[u])u++,s--;c=c.slice(u),u=1;while(a>0&&_.length-u>S-1&&_[_.length-u]==e[e.length-u])u++,a--;return l-=u-1,h-=u-1,c=c.slice(0,c.length-u+1),r||l!=c.length||s||a||h?(y=!0,c&&!s&&!a&&!l&&!h||w?t.onTextInput(c):t.onTextInput(c,{extendLeft:s,extendRight:a,restoreStart:l,restoreEnd:h}),y=!1,_=e,S=n,C=o,c):""},$=function(e){if(v)return B();var t=i.value,r=A(t,!0);(t.length>h+100||p.test(r))&&T()},I=function(e,t,i){var r=e.clipboardData||window.clipboardData;if(r&&!a){var n=c||i?"Text":"text/plain";try{return t?!1!==r.setData(n,t):r.getData(n)}catch(e){if(!i)return I(e,t,!0)}}},U=function(e,n){var o=t.getCopyText();if(!o)return r.preventDefault(e);I(e,o)?(f&&(T(o),g=o,setTimeout(function(){g=!1},10)),n?t.onCut():t.onCopy(),r.preventDefault(e)):(g=!0,i.value=o,i.select(),setTimeout(function(){g=!1,T(),n?t.onCut():t.onCopy()}))},P=function(e){U(e,!0)},O=function(e){U(e,!1)},D=function(e){var o=I(e);"string"==typeof o?(o&&t.onPaste(o,e),n.isIE&&setTimeout(T),r.preventDefault(e)):(i.value="",m=!0)};r.addCommandKeyListener(i,t.onCommandKey.bind(t)),r.addListener(i,"select",E),r.addListener(i,"input",$),r.addListener(i,"cut",P),r.addListener(i,"copy",O),r.addListener(i,"paste",D),"oncut"in i&&"oncopy"in i&&"onpaste"in i||r.addListener(e,"keydown",function(e){if((!n.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:O(e);break;case 86:D(e);break;case 88:P(e);break}});var F=function(e){if(!v&&t.onCompositionStart&&!t.$readOnly&&(v={},!w)){setTimeout(B,0),t.on("mousedown",G);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,v.markerRange=r,v.selectionStart=S,t.onCompositionStart(v),v.useTextareaForIME?(i.value="",_="",S=0,C=0):(i.msGetInputContext&&(v.context=i.msGetInputContext()),i.getInputContext&&(v.context=i.getInputContext()))}},B=function(){if(v&&t.onCompositionUpdate&&!t.$readOnly){if(w)return G();if(v.useTextareaForIME)t.onCompositionUpdate(i.value);else{var e=i.value;A(e),v.markerRange&&(v.context&&(v.markerRange.start.column=v.selectionStart=v.context.compositionStartOffset),v.markerRange.end.column=v.markerRange.start.column+C-v.selectionStart)}}},N=function(e){t.onCompositionEnd&&!t.$readOnly&&(v=!1,t.onCompositionEnd(),t.off("mousedown",G),e&&$())};function G(){x=!0,i.blur(),i.focus(),x=!1}var j,W=s.delayedCall(B,50).schedule.bind(null,null);function H(e){27==e.keyCode&&i.value.length<i.selectionStart&&(v||(_=i.value),S=C=-1,T()),W()}function V(){clearTimeout(j),j=setTimeout(function(){b&&(i.style.cssText=b,b=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}r.addListener(i,"compositionstart",F),r.addListener(i,"compositionupdate",B),r.addListener(i,"keyup",H),r.addListener(i,"keydown",W),r.addListener(i,"compositionend",N),this.getElement=function(){return i},this.setCommandMode=function(e){w=e,i.readOnly=!1},this.setReadOnly=function(e){w||(i.readOnly=e)},this.setCopyWithEmptySelection=function(e){e},this.onContextMenu=function(e){L=!0,T(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){b||(b=i.style.cssText),i.style.cssText=(s?"z-index:100000;":"")+(n.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+C)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),c=o.computedStyle(t.container),l=a.top+(parseInt(c.borderTopWidth)||0),h=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-l-i.clientHeight-2,d=function(e){i.style.left=e.clientX-h-2+"px",i.style.top=Math.min(e.clientY-l-2,u)+"px"};d(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),clearTimeout(j),n.isWin&&r.capture(t.container,d,V))},this.onContextMenuClose=V;var z=function(e){t.textInput.onContextMenu(e),V()};function X(e,t,i){var r=null,n=!1;i.addEventListener("keydown",function(e){r&&clearTimeout(r),n=!0},!0),i.addEventListener("keyup",function(e){r=setTimeout(function(){n=!1},100)},!0);var o=function(e){if(document.activeElement===i&&!n&&!v&&!g){var r=i.selectionStart,o=i.selectionEnd,s=null,a=0;console.log(r,o),0==r?s=u.up:1==r?s=u.home:o>C&&"\n"==_[o]?s=u.end:r<S&&" "==_[r-1]?(s=u.left,a=d.option):r<S||r==S&&C!=S&&r==o?s=u.left:o>C&&_.slice(0,o).split("\n").length>2?s=u.down:o>C&&" "==_[o-1]?(s=u.right,a=d.option):(o>C||o==C&&C!=S&&r==o)&&(s=u.right),r!==o&&(a|=d.shift),s&&(t.onCommandKey(null,a,s),S=r,C=o,T(""))}};document.addEventListener("selectionchange",o),t.on("destroy",function(){document.removeEventListener("selectionchange",o)})}r.addListener(i,"mouseup",z),r.addListener(i,"mousedown",function(e){e.preventDefault(),V()}),r.addListener(t.renderer.scroller,"contextmenu",z),r.addListener(i,"contextmenu",z),f&&X(e,t,i)};t.TextInput=g}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("../lib/useragent"),n=0,o=550;function s(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),t.setDefaultHandler("touchmove",this.onTouchMove.bind(e));var i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function a(e,t,i,r){return Math.sqrt(Math.pow(i-e,2)+Math.pow(r-t,2))}function c(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,o=e.getButton();if(0!==o){var s=n.getSelectionRange(),a=s.isEmpty();return(a||1==o)&&n.selection.moveToPosition(i),void(2==o&&(n.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))}return this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimeout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(i);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var n=c(this.$clickSelection,i);i=n.cursor,e=n.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,r=i.renderer.screenToTextCoordinates(this.x,this.y),n=i.selection[e](r.row,r.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(n.start),s=this.$clickSelection.comparePoint(n.end);if(-1==o&&s<=0)t=this.$clickSelection.end,n.end.row==r.row&&n.end.column==r.column||(r=n.start);else if(1==s&&o>=0)t=this.$clickSelection.start,n.start.row==r.row&&n.start.column==r.column||(r=n.end);else if(-1==o&&1==s)r=n.end,t=n.start;else{var a=c(this.$clickSelection,r);r=a.cursor,t=a.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(r),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>n||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,r=i.session,n=r.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var r=i.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(r.start.row),this.$clickSelection.end=i.selection.getLineRange(r.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,r=e.domEvent.timeStamp,n=r-i.t,s=n?e.wheelX/n:i.vx,a=n?e.wheelY/n:i.vy;n<o&&(s=(s+i.vx)/2,a=(a+i.vy)/2);var c=Math.abs(s/a),l=!1;if(c>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),c<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)i.allowed=r;else if(r-i.allowed<o){var h=Math.abs(s)<=1.5*Math.abs(i.vx)&&Math.abs(a)<=1.5*Math.abs(i.vy);h?(l=!0,i.allowed=r):i.allowed=0}return i.t=r,i.vx=s,i.vy=a,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){this.editor._emit("mousewheel",e)}}).call(s.prototype),t.DefaultHandlers=s}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";e("./lib/oop");var r=e("./lib/dom");function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";var r=e("../lib/dom"),n=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){var t,i,n,s=e.editor,a=s.renderer.$gutterLayer,l=new c(s.container);function h(){var t=i.getDocumentPosition().row,r=a.$annotations[t];if(!r)return u();var o=s.session.getLength();if(t==o){var c=s.renderer.pixelToScreenCoordinates(0,i.y).row,h=i.$pos;if(c>s.session.documentToScreenRow(h.row,h.column))return u()}if(n!=r)if(n=r.text.join("<br/>"),l.setHtml(n),l.show(),s._signal("showGutterTooltip",l),s.on("mousewheel",u),e.$tooltipFollowsMouse)d(i);else{var f=i.domEvent.target,p=f.getBoundingClientRect(),g=l.getElement().style;g.left=p.right+"px",g.top=p.bottom+"px"}}function u(){t&&(t=clearTimeout(t)),n&&(l.hide(),n=null,s._signal("hideGutterTooltip",l),s.removeEventListener("mousewheel",u))}function d(e){l.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()){var i=a.getRegion(t);if("foldWidgets"!=i){var r=t.getDocumentPosition().row,n=s.session.selection;if(t.getShiftKey())n.selectTo(r,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(r)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}}),e.editor.setDefaultHandler("guttermousemove",function(o){var s=o.domEvent.target||o.domEvent.srcElement;if(r.hasCssClass(s,"ace_fold-widget"))return u();n&&e.$tooltipFollowsMouse&&d(o),i=o,t||(t=setTimeout(function(){t=null,i&&!e.isMousePressed?h():u()},50))}),o.addListener(s.renderer.$gutter,"mouseout",function(e){i=null,n&&!t&&(t=setTimeout(function(){t=null,u()},50))}),s.on("changeSession",u)}function c(e){s.call(this,e)}n.inherits(c,s),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,n=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+n>i&&(e-=e+n-i),t+o>r&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(c.prototype),t.GutterHandler=a}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("../lib/event"),n=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=t.contains(i.row,i.column)}return this.$inSelection},this.getButton=function(){return r.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=n.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("../lib/dom"),n=e("../lib/event"),o=e("../lib/useragent"),s=200,a=200,c=5;function l(e){var t=e.editor,i=r.createElement("img");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(i.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var l=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];l.forEach(function(t){e[t]=this[t]},this),t.addEventListener("mousedown",this.onMouseDown.bind(e));var u,d,f,p,g,m,v,y,b,w,x,_=t.container,S=0;function C(e,i){var r=Date.now(),n=!i||e.row!=i.row,o=!i||e.column!=i.column;if(!w||n||o)t.moveCursorToPosition(e),w=r,x={x:d,y:f};else{var s=h(x.x,x.y,d,f);s>c?w=null:r-w>=a&&(t.renderer.scrollCursorIntoView(),w=null)}}function M(e,i){var r=Date.now(),n=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,a=t.renderer.scroller.getBoundingClientRect(),c={x:{left:d-a.left,right:a.right-d},y:{top:f-a.top,bottom:a.bottom-f}},l=Math.min(c.x.left,c.x.right),h=Math.min(c.y.top,c.y.bottom),u={row:e.row,column:e.column};l/o<=2&&(u.column+=c.x.left<c.x.right?-3:2),h/n<=1&&(u.row+=c.y.top<c.y.bottom?-1:1);var p=e.row!=u.row,g=e.column!=u.column,m=!i||e.row!=i.row;p||g&&!m?b?r-b>=s&&t.renderer.scrollCursorIntoView(u):b=r:b=null}function T(){var e=m;m=t.renderer.screenToTextCoordinates(d,f),C(m,e),M(m,e)}function R(){g=t.selection.toOrientedRange(),u=t.session.addMarker(g,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(p),T(),p=setInterval(T,20),S=0,n.addListener(document,"mousemove",L)}function E(){clearInterval(p),t.session.removeMarker(u),u=null,t.selection.fromOrientedRange(g),t.isFocused()&&!y&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()),g=null,m=null,S=0,b=null,w=null,n.removeListener(document,"mousemove",L)}this.onDragStart=function(e){if(this.cancelDrag||!_.draggable){var r=this;return setTimeout(function(){r.startSelect(),r.captureMouse(e)},0),e.preventDefault()}g=t.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(i),i.scrollTop=0),n.setDragImage&&n.setDragImage(i,0,0),o.isOpera&&t.container.removeChild(i),n.clearData(),n.setData("Text",t.session.getTextRange()),y=!0,this.setState("drag")},this.onDragEnd=function(e){if(_.draggable=!1,y=!1,this.setState(null),!t.getReadOnly()){var i=e.dataTransfer.dropEffect;v||"move"!=i||t.session.remove(t.getSelectionRange()),t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&A(e.dataTransfer))return d=e.clientX,f=e.clientY,u||R(),S++,e.dataTransfer.dropEffect=v=$(e),n.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&A(e.dataTransfer))return d=e.clientX,f=e.clientY,u||(R(),S++),null!==k&&(k=null),e.dataTransfer.dropEffect=v=$(e),n.preventDefault(e)},this.onDragLeave=function(e){if(S--,S<=0&&u)return E(),v=null,n.preventDefault(e)},this.onDrop=function(e){if(m){var i=e.dataTransfer;if(y)switch(v){case"move":g=g.contains(m.row,m.column)?{start:m,end:m}:t.moveText(g,m);break;case"copy":g=t.moveText(g,m,!0);break}else{var r=i.getData("Text");g={start:m,end:t.session.insert(m,r)},t.focus(),v=null}return E(),n.preventDefault(e)}},n.addListener(_,"dragstart",this.onDragStart.bind(e)),n.addListener(_,"dragend",this.onDragEnd.bind(e)),n.addListener(_,"dragenter",this.onDragEnter.bind(e)),n.addListener(_,"dragover",this.onDragOver.bind(e)),n.addListener(_,"dragleave",this.onDragLeave.bind(e)),n.addListener(_,"drop",this.onDrop.bind(e));var k=null;function L(){null==k&&(k=setTimeout(function(){null!=k&&u&&E()},20))}function A(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function $(e){var t=["copy","copymove","all","uninitialized"],i=["move","copymove","linkmove","all","uninitialized"],r=o.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return r&&t.indexOf(n)>=0?s="copy":i.indexOf(n)>=0?s="move":t.indexOf(n)>=0&&(s="copy"),s}}function h(e,t,i,r){return Math.sqrt(Math.pow(i-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor,t=e.container;t.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var i=o.isWin?"default":"move";e.renderer.setCursorStyle(i),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(o.isIE&&"dragReady"==this.state){var i=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>3&&t.dragDrop()}if("dragWait"===this.state){i=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),r=e.getButton(),n=e.domEvent.detail||1;if(1===n&&0===r&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in s&&(s.unselectable="on"),t.getDragDelay()){if(o.isWebKit){this.cancelDrag=!0;var a=t.container;a.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(l.prototype),t.DragdropHandler=l}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var r=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=r.getDocumentHead(),n=document.createElement("script");n.src=e,i.appendChild(n),n.onload=n.onreadystatechange=function(e,i){!i&&n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(n=n.onload=n.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";var r={},n=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(i.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=n),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var s=0;s<i.length;s++)if(i[s](t,this),t.propagationStopped)break;return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var r=0;r<i.length;r++)i[r](t,this)}},r.once=function(e,t){var i=this;if(this.addEventListener(e,function r(){i.removeEventListener(e,r),t.apply(null,arguments)}),!t)return new Promise(function(e){t=e})},r.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var r=i[e],n=i._disabled_[e];n||(i._disabled_[e]=n=[]),n.push(r);var o=n.indexOf(t);-1!=o&&n.splice(o,1)}i[e]=t},r.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var r=i._disabled_[e];if(i[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var n=r.indexOf(t);-1!=n&&r.splice(n,1)}}},r.on=r.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[i?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}},r.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=r}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){var r=e("./oop"),n=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var i=this.$options;e=Object.keys(i).filter(function(e){return!i[e].hidden})}return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return s('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var c=function(){this.$defaultOptions={}};(function(){r.implement(this,n),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach(function(t){var r=i[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)}),r.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value)})},this.setDefaultValue=function(e,t,i){var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,i):r[t].value=i)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(i){this.setDefaultValue(e,i,t[i])},this)},this.warn=s,this.reportError=a}).call(c.prototype),t.AppConfig=c}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(e,t,r){var n=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),s=e("./lib/app_config").AppConfig;r.exports=t=new s;var a=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);c[e]=t},t.all=function(){return n.copyObject(c)},t.$modes={},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var i=e.split("/");t=t||i[i.length-2]||"";var r="snippets"==t?"/":"-",n=i[i.length-1];if("worker"==t&&"-"==r){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");n=n.replace(o,"")}(!n||n==t)&&i.length>1&&(n=i[i.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+n+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,r){var n,s;Array.isArray(i)&&(s=i[0],i=i[1]);try{n=e(i)}catch(c){}if(n&&!t.$loading[i])return r&&r(n);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(r),!(t.$loading[i].length>1)){var a=function(){e([i],function(e){t._emit("load.module",{name:i,module:e});var r=t.$loading[i];t.$loading[i]=null,r.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();o.loadScript(t.moduleUrl(i,s),a),l()}};var l=function(){c.basePath||c.workerPath||c.modePath||c.themePath||Object.keys(c.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),l=function(){})};function h(n){if(a&&a.document){c.packaged=n||e.packaged||r.packaged||a.define&&i("07d6").packaged;for(var o={},s="",l=document.currentScript||document._currentScript,h=l&&l.ownerDocument||document,d=h.getElementsByTagName("script"),f=0;f<d.length;f++){var p=d[f],g=p.src||p.getAttribute("src");if(g){for(var m=p.attributes,v=0,y=m.length;v<y;v++){var b=m[v];0===b.name.indexOf("data-ace-")&&(o[u(b.name.replace(/^data-ace-/,""))]=b.value)}var w=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(s=w[1])}}for(var x in s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)"undefined"!==typeof o[x]&&t.set(x,o[x])}}function u(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}h(!0),t.init=h}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,i){"use strict";var r=e("../lib/event"),n=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,c=e("./dragdrop_handler").DragdropHandler,l=e("../config"),h=function(e){var t=this;this.editor=e,new o(this),new s(this),new c(this);var i=function(t){var i=!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement());i&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click")),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),r.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel")),r.addTouchMoveListener(e.container,this.onTouchMove.bind(this,"touchmove"));var l=e.renderer.$gutter;r.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),r.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick")),r.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),r.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),r.addListener(a,"mousedown",i),r.addListener(l,"mousedown",i),n.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",i),r.addListener(e.renderer.scrollBarH.element,"mousedown",i)),e.on("mousemove",function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(i.x,i.y),n=e.session.selection.getRange(),o=e.renderer;!n.isEmpty()&&n.insideStart(r.row,r.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.onTouchMove=function(e,t){var i=new a(t,this.editor);i.speed=1,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,o=this.editor.renderer;o.$keepTextAreaAtCursor&&(o.$keepTextAreaAtCursor=null);var s=this,c=function(e){if(e){if(n.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},l=function(e){i.off("beforeEndOperation",u),clearInterval(d),h(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",null==o.$keepTextAreaAtCursor&&(o.$keepTextAreaAtCursor=!0,o.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),i.endOperation()},h=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(n.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});var u=function(e){s.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};i.on("beforeEndOperation",u),i.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=c,s.releaseMouse=r.capture(this.editor.container,c,l);var d=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(h.prototype),l.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:n.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var r=e("../lib/dom");function n(e){e.on("click",function(t){var i=t.getDocumentPosition(),n=e.session,o=n.getFoldAt(i.row,i.column,1);o&&(t.getAccelKey()?n.removeFold(o):n.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&r.hasCssClass(s,"ace_inline_button")&&r.hasCssClass(s,"ace_toggle_wrap")&&(n.setOption("wrap",!0),e.renderer.scrollCursorIntoView())}),e.on("gutterclick",function(t){var i=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==i){var r=t.getDocumentPosition().row,n=e.session;n.foldWidgets&&n.foldWidgets[r]&&e.session.onFoldWidgetClick(r,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var i=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==i){var r=t.getDocumentPosition().row,n=e.session,o=n.getParentFoldRangeData(r,!0),s=o.range||o.firstRange;if(s){r=s.start.row;var a=n.getFoldAt(r,n.getLine(r).length,1);a?n.removeFold(a):(n.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var r=e("../lib/keys"),n=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,r){for(var o,s=!1,a=this.$editor.commands,c=this.$handlers.length;c--;)if(o=this.$handlers[c].handleKeyboard(this.$data,e,t,i,r),o&&o.command&&(s="null"==o.command||a.exec(o.command,this.$editor,o.args,r),s&&r&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&n.stopEvent(r),s))break;return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,i){var n=r.keyCodeToString(i);this.$callKeyboardHandlers(t,n,i,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,t,i){"use strict";var r=0,n=0,o=!1,s=!1,a=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=0,u=1,d=0,f=1,p=2,g=3,m=4,v=5,y=6,b=7,w=8,x=9,_=10,S=11,C=12,M=13,T=14,R=15,E=16,k=17,L=18,A=[L,L,L,L,L,L,L,L,L,y,v,y,w,v,L,L,L,L,L,L,L,L,L,L,L,L,L,L,v,v,v,y,w,m,m,S,S,S,m,m,m,m,m,_,x,_,x,x,p,p,p,p,p,p,p,p,p,p,x,m,m,m,m,m,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,m,m,m,m,m,m,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,m,m,m,m,L,L,L,L,L,L,v,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,x,m,S,S,S,S,m,m,m,m,d,m,m,L,m,m,S,S,p,p,m,d,m,m,m,p,d,m,m,m,m,m],$=[w,w,w,w,w,w,w,w,w,w,w,L,L,L,d,f,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,w,v,M,T,R,E,k,x,S,S,S,S,S,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,x,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,w];function I(e,t,i,h){var u=r?l:c,d=null,f=null,p=null,g=0,m=null,b=null,x=-1,_=null,S=null,C=[];if(!h)for(_=0,h=[];_<i;_++)h[_]=O(e[_]);for(n=r,o=!1,!1,s=!1,a=!1,S=0;S<i;S++){if(d=g,C[S]=f=P(e,h,C,S),g=u[d][f],m=240&g,g&=15,t[S]=p=u[g][5],m>0)if(16==m){for(_=x;_<S;_++)t[_]=1;x=-1}else x=-1;if(b=u[g][6],b)-1==x&&(x=S);else if(x>-1){for(_=x;_<S;_++)t[_]=p;x=-1}h[S]==v&&(t[S]=0),n|=p}if(a)for(_=0;_<i;_++)if(h[_]==y){t[_]=r;for(var M=_-1;M>=0;M--){if(h[M]!=w)break;t[M]=r}}}function U(e,t,i){if(!(n<e))if(1!=e||r!=u||s){var o,a,c,l,h=i.length,d=0;while(d<h){if(t[d]>=e){o=d+1;while(o<h&&t[o]>=e)o++;for(a=d,c=o-1;a<c;a++,c--)l=i[a],i[a]=i[c],i[c]=l;d=o}d++}}else i.reverse()}function P(e,t,i,n){var c,l,h,u,A=t[n];switch(A){case d:case f:o=!1;case m:case g:return A;case p:return o?g:p;case b:return o=!0,!0,f;case w:return m;case x:return n<1||n+1>=t.length||(c=i[n-1])!=p&&c!=g||(l=t[n+1])!=p&&l!=g?m:(o&&(l=g),l==c?l:m);case _:return c=n>0?i[n-1]:v,c==p&&n+1<t.length&&t[n+1]==p?p:m;case S:if(n>0&&i[n-1]==p)return p;if(o)return m;u=n+1,h=t.length;while(u<h&&t[u]==S)u++;return u<h&&t[u]==p?p:m;case C:h=t.length,u=n+1;while(u<h&&t[u]==C)u++;if(u<h){var $=e[n],I=$>=1425&&$<=2303||64286==$;if(c=t[u],I&&(c==f||c==b))return f}return n<1||(c=t[n-1])==v?m:i[n-1];case v:return o=!1,s=!0,r;case y:return a=!0,m;case M:case T:case E:case k:case R:o=!1;case L:return m}}function O(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?t>191?d:A[t]:5==i?/[\u0591-\u05f4]/.test(e)?f:d:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?C:/[\u0660-\u0669\u066b-\u066c]/.test(e)?g:1642==t?S:/[\u06f0-\u06f9]/.test(e)?p:b:32==i&&t<=8287?$[255&t]:254==i&&t>=65136?b:m}t.L=d,t.R=f,t.EN=p,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="·",t.doBidiReorder=function(e,i,n){if(e.length<2)return{};var o=e.split(""),s=new Array(o.length),a=new Array(o.length),c=[];r=n?u:h,I(o,c,o.length,i);for(var l=0;l<s.length;s[l]=l,l++);U(2,c,s),U(1,c,s);for(l=0;l<s.length-1;l++)i[l]===g?c[l]=t.AN:c[l]===f&&(i[l]>b&&i[l]<M||i[l]===m||i[l]===L)?c[l]=t.ON_R:l>0&&"ل"===o[l-1]&&/\u0622|\u0623|\u0625|\u0627/.test(o[l])&&(c[l-1]=c[l]=t.R_H,l++);o[o.length-1]===t.DOT&&(c[o.length-1]=t.B),"‫"===o[0]&&(c[0]=t.RLE);for(l=0;l<s.length;l++)a[l]=c[s[l]];return{logicalFromVisual:s,bidiLevels:a}},t.hasBidiCharacters=function(e,t){for(var i=!1,r=0;r<e.length;r++)t[r]=O(e.charAt(r)),i||t[r]!=f&&t[r]!=b&&t[r]!=g||(i=!0);return i},t.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,i){"use strict";var r=e("./lib/bidiutil"),n=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);i>=0&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i,r=this.session.$getRowCacheIndex(t,this.currentRow);while(this.currentRow-e>0){if(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1),i!==r)break;r=i,e++}}else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1,o=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var s=this.session.$wrapData[e];s&&(void 0===t&&(t=this.getSplitIndex()),t>0&&s.length?(this.wrapIndent=s.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<s.length?this.line.substring(s[t-1],s[t]):this.line.substring(s[s.length-1])):this.line=this.line.substring(0,s[t])),t==s.length&&(this.line+=this.showInvisibles?o:r.DOT)}else this.line+=this.showInvisibles?o:r.DOT;var a,c=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return"\t"===e||c.isFullWidth(e.charCodeAt(0))?(a="\t"===e?c.getScreenTabSize(t+l):2,l+=a-1,n.stringRepeat(r.DOT,a)):e}),this.isRtlDir&&(this.fontMetrics.$main.innerHTML=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("ה");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=i,this.charWidths[r.R_H]=.45*i,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=i.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=e>t?this.session.getOverwrite()?e:e-1:t,n=r.getVisualFromLogicalIdx(i,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[n]%2!==0&&n++;for(var a=0;a<n;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[n]%2===0&&(s+=this.charWidths[o[n]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var i,r=this.bidiMap,n=r.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,c=Math.max(e,t)-this.wrapIndent,l=!1,h=!1,u=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<n.length;f++)d=r.logicalFromVisual[f],i=n[f],l=d>=a&&d<c,l&&!h?u=s:!l&&h&&o.push({left:u,width:s-u}),s+=this.charWidths[i],h=l;if(l&&f===n.length&&o.push({left:u,width:s-u}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,i=(e=Math.max(e,0),0),r=0,n=this.bidiMap.bidiLevels,o=this.charWidths[n[r]];this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);while(e>i+o/2){if(i+=o,r===n.length-1){o=0;break}o=this.charWidths[n[++r]]}return r>0&&n[r-1]%2!==0&&n[r]%2===0?(e<i&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&n[r-1]%2===0&&n[r]%2!==0?t=1+(e>i?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===n.length-1&&0===o&&n[r-1]%2===0||!this.isRtlDir&&0===r&&n[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&n[r-1]%2!==0&&0!==o&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")})};(function(){r.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(i.row,i.column,r.row,r.column)},this.$setSelection=function(e,t,i,r){var n=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,r),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||n!=this.$isEmpty||o)&&this._emit("changeSelection")},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,r="number"==typeof e?e:this.lead.row,n=this.session.getFoldLine(r);return n?(r=n.start.row,i=n.end.row):i=r,!0===t?new s(r,0,i,this.session.getLine(i).length):new s(r,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var r=e.column,n=e.column+t;return i<0&&(r=e.column-t,n=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,n).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(i,0),n=this.session.getDisplayLine(e,null,r.row,r.column),o=n.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var r=i.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),r=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var n=this.session.getFoldAt(e,t,1);if(n)this.moveCursorTo(n.end.row,n.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,i,-1);null==r&&(r=this.doc.getLine(t).substring(0,i));var o=n.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,r=/\s/,n=this.session.tokenRe;if(n.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{while((t=e[i])&&r.test(t))i++;if(i<1){n.lastIndex=0;while((t=e[i])&&!n.test(t))if(n.lastIndex=0,i++,r.test(t)){if(i>2){i--;break}while((t=e[i])&&r.test(t))i++;if(i>2)break}}}return n.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),r=i.substring(t),n=this.session.getFoldAt(e,t,1);if(n)return this.moveCursorTo(n.end.row,n.end.column);if(t==i.length){var o=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,i);if(0===i){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));i=r.length,/\s+$/.test(r)||(r="")}var o=n.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,i-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column);var n=this.session.screenToDocumentPosition(r.row+e,r.column,i);0!==e&&0===t&&n.row===this.lead.row&&n.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[n.row]&&(n.row>0||e>0)&&n.row++,this.moveCursorTo(n.row,n.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var n=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(n.charAt(t))&&n.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return s.fromPoints(t,i)}catch(r){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){"use strict";var r=e("./config"),n=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],r=[],n=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],c=0;c<i.length;c++){var l=i[c];if(l.defaultToken&&(o.defaultToken=l.defaultToken),l.caseInsensitive&&(s="gi"),null!=l.regex){l.regex instanceof RegExp&&(l.regex=l.regex.toString().slice(1,-1));var h=l.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(l.token)?1==l.token.length||1==u?l.token=l.token[0]:u-1!=l.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:l,groupCount:u-1}),l.token=l.token[0]):(l.tokenArray=l.token,l.token=null,l.onMatch=this.$arrayTokens):"function"!=typeof l.token||l.onMatch||(l.onMatch=u>1?this.$applyToken:l.token),u>1&&(/\\\d/.test(l.regex)?h=l.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+n+1)}):(u=1,h=this.removeCapturingGroups(l.regex)),l.splitRegex||"string"==typeof l.token||a.push(l)),o[n]=c,n+=u,r.push(h),l.onMatch||(l.onMatch=null)}}r.length||(o[0]=0,r.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){n=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"===typeof i)return[{type:i,value:e}];for(var r=[],n=0,o=i.length;n<o;n++)t[n]&&(r[r.length]={type:i[n],value:t[n]});return r},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],r=this.tokenArray,n=0,o=r.length;n<o;n++)t[n+1]&&(i[i.length]={type:r[n],value:t[n+1]});return i},this.removeCapturingGroups=function(e){var t=e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var i=0,r=!1,n={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,c){return r?r="]"!=a:a?r=!0:s?(i==n.stack&&(n.end=c+1,n.stack=-1),i--):o&&(i++,1!=o.length&&(n.stack=i,n.start=c)),e}),null!=n.end&&/^\)*$/.test(e.substr(n.end))&&(e=e.substring(0,n.start)+e.substr(n.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);t=i[0],"#tmp"===t&&(i.shift(),t=i.shift())}else i=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;var c,l=[],h=0,u=0,d={type:null,value:""};while(c=a.exec(e)){var f=s.defaultToken,p=null,g=c[0],m=a.lastIndex;if(m-g.length>h){var v=e.substring(h,m-g.length);d.type==f?d.value+=v:(d.type&&l.push(d),d={type:f,value:v})}for(var y=0;y<c.length-2;y++)if(void 0!==c[y+1]){p=o[s[y]],f=p.onMatch?p.onMatch(g,r,i,e):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,i),o=this.states[r],o||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],h=m,a=this.regExps[r],a.lastIndex=m),p.consumeLineEnd&&(h=m);break}if(g)if("string"===typeof f)p&&!1===p.merge||d.type!==f?(d.type&&l.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&l.push(d),d={type:null,value:""};for(y=0;y<f.length;y++)l.push(f[y])}if(h==e.length)break;if(h=m,u++>n){u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});while(h<e.length)d.type&&l.push(d),d={value:e.substring(h,h+=2e3),type:"overflow"};r="start",i=[];break}}return d.type&&l.push(d),i.length>1&&i[0]!==r&&i.unshift("#tmp",r),{tokens:l,state:i.length?i:r}},this.reportError=r.reportError}).call(o.prototype),t.Tokenizer=o}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var r=e("../lib/lang"),n=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var r=e[i],n=0;n<r.length;n++){var o=r[n];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+i]=r}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,n,o){var s="function"==typeof e?(new e).getRules():e;if(n)for(var a=0;a<n.length;a++)n[a]=t+n[a];else for(var c in n=[],s)n.push(t+c);if(this.addRules(s,t),i){var l=Array.prototype[o?"push":"unshift"];for(a=0;a<n.length;a++)l.apply(this.$rules[n[a]],r.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var i=0,r=this.$rules;function n(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var c=s[a],l=null;Array.isArray(c)&&(l=c,c={}),!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token=c.token+".start",c.push=!0);var h=c.next||c.push;if(h&&Array.isArray(h)){var u=c.stateName;u||(u=c.token,"string"!=typeof u&&(u=u[0]||""),r[u]&&(u+=i++)),r[u]=h,c.next=u,n(u)}else"pop"==h&&(c.next=t);if(c.push&&(c.nextState=c.next||c.push,c.next=e,delete c.push),c.rules)for(var d in c.rules)r[d]?r[d].push&&r[d].push.apply(r[d],c.rules[d]):r[d]=c.rules[d];var f="string"==typeof c?c:c.include;if(f&&(l=Array.isArray(f)?f.map(function(e){return r[e]}):r[f]),l){var p=[a,1].concat(l);c.noEscape&&(p=p.filter(function(e){return!e.next})),s.splice.apply(s,p),a--}c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),delete c.defaultToken)}}Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(e,t,i,r){var n=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];i&&(o=o.toLowerCase());for(var s=o.split(r||"|"),a=s.length;a--;)n[s[a]]=t}),Object.getPrototypeOf(n)&&(n.__proto__=null),this.$keywordList=Object.keys(n),e=null,i?function(e){return n[e.toLowerCase()]||t}:function(e){return n[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(n.prototype),t.TextHighlightRules=n}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";var r=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours}}).call(r.prototype),t.Behaviour=r}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("./range").Range,n=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,i);this.$tokenIndex=r?r.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;this.$tokenIndex+=1;while(this.$tokenIndex>=this.$rowTokens.length){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;i=0;while(t>0)t-=1,i+=e[t].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(n.prototype),t.TokenIterator=n}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var r,n=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),c=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],h={},u={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,h.rangeCount!=e.multiSelect.rangeCount&&(h={rangeCount:e.multiSelect.rangeCount})),h[t])return r=h[t];r=h[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,i,r){var n=e.end.row-e.start.row;return{text:i+t+r,selection:[0,e.start.column+1,n,e.end.column+(n?0:1)]}},p=function(e){this.add("braces","insertion",function(t,i,n,o,s){var c=n.getCursorPosition(),l=o.doc.getLine(c.row);if("{"==s){d(n);var h=n.getSelectionRange(),u=o.doc.getTextRange(h);if(""!==u&&"{"!==u&&n.getWrapBehavioursEnabled())return f(h,u,"{","}");if(p.isSaneInsertion(n,o))return/[\]\}\)]/.test(l[c.column])||n.inMultiSelectMode||e&&e.braces?(p.recordAutoInsert(n,o,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(n,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){d(n);var g=l.substring(c.column,c.column+1);if("}"==g){var m=o.$findOpeningBracket("}",{column:c.column+1,row:c.row});if(null!==m&&p.isAutoInsertedClosing(c,l,s))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==s||"\r\n"==s){d(n);var v="";p.isMaybeInsertedClosing(c,l)&&(v=a.stringRepeat("}",r.maybeInsertedBrackets),p.clearMaybeInsertedClosing());g=l.substring(c.column,c.column+1);if("}"===g){var y=o.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!y)return null;var b=this.$getIndent(o.getLine(y.row))}else{if(!v)return void p.clearMaybeInsertedClosing();b=this.$getIndent(l)}var w=b+o.getTabString();return{text:"\n"+w+"\n"+b+v,selection:[1,w.length,1,w.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,n,o){var s=n.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){d(i);var a=n.doc.getLine(o.start.row),c=a.substring(o.end.column,o.end.column+1);if("}"==c)return o.end.column++,o;r.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,r,n){if("("==n){d(i);var o=i.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return f(o,s,"(",")");if(p.isSaneInsertion(i,r))return p.recordAutoInsert(i,r,")"),{text:"()",selection:[1,1]}}else if(")"==n){d(i);var a=i.getCursorPosition(),c=r.doc.getLine(a.row),l=c.substring(a.column,a.column+1);if(")"==l){var h=r.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==h&&p.isAutoInsertedClosing(a,c,n))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,i,r,n){var o=r.doc.getTextRange(n);if(!n.isMultiLine()&&"("==o){d(i);var s=r.doc.getLine(n.start.row),a=s.substring(n.start.column+1,n.start.column+2);if(")"==a)return n.end.column++,n}}),this.add("brackets","insertion",function(e,t,i,r,n){if("["==n){d(i);var o=i.getSelectionRange(),s=r.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return f(o,s,"[","]");if(p.isSaneInsertion(i,r))return p.recordAutoInsert(i,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==n){d(i);var a=i.getCursorPosition(),c=r.doc.getLine(a.row),l=c.substring(a.column,a.column+1);if("]"==l){var h=r.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==h&&p.isAutoInsertedClosing(a,c,n))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,i,r,n){var o=r.doc.getTextRange(n);if(!n.isMultiLine()&&"["==o){d(i);var s=r.doc.getLine(n.start.row),a=s.substring(n.start.column+1,n.start.column+2);if("]"==a)return n.end.column++,n}}),this.add("string_dquotes","insertion",function(e,t,i,r,n){var o=r.$mode.$quotes||u;if(1==n.length&&o[n]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(n))return;d(i);var s=n,a=i.getSelectionRange(),c=r.doc.getTextRange(a);if(!(""===c||1==c.length&&o[c])&&i.getWrapBehavioursEnabled())return f(a,c,s,s);if(!c){var l=i.getCursorPosition(),h=r.doc.getLine(l.row),p=h.substring(l.column-1,l.column),g=h.substring(l.column,l.column+1),m=r.getTokenAt(l.row,l.column),v=r.getTokenAt(l.row,l.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==s)y=b!==w,y&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var x=r.$mode.tokenRe;x.lastIndex=0;var _=x.test(p);x.lastIndex=0;var S=x.test(p);if(_||S)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,r,n){var o=r.$mode.$quotes||u,s=r.doc.getTextRange(n);if(!n.isMultiLine()&&o.hasOwnProperty(s)){d(i);var a=r.doc.getLine(n.start.row),c=a.substring(n.start.column+1,n.start.column+2);if(c==s)return n.end.column++,n}})};p.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),r=new s(t,i.row,i.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",c)){var n=new s(t,i.row,i.column+1);if(!this.$matchTokenType(n.getCurrentToken()||"text",c))return!1}return r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",l)},p.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},p.recordAutoInsert=function(e,t,i){var n=e.getCursorPosition(),o=t.doc.getLine(n.row);this.isAutoInsertedClosing(n,o,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=n.row,r.autoInsertedLineEnd=i+o.substr(n.column),r.autoInsertedBrackets++},p.recordMaybeInsert=function(e,t,i){var n=e.getCursorPosition(),o=t.doc.getLine(n.row);this.isMaybeInsertedClosing(n,o)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=n.row,r.maybeInsertedLineStart=o.substr(0,n.column)+i,r.maybeInsertedLineEnd=o.substr(n.column),r.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(e,t,i){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&i===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},n.inherits(p,o),t.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],n=0,o=[],s=0;s<r.length;s+=2)o.push(n+=r[s]),r[s+1]&&o.push(45,n+=r[s+1]);t.wordChars=String.fromCharCode.apply(null,o)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var r=e("../config"),n=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),c=e("../lib/lang"),l=e("../token_iterator").TokenIterator,h=e("../range").Range,u=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,r){var n=t.doc,o=!0,s=!0,a=1/0,l=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))g=this.lineCommentStart.map(c.escapeRegExp).join("|"),f=this.lineCommentStart[0];else g=c.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),h=t.getUseSoftTabs();y=function(e,t){var i=e.match(g);if(i){var r=i[1].length,o=i[0].length;d(e,r,o)||" "!=i[0][o-1]||o--,n.removeInLine(t,r,o)}};var u=f+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?n.insertInLine({row:t,column:a},u):n.insertInLine({row:t,column:a},f))},b=function(e,t){return g.test(e)},function(e,t,i){var r=0;while(t--&&" "==e.charAt(t))r++;if(r%l!=0)return!1;r=0;while(" "==e.charAt(i++))r++;return l>2?r%l!=l-1:r%l==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,p=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+c.escapeRegExp(f)+")"),m=new RegExp("(?:"+c.escapeRegExp(p)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(n.insertInLine({row:t,column:e.length},p),n.insertInLine({row:t,column:a},f))},y=function(e,t){var i;(i=e.match(m))&&n.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(g))&&n.removeInLine(t,i[1].length,i[0].length)},b=function(e,i){if(g.test(e))return!0;for(var r=t.getTokens(i),n=0;n<r.length;n++)if("comment"===r[n].type)return!0}}function w(e){for(var t=i;t<=r;t++)e(n.getLine(t),t)}var x=1/0;w(function(e,t){var i=e.search(/\S/);-1!==i?(i<a&&(a=i),s&&!b(e,t)&&(s=!1)):x>e.length&&(x=e.length)}),a==1/0&&(a=x,o=!1,s=!1),h&&a%l!=0&&(a=Math.floor(a/l)*l),w(s?y:v)},this.toggleBlockComment=function(e,t,i,r){var n=this.blockComment;if(n){!n.start&&n[0]&&(n=n[0]);var o,s,a=new l(t,r.row,r.column),c=a.getCurrentToken(),u=(t.selection,t.selection.toOrientedRange());if(c&&/comment/.test(c.type)){var d,f;while(c&&/comment/.test(c.type)){var p=c.value.indexOf(n.start);if(-1!=p){var g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;d=new h(g,m,g,m+n.start.length);break}c=a.stepBackward()}a=new l(t,r.row,r.column),c=a.getCurrentToken();while(c&&/comment/.test(c.type)){p=c.value.indexOf(n.end);if(-1!=p){g=a.getCurrentTokenRow(),m=a.getCurrentTokenColumn()+p;f=new h(g,m,g,m+n.end.length);break}c=a.stepForward()}f&&t.remove(f),d&&(t.remove(d),o=d.start.row,s=-n.start.length)}else s=n.start.length,o=i.start.row,t.insert(i.end,n.end),t.insert(i.start,n.start);u.start.row==o&&(u.start.column+=s),u.end.row==o&&(u.end.column+=s),t.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var i=e[t],n=i.prototype.$id,o=r.$modes[n];o||(r.$modes[n]=o=new i),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)(function(e){var i=s[t],r=e[i];e[s[t]]=function(){return this.$delegator(i,arguments,r)}})(this)},this.$delegator=function(e,t,i){var r=t[0];if("string"!=typeof r){if(Array.isArray(r[2])){var n=r[2][r[2].length-1],o=this.$modes[n];if(o)return o[e].apply(o,[r[1]].concat([].slice.call(t,1)))}r=r[0]}for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var a=r.split(this.$embeds[s]);if(!a[0]&&a[1]){t[0]=a[1];o=this.$modes[this.$embeds[s]];return o[e].apply(o,t)}}var c=i.apply(this,t);return i?c:void 0},this.transformAction=function(e,t,i,r,n){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var r in t)for(var n=t[r],o=0,s=n.length;o<s;o++)if("string"===typeof n[o].token)/keyword|support|storage/.test(n[o].token)&&i.push(n[o].regex);else if("object"===typeof n[o].token)for(var a=0,c=n[o].token.length;a<c;a++)if(/keyword|support|storage/.test(n[o].token[a])){r=n[o].regex.match(/\(.+?\)/g)[a];i.push(r.substr(1,r.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,r){var n=this.$keywordList||this.$createKeywordList();return n.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){"use strict";t.applyDelta=function(e,t,i){var r=t.start.row,n=t.start.column,o=e[r]||"";switch(t.action){case"insert":var s=t.lines;if(1===s.length)e[r]=o.substring(0,n)+t.lines[0]+o.substring(n);else{var a=[r,1].concat(t.lines);e.splice.apply(e,a),e[r]=o.substring(0,n)+e[r],e[r+t.lines.length-1]+=o.substring(n)}break;case"remove":var c=t.end.column,l=t.end.row;r===l?e[r]=o.substring(0,n)+o.substring(c):e.splice(r,l-r+1,o.substring(0,n)+e[l].substring(c));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function e(e,t,i){var r=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}function t(t,i,r){var n="insert"==t.action,o=(n?1:-1)*(t.end.row-t.start.row),s=(n?1:-1)*(t.end.column-t.start.column),a=t.start,c=n?a:t.end;return e(i,a,r)?{row:i.row,column:i.column}:e(c,i,!r)?{row:i.row+o,column:i.column+(i.row==c.row?s:0)}:{row:a.row,column:a.column}}r.implement(this,n),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if((e.start.row!=e.end.row||e.start.row==this.row)&&!(e.start.row>this.row)){var i=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(e,t,i){var r;if(r=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var n={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:n,value:r})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,c=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){r.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{t=this.getLines(e.start.row,e.end.row),t[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:e>=i&&(e=i-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:e,column:t}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){e=Math.min(Math.max(e,0),this.getLength());var i=0;e<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),e--,i=this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),r={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:r,action:"insert",lines:t}),this.clonePos(r)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var r=this.clippedPos(e,t),n=this.clippedPos(e,i);return this.applyDelta({start:r,end:n,action:"remove",lines:this.getLinesForRange({start:r,end:n})},!0),this.clonePos(r)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var i=t==this.getLength()-1&&e>0,r=t<this.getLength()-1,n=i?e-1:e,o=i?this.getLine(n).length:0,a=r?t+1:t,c=r?0:this.getLine(a).length,l=new s(n,o,a,c),h=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),i=t?this.insert(e.start,t):e.start,i);var i},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(i&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(n(this.$lines,e,t),this._signal("change",e)))},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,r=i.length-t+1,n=e.start.row,o=e.start.column,s=0,a=0;s<r;s=a){a+=t-1;var c=i.slice(s,a);c.push(""),this.applyDelta({start:this.pos(n+s,o),end:this.pos(n+a,o=0),action:e.action,lines:c},!0)}e.lines=i.slice(s),e.start.row=n+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,n=t||0,o=i.length;n<o;n++)if(e-=i[n].length+r,e<0)return{row:n,column:e+i[n].length+r};return{row:o-1,column:e+i[o-1].length+r}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,n=0,o=Math.min(e.row,i.length),s=t||0;s<o;++s)n+=i[s].length+r;return n+e.column}}).call(c.prototype),t.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){var e=new Date,t=i.currentLine,r=-1,n=i.doc,o=t;while(i.lines[t])t++;var s=n.getLength(),a=0;i.running=!1;while(t<s){i.$tokenizeRow(t),r=t;do{t++}while(i.lines[t]);if(a++,a%5===0&&new Date-e>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,-1==r&&(r=t),o<=r&&i.fireUpdateEvent(o,r)}}};(function(){r.implement(this,n),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null);else{var r=Array(i+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],r=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!==r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var r=e("./lib/lang"),n=(e("./lib/oop"),e("./range").Range),o=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,c=s;c<=a;c++){var l=this.cache[c];null==l&&(l=r.getMatchOffsets(i.getLine(c),this.regExp),l.length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map(function(e){return new n(c,e.offset,c,e.offset+e.length)}),this.cache[c]=l.length?l:"");for(var h=l.length;h--;)t.drawSingleLineMarker(e,l[h].toScreenRange(i),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("../range").Range;function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var r,n,o,s=0,a=this.folds,c=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<a.length;l++){if(r=a[l],n=r.range.compareStart(t,i),-1==n)return void e(null,t,i,s,c);if(o=e(null,r.start.row,r.start.column,s,c),o=!o&&e(r.placeholder,r.start.row,r.start.column,s),o||0===n)return;c=!r.sameRow,s=r.end.column}e(null,t,i,s,c)},this.getNextFoldTo=function(e,t){for(var i,r,n=0;n<this.folds.length;n++){if(i=this.folds[n],r=i.range.compareEnd(e,t),-1==r)return{fold:i,kind:"after"};if(0===r)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var r,n,o=this.getNextFoldTo(e,t);if(o)if(r=o.fold,"inside"==o.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){n=this.folds;var s=n.indexOf(r);for(0===s&&(this.start.column+=i),s;s<n.length;s++){if(r=n[s],r.start.column+=i,!r.sameRow)return;r.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var r=i.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),c=o[a-1];this.end.row=c.end.row,this.end.column=c.end.column,o=o.splice(a,o.length-a);var l=new n(s,o);return s.splice(s.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var r=this.foldData;r.splice(r.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var r=this.folds[i];if(e-=r.start.column-t,e<0)return{row:r.start.row,column:r.start.column+e};if(e-=r.placeholder.length,e<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("./range").Range,n=r.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=n,this.pointIndex=function(e,t,i){for(var r=this.ranges,o=i||0;o<r.length;o++){var s=r[o],a=n(e,s.end);if(!(a>0)){var c=n(e,s.start);return 0===a?t&&0!==c?-o-2:o:c>0||0===c&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var r=this.pointIndex(e.end,t,i);return r<0?r=-r-1:r++,this.ranges.splice(i,r-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return n(e.start,t.start)});for(var i,r=t[0],o=1;o<t.length;o++){i=r,r=t[o];var s=n(i.end,r.start);s<0||(0!=s||i.isEmpty()||r.isEmpty())&&(n(i.end,r.end)<0&&(i.end.row=r.end.row,i.end.column=r.end.column),t.splice(o,1),e.push(r),r=i,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var n=this.pointIndex({row:t,column:0},r);n<0&&(n=-n-1);for(var o=[],s=r;s<n;s++)o.push(i[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,i=e.end,r=t.row,n=i.row,o=this.ranges,s=0,a=o.length;s<a;s++){var c=o[s];if(c.end.row>=r)break}if("insert"==e.action)for(var l=n-r,h=-t.column+i.column;s<a;s++){c=o[s];if(c.start.row>r)break;if(c.start.row==r&&c.start.column>=t.column&&(c.start.column==t.column&&this.$insertRight||(c.start.column+=h,c.start.row+=l)),c.end.row==r&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&h>0&&s<a-1&&c.end.column>c.start.column&&c.end.column==o[s+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=l}}else for(l=r-n,h=t.column-i.column;s<a;s++){c=o[s];if(c.start.row>n)break;c.end.row<n&&(r<c.end.row||r==c.end.row&&t.column<c.end.column)?(c.end.row=r,c.end.column=t.column):c.end.row==n?c.end.column<=i.column?(l||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=h,c.end.row+=l):c.end.row>n&&(c.end.row+=l),c.start.row<n&&(r<c.start.row||r==c.start.row&&t.column<c.start.column)?(c.start.row=r,c.start.column=t.column):c.start.row==n?c.start.column<=i.column?(l||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=h,c.start.row+=l):c.start.row>n&&(c.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){c=o[s];c.start.row+=l,c.end.row+=l}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";e("../range").Range;var r=e("../range_list").RangeList,n=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){s(e.start,t),s(e.end,t)}function c(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function l(e,t){c(e.start,t),c(e.end,t)}n.inherits(o,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);a(e,this.start);for(var t=e.start.row,i=e.start.column,r=0,n=-1;r<this.subFolds.length;r++)if(n=this.subFolds[r].range.compare(t,i),1!=n)break;var o=this.subFolds[r];if(0==n)return o.addSubFold(e);t=e.range.end.row,i=e.range.end.column;var s=r;for(n=-1;s<this.subFolds.length;s++)if(n=this.subFolds[s].range.compare(t,i),1!=n)break;this.subFolds[s];if(0==n)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(r,s-r,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return l(e,this.start)}}.call(o.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";var r=e("../range").Range,n=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;function a(){this.getFoldAt=function(e,t,i){var r=this.getFoldLine(e);if(!r)return null;for(var n=r.folds,o=0;o<n.length;o++){var s=n[o];if(s.range.contains(e,t)){if(1==i&&s.range.isEnd(e,t))continue;if(-1==i&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,r=this.$foldData,n=[];t.column+=1,i.column-=1;for(var o=0;o<r.length;o++){var s=r[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=r[o].folds,c=0;c<a.length;c++){var l=a[c];if(s=l.range.compareRange(e),-2==s)break;if(2!=s){if(42==s)break;n.push(l)}}}}return t.column-=1,i.column+=1,n},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var r=0;r<t[i].folds.length;r++)e.push(t[i].folds[r]);return e},this.getFoldStringAt=function(e,t,i,r){if(r=r||this.getFoldLine(e),!r)return null;for(var n,o,s={end:{column:0}},a=0;a<r.folds.length;a++){o=r.folds[a];var c=o.range.compareEnd(e,t);if(-1==c){n=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===c)return null;s=o}return n||(n=this.getLine(o.start.row).substring(s.end.column)),-1==i?n.substring(0,t-s.end.column):1==i?n.substring(t-s.end.column):n},this.getFoldLine=function(e,t){var i=this.$foldData,r=0;for(t&&(r=i.indexOf(t)),-1==r&&(r=0),r;r<i.length;r++){var n=i[r];if(n.start.row<=e&&n.end.row>=e)return n;if(n.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,r=0;for(t&&(r=i.indexOf(t)),-1==r&&(r=0),r;r<i.length;r++){var n=i[r];if(n.end.row>=e)return n}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,r=t-e+1,n=0;n<i.length;n++){var o=i[n],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,r=this.$foldData,s=!1;e instanceof o?i=e:(i=new o(t,e),i.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(i.range);var a=i.start.row,c=i.start.column,l=i.end.row,h=i.end.column;if(!(a<l||a==l&&c<=h-2))throw new Error("The range has to be at least 2 characters width");var u=this.getFoldAt(a,c,1),d=this.getFoldAt(l,h,-1);if(u&&d==u)return u.addSubFold(i);u&&!u.range.isStart(a,c)&&this.removeFold(u),d&&!d.range.isEnd(l,h)&&this.removeFold(d);var f=this.getFoldsInRange(i.range);f.length>0&&(this.removeFolds(f),f.forEach(function(e){i.addSubFold(e)}));for(var p=0;p<r.length;p++){var g=r[p];if(l==g.start.row){g.addFold(i),s=!0;break}if(a==g.end.row){if(g.addFold(i),s=!0,!i.sameRow){var m=r[p+1];if(m&&m.start.row==l){g.merge(m);break}}break}if(l<=g.start.row)break}return s||(g=this.$addFoldLine(new n(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,r=t.end.row,n=this.$foldData,o=t.folds;if(1==o.length)n.splice(n.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,r):this.$updateRowLengthCache(i,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i,n;if(null==e?(i=new r(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,n=this.getFoldsInRangeList(i),t)this.removeFolds(n);else{var o=n;while(o.length)this.expandFolds(o),o=this.getFoldsInRangeList(i)}if(n.length)return n},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,r,n){null==r&&(r=e.start.row),null==n&&(n=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,i,a){if(!(t<r)){if(t==r){if(i<n)return;a=Math.max(n,a)}s+=null!=e?e:o.getLine(t).substring(a,i)}},t,i),s},this.getDisplayLine=function(e,t,i,r){var n,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,i,r):(n=this.doc.getLine(e),n.substring(r||0,t||n.length))},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var i=t.folds.map(function(e){return e.clone()});return new n(e,i)}),e},this.toggleFold=function(e){var t,i,r=this.selection,n=r.getRange();if(n.isEmpty()){var o=n.start;if(t=this.getFoldAt(o.row,o.column),t)return void this.expandFold(t);(i=this.findMatchingBracket(o))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(o.row,o.column)||n}else{var s=this.getFoldsInRange(n);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var a="...";if(!n.isMultiLine()){if(a=this.getTextRange(n),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,n)}},this.getCommentFoldRange=function(e,t,i){var n=new s(this,e,t),o=n.getCurrentToken(),a=o.type;if(o&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0],"comment"==a&&(a+="|doc-start");var c=new RegExp(a),l=new r;if(1!=i){do{o=n.stepBackward()}while(o&&c.test(o.type));n.stepForward()}if(l.start.row=n.getCurrentTokenRow(),l.start.column=n.getCurrentTokenColumn()+2,n=new s(this,e,t),-1!=i){var h=-1;do{if(o=n.stepForward(),-1==h){var u=this.getState(n.$row);c.test(u)||(h=n.$row)}else if(n.$row>h)break}while(o&&c.test(o.type));o=n.stepBackward()}else o=n.getCurrentToken();return l.end.row=n.getCurrentTokenRow(),l.end.column=n.getCurrentTokenColumn()+o.value.length-2,l}},this.foldAll=function(e,t,i){void 0==i&&(i=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength(),e=e||0;for(var n=e;n<t;n++)if(null==r[n]&&(r[n]=this.getFoldWidget(n)),"start"==r[n]){var o=this.getFoldWidgetRange(n);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){n=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=i)}catch(a){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};var r,n=e-1;while(n>=0){var o=i[n];if(null==o&&(o=i[n]=this.getFoldWidget(n)),"start"==o){var s=this.getFoldWidgetRange(n);if(r||(r=s),s&&s.end.row>=e)break}n--}return{range:-1!==n&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var i={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},r=this.$toggleFoldWidget(e,i);if(!r){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),r=this.getLine(e),n="end"===i?-1:1,o=this.getFoldAt(e,-1===n?0:r.length,n);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var c=a.range.start.row+1,l=a.range.end.row;this.foldAll(c,l,t.all?1e4:0)}else t.children?(l=s?s.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var r=this.getParentFoldRangeData(t,!0);if(i=r.range||r.firstRange,i){t=i.start.row;var n=this.getFoldAt(t,this.getLine(t).length,1);n?this.removeFold(n):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,i+1,null);else{var r=Array(i+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}t.Folding=a}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var r=e("../token_iterator").TokenIterator,n=e("../range").Range;function o(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var r=i.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),r=!0,o=i.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=i.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=n.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=n.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,i){var n=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));var c=t.column-s.getCurrentTokenColumn()-2,l=a.value;while(1){while(c>=0){var h=l.charAt(c);if(h==n){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:c+s.getCurrentTokenColumn()}}else h==e&&(o+=1);c-=1}do{a=s.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=a.value,c=l.length-1}return null}},this.$findClosingBracket=function(e,t,i){var n=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));var c=t.column-s.getCurrentTokenColumn();while(1){var l=a.value,h=l.length;while(c<h){var u=l.charAt(c);if(u==n){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:c+s.getCurrentTokenColumn()}}else u==e&&(o+=1);c+=1}do{a=s.stepForward()}while(a&&!i.test(a.type));if(null==a)break;c=0}return null}}}t.BracketMatch=o}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,c=e("./selection").Selection,l=e("./mode/text").Mode,h=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new c(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};p.$uid=0,function(){r.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){var i=0,r=e.length-1;while(i<=r){var n=i+r>>1,o=e[n];if(t>o)i=n+1;else{if(!(t<o))return n;r=n-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,r=this.bgTokenizer.getTokens(e),n=0;if(null==t){var o=r.length-1;n=this.getLine(e).length}else for(o=0;o<r.length;o++)if(n+=r[o].value.length,n>=t)break;return i=r[o],i?(i.index=o,i.start=n-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=n.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?n.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,r){var n=this.$markerId++,o={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!r,id:n};return r?(this.$frontMarkers[n]=o,this._signal("changeFrontMarker")):(this.$backMarkers[n]=o,this._signal("changeBackMarker")),n},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var i=t.inFront?this.$frontMarkers:this.$backMarkers;delete i[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,r){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var n=new h(e,0,t,1/0);return n.id=this.addMarker(n,i,"fullLine",r),n},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var i=this.getLine(e),r=!1;if(t>0&&(r=!!i.charAt(t-1).match(this.tokenRe)),r||(r=!!i.charAt(t).match(this.tokenRe)),r)var n=this.tokenRe;else if(/^\s+$/.test(i.slice(t-1,t+1)))n=/\s/;else n=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&i.charAt(o).match(n));o++}var s=t;while(s<i.length&&i.charAt(s).match(n))s++;return new h(e,o,e,s)},this.getAWordRange=function(e,t){var i=this.getWordRange(e,t),r=this.getLine(i.end.row);while(r.charAt(i.end.column).match(/[ \t]/))i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,r=i.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[r]&&!i)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,s.loadModule(["mode",r],function(e){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!i?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.addEventListener){var r=this.onReloadTokenizer.bind(this);i.addEventListener("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var n=this;this.bgTokenizer.addEventListener("update",function(e){n._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,r=0,n=0,o=this.$foldData[n],s=o?o.start.row:1/0,a=t.length,c=0;c<a;c++){if(c>s){if(c=o.end.row+1,c>=a)break;o=this.$foldData[n++],s=o?o.start.row:1/0}null==i[c]&&(i[c]=this.$getStringScreenWidth(t[c])[0]),i[c]>r&&(r=i[c])}this.screenWidth=r}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var r=e[i];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var r=e[i];"insert"!=r.action&&"remove"!=r.action||this.doc.applyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,n,o=0;o<e.length;o++){var s=e[o];s.start&&(r?i(s)?(n=s.start,-1==r.compare(n.row,n.column)&&r.setStart(n),n=s.end,1==r.compare(n.row,n.column)&&r.setEnd(n),!0):(n=s.start,-1==r.compare(n.row,n.column)&&(r=h.fromPoints(s.start,s.start)),!1):i(s)?(r=h.fromPoints(s.start,s.end),!0):(r=h.fromPoints(s.start,s.start),!1))}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var r=this.getTextRange(e),n=this.getFoldsInRange(e),o=h.fromPoints(t,t);if(!i){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,r),n.length){var c=e.start,l=o.start;s=l.row-c.row,a=l.column-c.column;this.addFolds(n.map(function(e){return e=e.clone(),e.start.row==c.row&&(e.start.column+=a),e.end.row==c.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new h(0,0,0,0),r=this.getTabSize(),n=t.start.row;n<=t.end.row;++n){var o=this.getLine(n);i.start.row=n,i.end.row=n;for(var s=0;s<r;++s)if(" "!=o.charAt(s))break;s<r&&"\t"==o.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){var r=this.getRowFoldStart(e+i);if(r<0)return 0;var n=r-e}else if(i>0){r=this.getRowFoldEnd(t+i);if(r>this.doc.getLength()-1)return 0;n=r-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);n=t-e+1}var o=new h(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=n,e.end.row+=n,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),s.length&&this.addFolds(s),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var r=this.$constrainWrapLimit(e,i.min,i.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,r=e.start,n=e.end,o=r.row,s=n.row,a=s-o,c=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var l=this.$foldData;c=this.getFoldsInRange(e),this.removeFolds(c);var h=this.getFoldLine(n.row),u=0;if(h){h.addRemoveChars(n.row,n.column,r.column-n.column),h.shiftRow(-a);var d=this.getFoldLine(o);d&&d!==h&&(d.merge(h),h=d),u=l.indexOf(h)+1}for(u;u<l.length;u++){h=l[u];h.start.row>=n.row&&h.shiftRow(-a)}s=o}else{var f=Array(a);f.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,f);l=this.$foldData,h=this.getFoldLine(o),u=0;if(h){var g=h.range.compareInside(r.row,r.column);0==g?(h=h.split(r.row,r.column),h&&(h.shiftRow(a),h.addRemoveChars(s,0,n.column-r.column))):-1==g&&(h.addRemoveChars(o,0,n.column-r.column),h.shiftRow(a)),u=l.indexOf(h)+1}for(u;u<l.length;u++){h=l[u];h.start.row>=o&&h.shiftRow(a)}}else{a=Math.abs(e.start.column-e.end.column),"remove"===i&&(c=this.getFoldsInRange(e),this.removeFolds(c),a=-a);h=this.getFoldLine(o);h&&h.addRemoveChars(o,r.column,a)}return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),c},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r,n,s=this.doc.getAllLines(),a=this.getTabSize(),c=this.$wrapData,l=this.$wrapLimit,h=e;t=Math.min(t,s.length-1);while(h<=t)n=this.getFoldLine(h,n),n?(r=[],n.walk(function(e,t,n,a){var c;if(null!=e){c=this.$getDisplayTokens(e,r.length),c[0]=i;for(var l=1;l<c.length;l++)c[l]=o}else c=this.$getDisplayTokens(s[t].substring(a,n),r.length);r=r.concat(c)}.bind(this),n.end.row,s[n.end.row].length+1),c[n.start.row]=this.$computeWrapSplits(r,l,a),h=n.end.row+1):(r=this.$getDisplayTokens(s[h]),c[h]=this.$computeWrapSplits(r,l,a),h++)};var e=1,t=2,i=3,o=4,c=9,u=10,p=11,g=12;function m(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(e,r,n){if(0==e.length)return[];var s=[],a=e.length,l=0,h=0,d=this.$wrapAsCode,f=this.$indentedSoftWrap,m=r<=Math.max(2*n,8)||!1===f?0:Math.floor(r/2);function v(){var t=0;if(0===m)return t;if(f)for(var i=0;i<e.length;i++){var r=e[i];if(r==u)t+=1;else{if(r!=p){if(r==g)continue;break}t+=n}}return d&&!1!==f&&(t+=n),Math.min(t,m)}function y(t){for(var i=t-l,r=l;r<t;r++){var n=e[r];12!==n&&2!==n||(i-=1)}s.length||(b=v(),s.indent=b),h+=i,s.push(h),l=t}var b=0;while(a-l>r-b){var w=l+r-b;if(e[w-1]>=u&&e[w]>=u)y(w);else if(e[w]!=i&&e[w]!=o){var x=Math.max(w-(r-(r>>2)),l-1);while(w>x&&e[w]<i)w--;if(d){while(w>x&&e[w]<i)w--;while(w>x&&e[w]==c)w--}else while(w>x&&e[w]<u)w--;w>x?y(++w):(w=l+r,e[w]==t&&w--,y(w-b))}else{for(w;w!=l-1;w--)if(e[w]==i)break;if(w>l){y(w);continue}for(w=l+r,w;w<e.length;w++)if(e[w]!=o)break;if(w==e.length)break;y(w)}}return s},this.$getDisplayTokens=function(i,r){var n,o=[];r=r||0;for(var s=0;s<i.length;s++){var a=i.charCodeAt(s);if(9==a){n=this.getScreenTabSize(o.length+r),o.push(p);for(var l=1;l<n;l++)o.push(g)}else 32==a?o.push(u):a>39&&a<48||a>57&&a<64?o.push(c):a>=4352&&m(a)?o.push(e,t):o.push(e)}return o},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var r,n;for(null==t&&(t=1/0),i=i||0,n=0;n<e.length;n++)if(r=e.charCodeAt(n),9==r?i+=this.getScreenTabSize(i):r>=4352&&m(r)?i+=2:i+=1,i>t)break;return[i,n]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var r,n,o=0,s=0,a=0,c=0,l=this.$screenRowCache,h=this.$getRowCacheIndex(l,e),u=l.length;if(u&&h>=0){a=l[h],o=this.$docRowCache[h];var d=e>l[u-1]}else d=!u;var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:1/0;while(a<=e){if(c=this.getRowLength(o),a+c>e||o>=f)break;a+=c,o++,o>g&&(o=p.end.row+1,p=this.getNextFoldLine(o,p),g=p?p.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a))}if(p&&p.start.row<=o)r=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+c<=e||o>f)return{row:f,column:this.getLine(f).length};r=this.getLine(o),p=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(n=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],r=r.substring(s)))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(i)),s+=this.$getStringScreenWidth(r,t-m)[1],this.$useWrapMode&&s>=n&&(s=n-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var r=0,n=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,c=this.$docRowCache,l=this.$getRowCacheIndex(c,e),h=c.length;if(h&&l>=0){a=c[l],r=this.$screenRowCache[l];var u=e>c[h-1]}else u=!h;var d=this.getNextFoldLine(a),f=d?d.start.row:1/0;while(a<e){if(a>=f){if(s=d.end.row+1,s>e)break;d=this.getNextFoldLine(s,d),f=d?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,e,t),n=d.start.row):(p=this.getLine(e).substring(0,t),n=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[n];if(m){var v=0;while(p.length>=m[v])r++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return{row:r,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode){var i=this.$wrapData.length,r=0,n=(a=0,t=this.$foldData[a++],t?t.start.row:1/0);while(r<i){var o=this.$wrapData[r];e+=o?o.length+1:1,r++,r>n&&(r=t.end.row+1,t=this.$foldData[a++],n=t?t.start.row:1/0)}}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)t=s[a],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,r){if(0===i)return[0,0];var n,o;for(i||(i=1/0),r=r||0,o=0;o<t.length;o++)if(n=t.charAt(o),r+="\t"===n?this.getScreenTabSize(r):e.getCharacterWidth(n),r>i)break;return[r,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=m}.call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),s.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var r=e("./lib/lang"),n=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};function a(e,t){function i(e){return/\w/.test(e)||t.regExp?"\\b":""}return i(e[0])+e+i(e[e.length-1])}(function(){this.set=function(e){return n.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var r=null;return i.forEach(function(e,i,n,s){return r=new o(e,i,n,s),!(i==s&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)}),r},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,n=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var c,l=a.length,h=n.length-l;e:for(var u=a.offset||0;u<=h;u++){for(var d=0;d<l;d++)if(-1==n[u+d].search(a[d]))continue e;var f=n[u],p=n[u+l-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[l-1])[0].length;c&&c.end.row===u&&c.end.column>g||(s.push(c=new o(u,g,u+l-1,m)),l>2&&(u=u+l-2))}}else for(var v=0;v<n.length;v++){var y=r.getMatchOffsets(n[v],a);for(d=0;d<y.length;d++){var b=y[d];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(i){var w=i.start.column,x=i.start.column;v=0,d=s.length-1;while(v<d&&s[v].start.column<w&&s[v].start.row==i.start.row)v++;while(v<d&&s[d].end.column>x&&s[d].end.row==i.end.row)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=i.start.row,s[v].end.row+=i.start.row}return s},this.replace=function(e,t){var i=this.$options,r=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(r){var n=r.exec(e);if(!n||n[0].length!=e.length)return null;if(t=e.replace(r,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=r.escapeRegExp(i)),e.wholeWord&&(i=a(i,e));var n=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,n);try{var o=new RegExp(i,n)}catch(s){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],n=0;n<i.length;n++)try{r.push(new RegExp(i[n],t))}catch(o){return!1}return r},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var r=1==t.backwards,n=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[r?"end":"start"]:e.selection.getRange()),s.start&&(s=s[n!=r?"end":"start"]);var a=o?o.start.row:0,c=o?o.end.row:e.getLength()-1;if(r)var l=function(e){var i=s.row;if(!u(i,s.column,e)){for(i--;i>=a;i--)if(u(i,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(i=c,a=s.row;i>=a;i--)if(u(i,Number.MAX_VALUE,e))return}};else l=function(e){var i=s.row;if(!u(i,s.column,e)){for(i+=1;i<=c;i++)if(u(i,0,e))return;if(0!=t.wrap)for(i=a,c=s.row;i<=c;i++)if(u(i,0,e))return}};if(t.$isMultiLine)var h=i.length,u=function(t,n,o){var s=r?t-h+1:t;if(!(s<0)){var a=e.getLine(s),c=a.search(i[0]);if(!(!r&&c<n||-1===c)){for(var l=1;l<h;l++)if(a=e.getLine(s+l),-1==a.search(i[l]))return;var u=a.match(i[h-1])[0].length;if(!(r&&u>n))return!!o(s,c,s+h-1,u)||void 0}}};else if(r)u=function(t,r,n){var o,s=e.getLine(t),a=[],c=0;i.lastIndex=0;while(o=i.exec(s)){var l=o[0].length;if(c=o.index,!l){if(c>=s.length)break;i.lastIndex=c+=1}if(o.index+l>r)break;a.push(o.index,l)}for(var h=a.length-1;h>=0;h-=2){var u=a[h-1];l=a[h];if(n(t,u,t,u+l))return!0}};else u=function(t,r,n){var o,s,a=e.getLine(t);i.lastIndex=r;while(s=i.exec(a)){var c=s[0].length;if(o=s.index,n(t,o,t,o+c))return!0;if(!c&&(i.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:l}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("../lib/keys"),n=e("../lib/useragent"),o=r.KEY_MODS;function s(e,t){this.platform=t||(n.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"===typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var r=this.commandKeyBinding;for(var n in r){var o=r[n];if(o==e)delete r[n];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(r[n]=o[0]))}}},this.bindKey=function(e,t,i){if("object"==typeof e&&e&&(void 0==i&&(i=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach(function(e){var r="";if(-1!=e.indexOf(" ")){var n=e.split(/\s+/);e=n.pop(),n.forEach(function(e){var t=this.parseKeys(e),i=o[t.hashId]+t.key;r+=(r?" ":"")+i,this._addCommandToBinding(r,"chainKeys")},this),r+=" "}var s=this.parseKeys(e),a=o[s.hashId]+s.key;this._addCommandToBinding(r+a,t,i)},this)},this._addCommandToBinding=function(t,i,r){var n,o=this.commandKeyBinding;if(i)if(!o[t]||this.$singleCommand)o[t]=i;else{Array.isArray(o[t])?-1!=(n=o[t].indexOf(i))&&o[t].splice(n,1):o[t]=[o[t]],"number"!=typeof r&&(r=e(i));var s=o[t];for(n=0;n<s.length;n++){var a=s[n],c=e(a);if(c>r)break}s.splice(n,0,i)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var i=e[t];if(i){if("string"===typeof i)return this.bindKey(i,t);"function"===typeof i&&(i={exec:i}),"object"===typeof i&&(i.name||(i.name=t),this.addCommand(i))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=r[i];if(r.FUNCTION_KEYS[n])i=r.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:i,hashId:o}},this.findKeyCommand=function(e,t){var i=o[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,r){if(!(r<0)){var n=o[t]+i,s=this.commandKeyBinding[n];return e.$keyChain&&(e.$keyChain+=" "+n,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-n.length-1)),{command:s}):(e.$keyChain=e.$keyChain||n,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var r=e("../lib/oop"),n=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){n.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};r.inherits(s,n),function(){r.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,i))return!0;return!1}if("string"===typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var n={editor:t,command:e,args:i};return n.returnValue=this._emit("exec",n),this._signal("afterExec",n),!1!==n.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(s.prototype),t.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";var r=e("../lib/lang"),n=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){n.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:s("Alt-E","F4"),exec:function(e){n.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){n.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t&&(t=parseInt(prompt("Enter line number:"),10)),isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){n.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:s("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:s("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty(),i=t?e.selection.getLineRange():e.selection.getRange();e._emit("cut",i),i.isEmpty()||e.session.remove(i),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){n.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),c=a.replace(/\n\s*/," ").length,l=e.session.doc.getLine(i.row),h=i.row+1;h<=n.row+1;h++){var u=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(h)));0!==u.length&&(u=" "+u),l+=u}n.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(i.row,0,n.row+2,0),l),c>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+c)):(s=e.session.doc.getLine(i.row).length>s?s+1:s,e.selection.moveCursorTo(i.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,n=[];r.length<1&&(r=[e.selection.getRange()]);for(var s=0;s<r.length;s++)s==r.length-1&&(r[s].end.row===t&&r[s].end.column===i||n.push(new o(r[s].end.row,r[s].end.column,t,i))),0===s?0===r[s].start.row&&0===r[s].start.column||n.push(new o(0,0,r[s].start.row,r[s].start.column)):n.push(new o(r[s-1].end.row,r[s-1].end.column,r[s].start.row,r[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<n.length;s++)e.selection.addRange(n[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,i){"use strict";i.exports={lineMode:!1}}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/oop"),n=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,h=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,f=e("./range").Range,p=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function(e,t,i){var r=e.getContainerElement();this.container=r,this.renderer=e,this.id="editor"+ ++w.$uid,this.commands=new g(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new l(this)),this.keyBinding=new h(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||i&&i.session||new u("")),v.resetOptions(this),i&&this.setOptions(i),v._signal("editor",this)};w.$uid=0,function(){r.implement(this,p),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),n=this.renderer.layerConfig;(r.start.row>=n.lastRow||r.end.row<=n.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var n=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(n)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==i.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var i=this;v.loadModule(["keybinding",e],function(r){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||n.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=t.findMatchingBracket(e.getCursorPosition());if(i)var r=new f(i.row,i.column,i.row,i.column+1);else if(t.$mode.getMatching)r=t.$mode.getMatching(e.session);r&&(t.$bracketHighlight=t.addMarker(r,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=e.getCursorPosition(),r=new y(e.session,i.row,i.column),n=r.getCurrentToken();if(!n||!/\b(?:tag-open|tag-name)/.test(n.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==n.type.indexOf("tag-open")||(n=r.stepForward(),n)){var o=n.value,s=0,a=r.stepBackward();if("<"==a.value)do{a=n,n=r.stepForward(),n&&n.value===o&&-1!==n.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(n&&s>=0);else{do{n=a,a=r.stepBackward(),n&&n.value===o&&-1!==n.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(a&&s<=0);r.stepForward()}if(!n)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var c=r.getCurrentTokenRow(),l=r.getCurrentTokenColumn(),h=new f(c,l,c,l+n.value.length),u=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&void 0!=u&&0!==h.compareRange(u.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(h,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new f(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",r)}var n=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(n),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,r=t.end.column,n=e.getLine(t.start.row),o=n.substring(i,r);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=n.substring(i-1,r+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var r=this.selection.getAllRanges(),n=0;n<r.length;n++){var o=r[n];n&&r[n-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=i?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec("paste",this,i)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,i=t==b.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach(function(e){r.insert({row:e.start.row,column:0},t)});else{var n=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(n.length>o.length||n.length<2||!n[1])return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var a=o[s];a.isEmpty()||r.remove(a),r.insert(a.start,n[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,r=i.getMode(),n=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=r.transformAction(i.getState(n.row),"insertion",this,i,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){s=new f.fromPoints(n,n);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();n=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(n.row);if(n.column>a.search(/\S|$/)){var c=a.substr(n.column).search(/\S|$/);i.doc.removeInLine(n.row,n.column,n.column+c)}}this.clearSelection();var l=n.column,h=i.getState(n.row),u=(a=i.getLine(n.row),r.checkOutdent(h,a,e));i.insert(n,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(n.row,l+o.selection[0],n.row,l+o.selection[1])):this.selection.setSelectionRange(new f(n.row+o.selection[0],o.selection[1],n.row+o.selection[2],o.selection[3]))),i.getDocument().isNewLine(e)){var d=r.getNextLineIndent(h,a.slice(0,n.column),i.getTabString());i.insert({row:n.row+1,column:0},d)}u&&r.autoOutdent(h,i,n.row)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(e,t){if(t.extendLeft||t.extendRight){var i=this.selection.getRange();i.start.column-=t.extendLeft,i.end.column+=t.extendRight,this.selection.setRange(i),e||i.isEmpty()||this.remove()}if(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd){i=this.selection.getRange();i.start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i)}},this.onCommandKey=function(e,t,i){this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,r=i.getState(t.start.row),n=i.getMode().transformAction(r,"deletion",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if("\n"==o[o.length-1]){var s=i.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}n&&(t=n)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,r,n=this.session.getLine(e.row);t<n.length?(i=n.charAt(t)+n.charAt(t-1),r=new f(e.row,t-1,e.row,t+1)):(i=n.charAt(t-1)+n.charAt(t-2),r=new f(e.row,t-2,e.row,t)),this.session.replace(r,i),this.session.selection.moveToPosition(r.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){h=this.$getSelectedRows();return void e.indentRows(h.first,h.last,"\t")}}var r=e.getLine(t.start.row),n=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(n.row,n.column);if(this.session.getUseSoftTabs())var c=s-a%s,l=o.stringRepeat(" ",c);else{c=a%s;while(" "==r[t.start.column-1]&&c)t.start.column--,c--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],r=e.first;r<=e.last;r++)i.push(t.getLine(r));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var n=new f(0,0,0,0);for(r=e.first;r<=e.last;r++){var o=t.getLine(r);n.start.row=r,n.end.row=r,n.end.column=o.length,t.replace(n,i[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;var r=this.session.getLine(e);while(i.lastIndex<t){var n=i.exec(r);if(n.index<=t&&n.index+n[0].length>=t){var o={value:n[0],start:n.index,end:n.index+n[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,r=new f(t,i-1,t,i),n=this.session.getTextRange(r);if(!isNaN(parseFloat(n))&&isFinite(n)){var o=this.getNumberAt(t,i);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,c=parseFloat(o.value);c*=Math.pow(10,a),s!==o.end&&i<s?e*=Math.pow(10,o.end-i-1):e*=Math.pow(10,o.end-i),c+=e,c/=Math.pow(10,a);var l=c.toFixed(a),h=new f(t,o.start,t,o.end);this.session.replace(h,l),this.moveCursorTo(t,Math.max(o.start+1,i+l.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),r=this.selection.getWordRange().start.column,n=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-r-1;s<0&&(s=0);var a=0,c=0,l=this;i.match(/[A-Za-z0-9_]+/)&&n.forEach(function(t,n){c=a+t.length,s>=a&&s<=c&&(i=t,l.selection.clearSelection(),l.moveCursorTo(e,a+r),l.selection.selectTo(e,c+r)),a=c});for(var h,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var f=u[d],p=0;p<=1;p++){var g=+!p,m=i.match(new RegExp("^\\s?_?("+o.escapeRegExp(f[p])+")\\s?$","i"));if(m){var v=i.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"));v&&(h=i.replace(new RegExp(o.escapeRegExp(f[p]),"i"),function(e){var t=f[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+f[g].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(h),h="")}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),r=e.isBackwards();if(i.isEmpty()){var n=i.start.row;t.duplicateLines(n,n)}else{var o=r?i.start:i.end,s=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=s,e.setSelectionRange(i,r)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,r,n=this.selection;if(!n.inMultiSelectMode||this.inVirtualSelectionMode){var o=n.toOrientedRange();i=this.$getSelectedRows(o),r=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(r=0),o.moveBy(r,0),n.fromOrientedRange(o)}else{var s=n.rangeList.ranges;n.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,c=0,l=s.length,h=0;h<l;h++){var u=h;s[h].moveBy(a,0),i=this.$getSelectedRows(s[h]);var d=i.first,f=i.last;while(++h<l){c&&s[h].moveBy(c,0);var p=this.$getSelectedRows(s[h]);if(t&&p.first!=f)break;if(!t&&p.first>f+1)break;f=p.last}h--,a=this.session.$moveLines(d,f,t?0:e),t&&-1==e&&(u=h+1);while(u<=h)s[u].moveBy(a,0),u++;t||(a=0),c+=a}n.fromOrientedRange(n.ranges[0]),n.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,r=this.renderer.layerConfig,n=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(n,0)}):!1===t&&(this.selection.moveCursorBy(n,0),this.selection.clearSelection());var o=i.scrollTop;i.scrollBy(0,n*r.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,r){this.renderer.scrollToLine(e,t,i,r)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),r=new y(this.session,i.row,i.column),n=r.getCurrentToken(),o=n||r.stepForward();if(o){var s,a,c=!1,l={},h=i.column-o.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;h<o.value.length&&!c;h++)if(u[o.value[h]])switch(a=u[o.value[h]]+"."+o.type.replace("rparen","lparen"),isNaN(l[a])&&(l[a]=0),o.value[h]){case"(":case"[":case"{":l[a]++;break;case")":case"]":case"}":l[a]--,-1===l[a]&&(s="bracket",c=!0);break}}else-1!==o.type.indexOf("tag-name")&&(isNaN(l[o.value])&&(l[o.value]=0),"<"===n.value?l[o.value]++:"</"===n.value&&l[o.value]--,-1===l[o.value]&&(s="tag",c=!0));c||(n=o,o=r.stepForward(),h=0)}while(o&&!c);if(s){var d,p;if("bracket"===s)d=this.session.getBracketRange(i),d||(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+h-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+h-1),p=d.start,(t||p.row===i.row&&Math.abs(p.column-i.column)<2)&&(d=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(d=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2),0===d.compare(i.row,i.column)){c=!1;do{o=n,n=r.stepBackward(),n&&(-1!==n.type.indexOf("tag-close")&&d.setEnd(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===n.value?l[g]++:"</"===n.value&&l[g]--,0===l[g]&&(c=!0)))}while(n&&!c)}o&&o.type.indexOf("tag-name")&&(p=d.start,p.row==i.row&&Math.abs(p.column-i.column)<2&&(p=d.end))}p=d&&d.cursor||p,p&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty()){e=e||1;while(e--)this.selection.moveCursorLeft()}else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty()){e=e||1;while(e--)this.selection.moveCursorRight()}else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),r=0;return i?(this.$tryReplace(i,e)&&(r=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),r):r},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),r=0;if(!i.length)return r;var n=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;o>=0;--o)this.$tryReplace(i[o],e)&&r++;return this.selection.setSelectionRange(n),r},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return t=this.$search.replace(i,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&r.mixin(t,e);var n=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(n)||this.$search.$options.needle,e||(n=this.session.getWordRange(n.start.row,n.start.column),e=this.session.getTextRange(n)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:n});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?n.start=n.end:n.end=n.start,void this.selection.setRange(n))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var n=this.$scrollAnchor;n.style.cssText="position:absolute",this.container.insertBefore(n,this.container.firstChild);var o=this.on("changeSelection",function(){r=!0}),s=this.renderer.on("beforeRender",function(){r&&(t=i.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(r&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var e=i.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;r=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null,null!=r&&(n.style.top=a+"px",n.style.left=o.left+"px",n.style.height=s.lineHeight+"px",n.scrollIntoView(r)),r=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,n.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}.call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?x.attach(this):x.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?x.attach(this):x.detach(this)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var x={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};function n(e,t){for(var i=t;i--;){var r=e[i];if(r&&!r[0].ignore){while(i<t-1){var n=d(e[i],e[i+1]);e[i]=n[0],e[i+1]=n[1],i++}return!0}}}(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,r=i.length;r--;){var n=i[r][0];if(n.id<=e)break;n.id<t&&(n.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,r=i.length;r--;){var n=i[r];if(n.rev<e)return t&&(n=i[r+1]),n}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,r=null,n=0,o=i.length;o--;){var s=i[o][0];if(s.id<t&&!r&&(r=o+1),s.id<=e){n=o+1;break}}return i.slice(n,r)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(n(i,i.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=i.pop(),o=null;return r&&r.length&&(o=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);y(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var r=this.$redoStack.pop(),n=null;return r&&(n=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,n},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?l(e):l(this.$undoStack)+"\n---\n"+l(this.$redoStack)}}).call(r.prototype);var o=e("./range").Range,s=o.comparePoints;o.comparePoints;function a(e){return{row:e.row,column:e.column}}function c(e){return{start:a(e.start),end:a(e.end),action:e.action,lines:e.lines.slice()}}function l(e){if(e=e||this,Array.isArray(e))return e.map(l).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(h).join("\n"):h(e.value)),e.start&&(t+=h(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function h(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function u(e,t){var i="insert"==e.action,r="insert"==t.action;if(i&&r)if(s(t.start,e.end)>=0)p(t,e,-1);else{if(!(s(t.start,e.start)<=0))return null;p(e,t,1)}else if(i&&!r)if(s(t.start,e.end)>=0)p(t,e,-1);else{if(!(s(t.end,e.start)<=0))return null;p(e,t,-1)}else if(!i&&r)if(s(t.start,e.start)>=0)p(t,e,1);else{if(!(s(t.start,e.start)<=0))return null;p(e,t,1)}else if(!i&&!r)if(s(t.start,e.start)>=0)p(t,e,1);else{if(!(s(t.end,e.start)<=0))return null;p(e,t,-1)}return[t,e]}function d(e,t){for(var i=e.length;i--;)for(var r=0;r<t.length;r++)if(!u(e[i],t[r])){while(i<e.length){while(r--)u(t[r],e[i]);r=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function f(e,t){var i="insert"==e.action,r="insert"==t.action;if(i&&r)s(e.start,t.start)<0?p(t,e,1):p(e,t,1);else if(i&&!r)s(e.start,t.end)>=0?p(e,t,-1):s(e.start,t.start)<=0?p(t,e,1):(p(e,o.fromPoints(t.start,e.start),-1),p(t,e,1));else if(!i&&r)s(t.start,e.end)>=0?p(t,e,-1):s(t.start,e.start)<=0?p(e,t,1):(p(t,o.fromPoints(e.start,t.start),-1),p(e,t,1));else if(!i&&!r)if(s(t.start,e.end)>=0)p(t,e,-1);else{var n,a;if(!(s(t.end,e.start)<=0))return s(e.start,t.start)<0&&(n=e,e=m(e,t.start)),s(e.end,t.end)>0&&(a=m(e,t.end)),g(t.end,e.start,e.end,-1),a&&!n&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,n,a].filter(Boolean);p(e,t,-1)}return[t,e]}function p(e,t,i){g(e.start,t.start,t.end,i),g(e.end,t.start,t.end,i)}function g(e,t,i,r){e.row==(1==r?t:i).row&&(e.column+=r*(i.column-t.column)),e.row+=r*(i.row-t.row)}function m(e,t){var i=e.lines,r=e.end;e.end=a(t);var n=e.end.row-e.start.row,o=i.splice(n,i.length),s=n?t.column:t.column-e.start.column;i.push(o[0].substring(0,s)),o[0]=o[0].substr(s);var c={start:a(t),end:r,lines:o,action:e.action};return c}function v(e,t){t=c(t);for(var i=e.length;i--;){for(var r=e[i],n=0;n<r.length;n++){var o=r[n],s=f(o,t);t=s[0],2!=s.length&&(s[2]?(r.splice(n+1,1,s[1],s[2]),n++):s[1]||(r.splice(n,1),n--))}r.length||e.splice(i,1)}return e}function y(e,t){for(var i=0;i<t.length;i++)for(var r=t[i],n=0;n<r.length;n++)v(e,r[n])}t.UndoManager=r}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var r=e("../lib/dom"),n=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var r=t.firstRowScreen*t.lineHeight,n=Math.floor(r/this.canvasHeight),o=i.documentToScreenRow(e,0)*t.lineHeight;return o-n*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLength(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,i,n){var o=this.cellCache.pop();if(!o){var s=r.createElement("div");n&&n(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(n.prototype),t.Lines=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,t,i){"use strict";var r=e("../lib/dom"),n=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,c=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function l(e){var t=document.createTextNode("");e.appendChild(t);var i=r.createElement("span");return e.appendChild(i),e}(function(){n.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],r=i.row,n=this.$annotations[r];n||(n=this.$annotations[r]={text:[]});var s=i.text;s=s?o.escapeHTML(s):i.html||"",-1===n.text.indexOf(s)&&n.text.push(s);var a=i.type;"error"==a?n.className=" ace_error":"warning"==a&&" ace_error"!=n.className?n.className=" ace_warning":"info"!=a||n.className||(n.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0===i);else if("remove"==e.action)this.$annotations.splice(t,i+1,null);else{var r=new Array(i+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();var n=t.getNextFoldLine(i),o=n?n.start.row:1/0,s=null,a=-1,c=i;while(1){if(c>o&&(c=n.end.row+1,n=t.getNextFoldLine(c,n),o=n?n.start.row:1/0),c>r){while(this.$lines.getLength()>a+1)this.$lines.pop();break}s=this.$lines.get(++a),s?s.row=c:(s=this.$lines.createCell(c,e,this.session,l),this.$lines.push(s)),this.$renderCell(s,e,n,c),c++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,n=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(n=t.getLength()+r-1);var o=i?i.getWidth(t,n,e):n.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();o+=s.left+s.right,o===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var r=t[i];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var n=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&n&&n.start.row==t[i-1].row))break;r=t[i-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=i,!t||r<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)this.$lines.shift();if(r>i)for(n=this.session.getFoldedRowCount(i+1,r);n>0;n--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i>r&&this.$lines.push(this.$renderLines(e,r+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,i){var r=[],n=t,o=this.session.getNextFoldLine(n),s=o?o.start.row:1/0;while(1){if(n>s&&(n=o.end.row+1,o=this.session.getNextFoldLine(n,o),s=o?o.start.row:1/0),n>i)break;var a=this.$lines.createCell(n,e,this.session,l);this.$renderCell(a,e,o,n),r.push(a),n++}return r},this.$renderCell=function(e,t,i,n){var o=e.element,s=this.session,a=o.childNodes[0],c=o.childNodes[1],l=s.$firstLineNumber,h=s.$breakpoints,u=s.$decorations,d=s.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&s.foldWidgets,p=i?i.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(n==this.$cursorRow||i&&n<this.$cursorRow&&n>=p&&this.$cursorRow<=i.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[n]&&(g+=h[n]),u[n]&&(g+=u[n]),this.$annotations[n]&&(g+=this.$annotations[n].className),o.className!=g&&(o.className=g),f){var m=f[n];null==m&&(m=f[n]=s.getFoldWidget(n))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&n==p&&n<i.end.row?g+=" ace_closed":g+=" ace_open",c.className!=g&&(c.className=g);var v=t.lineHeight+"px";r.setStyle(c.style,"height",v),r.setStyle(c.style,"display","inline-block")}else c&&r.setStyle(c.style,"display","none");var y=(d?d.getText(s,n):n+l).toString();return y!==a.data&&(a.data=y),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(n,t,s)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(n,t,s)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(c.prototype),t.Gutter=c}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var r=e("../range").Range,n=e("../lib/dom"),o=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,i,r){return(e?1:0)|(t?2:0)|(i?4:0)|(r?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e},this.update=function(e){if(e){var t;for(var i in this.config=e,this.i=0,this.markers){var r=this.markers[i];if(r.range){var n=r.range.clipRows(e.firstRow,e.lastRow);if(!n.isEmpty())if(n=n.toScreenRange(this.session),r.renderer){var o=this.$getTop(n.start.row,e),s=this.$padding+n.start.column*e.characterWidth;r.renderer(t,n,s,o,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,n,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,n,r.clazz,e):n.isMultiLine()?"text"==r.type?this.drawTextMarker(t,n,r.clazz,e):this.drawMultiLineMarker(t,n,r.clazz,e):this.drawSingleLineMarker(t,n,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,i,n,o,s){for(var a=this.session,c=i.start.row,l=i.end.row,h=c,u=0,d=0,f=a.getScreenLastRowColumn(h),p=new r(h,i.start.column,h,d);h<=l;h++)p.start.row=p.end.row=h,p.start.column=h==c?i.start.column:a.getRowWrapIndent(h),p.end.column=f,u=d,d=f,f=h+1<l?a.getScreenLastRowColumn(h+1):h==l?0:i.end.column,this.drawSingleLineMarker(t,p,n+(h==c?" ace_start":"")+" ace_br"+e(h==c||h==c+1&&i.start.column,u<d,d>f,h==l),o,h==l?0:1,s)},this.drawMultiLineMarker=function(e,t,i,r,n){var o=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),c=o+t.start.column*r.characterWidth;if(n=n||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var l=t.clone();l.end.row=l.start.row,l.end.column=this.session.getLine(l.start.row).length,this.drawBidiSingleLineMarker(e,l,i+" ace_br1 ace_start",r,null,n)}else this.elt(i+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+c+"px;"+(n||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){l=t.clone();l.start.row=l.end.row,l.start.column=0,this.drawBidiSingleLineMarker(e,l,i+" ace_br12",r,null,n)}else{a=this.$getTop(t.end.row,r);var h=t.end.column*r.characterWidth;this.elt(i+" ace_br12","height:"+s+"px;width:"+h+"px;top:"+a+"px;left:"+o+"px;"+(n||""))}if(s=(t.end.row-t.start.row-1)*r.lineHeight,!(s<=0)){a=this.$getTop(t.start.row+1,r);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(i+(u?" ace_br"+u:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(n||""))}},this.drawSingleLineMarker=function(e,t,i,r,n,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,r,n,o);var s=r.lineHeight,a=(t.end.column+(n||0)-t.start.column)*r.characterWidth,c=this.$getTop(t.start.row,r),l=this.$padding+t.start.column*r.characterWidth;this.elt(i,"height:"+s+"px;width:"+a+"px;top:"+c+"px;left:"+l+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,i,r,n,o){var s=r.lineHeight,a=this.$getTop(t.start.row,r),c=this.$padding,l=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);l.forEach(function(e){this.elt(i,"height:"+s+"px;width:"+e.width+(n||0)+"px;top:"+a+"px;left:"+(c+e.left)+"px;"+(o||""))},this)},this.drawFullLineMarker=function(e,t,i,r,n){var o=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-o),this.elt(i,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(n||""))},this.drawScreenLineMarker=function(e,t,i,r,n){var o=this.$getTop(t.start.row,r),s=r.lineHeight;this.elt(i,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(n||""))}}).call(o.prototype),t.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,t,i){"use strict";var r=e("../lib/oop"),n=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,c=function(e){this.dom=n,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){r.implement(this,a),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode(),i=t?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=i)return this.EOL_CHAR=i,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)if(this.showInvisibles){var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_tab",r.textContent=o.stringRepeat(this.TAB_CHAR,i),t.push(r)}else t.push(this.dom.createTextNode(o.stringRepeat(" ",i),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",s="",a="";if(this.showInvisibles){n+=" ace_invisible",s=" ace_invisible_space",a=" ace_invisible_tab";var c=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=o.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=o.stringRepeat(" ",this.tabSize),l=c;r=this.dom.createElement("span");r.className=n+s,r.textContent=c,this.$tabStrings[" "]=r;r=this.dom.createElement("span");r.className=n+a,r.textContent=l,this.$tabStrings["\t"]=r}},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),n=Math.min(i,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){var c=this.session.getFoldLine(a);if(c){if(c.containsRow(r)){r=c.start.row;break}a=c.end.row}s++}var l=!1,h=(a=r,c=this.session.getNextFoldLine(a),c?c.start.row:1/0);while(1){if(a>h&&(a=c.end.row+1,c=this.session.getNextFoldLine(a,c),h=c?c.start.row:1/0),a>n)break;var u=o[s++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==h&&c);var d=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(l=!0,u.style.height=d)}a++}if(l)while(s<this.$lines.cells.length){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)this.$lines.shift();if(t.lastRow>e.lastRow)for(n=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);n>0;n--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,i){var r=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;while(1){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>i)break;var c=this.$lines.createCell(o,e,this.session),l=c.element;this.dom.removeChildren(l),n.setStyle(l.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),n.setStyle(l.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(l,o,o==a&&s),this.$useLineGroups()?l.className="ace_line_group":l.className="ace_line",r.push(c),o++}return r},this.update=function(e){this.$lines.moveContainer(e),this.config=e;var t=e.firstRow,i=e.lastRow,r=this.$lines;while(r.getLength())r.pop();r.push(this.$renderLinesFragment(e,t,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,r){var s,a=this,c=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),h=0;while(s=c.exec(r)){var u=s[1],d=s[2],f=s[3],p=s[4],g=s[5];if(a.showInvisibles||!d){var m=h!=s.index?r.slice(h,s.index):"";if(h=s.index+s[0].length,m&&l.appendChild(this.dom.createTextNode(m,this.element)),u){var v=a.session.getScreenTabSize(t+s.index);l.appendChild(a.$tabStrings[v].cloneNode(!0)),t+=v-1}else if(d)if(a.showInvisibles){var y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_space",y.textContent=o.stringRepeat(a.SPACE_CHAR,d.length),l.appendChild(y)}else l.appendChild(this.com.createTextNode(d,this.element));else if(f){y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_space ace_invalid",y.textContent=o.stringRepeat(a.SPACE_CHAR,f.length),l.appendChild(y)}else if(p){a.showInvisibles&&a.SPACE_CHAR;t+=1;y=this.dom.createElement("span");y.style.width=2*a.config.characterWidth+"px",y.className=a.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",y.textContent=a.showInvisibles?a.SPACE_CHAR:"",l.appendChild(y)}else if(g){t+=1;y=n.createElement("span");y.style.width=2*a.config.characterWidth+"px",y.className="ace_cjk",y.textContent=g,l.appendChild(y)}}}if(l.appendChild(this.dom.createTextNode(h?r.slice(h):r,this.element)),this.$textToken[i.type])e.appendChild(l);else{var b="ace_"+i.type.replace(/\./g," ace_");y=this.dom.createElement("span");"fold"==i.type&&(y.style.width=i.value.length*this.config.characterWidth+"px"),y.className=b,y.appendChild(l),e.appendChild(y)}return t+r.length},this.renderIndentGuide=function(e,t,i){var r=t.search(this.$indentGuideRe);if(r<=0||r>=i)return t;if(" "==t[0]){r-=r%this.tabSize;for(var n=r/this.tabSize,o=0;o<n;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(r)}if("\t"==t[0]){for(o=0;o<r;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(r)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,i){var r=0,n=0,s=i[0],a=0,c=this.$createLineElement();e.appendChild(c);for(var l=0;l<t.length;l++){var h=t[l],u=h.value;if(0==l&&this.displayIndentGuides){if(r=u.length,u=this.renderIndentGuide(c,u,s),!u)continue;r-=u.length}if(r+u.length<s)a=this.$renderToken(c,a,h,u),r+=u.length;else{while(r+u.length>=s)a=this.$renderToken(c,a,h,u.substring(0,s-r)),u=u.substring(s-r),r=s,c=this.$createLineElement(),e.appendChild(c),c.appendChild(this.dom.createTextNode(o.stringRepeat(" ",i.indent),this.element)),n++,a=0,s=i[n]||Number.MAX_VALUE;0!=u.length&&(r+=u.length,a=this.$renderToken(c,a,h,u))}}},this.$renderSimpleLine=function(e,t){var i=0,r=t[0],n=r.value;this.displayIndentGuides&&(n=this.renderIndentGuide(e,n)),n&&(i=this.$renderToken(e,i,r,n));for(var o=1;o<t.length;o++){if(r=t[o],n=r.value,i+n.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,r,n);i=this.$renderToken(e,i,r,n)}},this.$renderOverflowMessage=function(e,t,i,r){this.$renderToken(e,t,i,r.slice(0,this.MAX_LINE_LENGTH-t));var n=this.dom.createElement("span");n.className="ace_inline_button ace_keyword ace_toggle_wrap",n.style.position="absolute",n.style.right="0",n.textContent="<click to see more...>",e.appendChild(n)},this.$renderLine=function(e,t,i){if(i||0==i||(i=this.session.getFoldLine(t)),i)var r=this.$getFoldLineTokens(t,i);else r=this.session.getTokens(t);var n=e;if(r.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,r,o);n=e.lastChild}else{n=e;this.$useLineGroups()&&(n=this.$createLineElement(),e.appendChild(n)),this.$renderSimpleLine(n,r)}}else this.$useLineGroups()&&(n=this.$createLineElement(),e.appendChild(n));if(this.showInvisibles&&n){i&&(t=i.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,n.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var i=this.session,r=[];function n(e,t,i){var n=0,o=0;while(o+e[n].value.length<t)if(o+=e[n].value.length,n++,n==e.length)return;if(o!=t){var s=e[n].value.substring(t-o);s.length>i-t&&(s=s.substring(0,i-t)),r.push({type:e[n].type,value:s}),o=t+s.length,n+=1}while(o<i&&n<e.length){s=e[n].value;s.length+o>i?r.push({type:e[n].type,value:s.substring(0,i-o)}):r.push(e[n]),o+=s.length,n+=1}}var o=i.getTokens(e);return t.walk(function(e,t,s,a,c){null!=e?r.push({type:"fold",value:e}):(c&&(o=i.getTokens(t)),o.length&&n(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(c.prototype),t.Text=c}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var r=e("../lib/dom"),n=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)r.setStyle(t[i].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),n=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:n}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);i=0;for(var o=t.length;i<o;i++){var s=this.getPixelPosition(t[i].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&i>1)){var a=this.cursors[n++]||this.addCursor(),c=a.style;this.drawCursor?this.drawCursor(a,s,e,t[i],this.session):this.isCursorInView(s,e)?(r.setStyle(c,"display","block"),r.translate(a,s.left,s.top),r.setStyle(c,"width",Math.round(e.characterWidth)+"px"),r.setStyle(c,"height",e.lineHeight+"px")):r.setStyle(c,"display","none")}}while(this.cursors.length>n)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(n.prototype),t.Cursor=n}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,c=function(e){this.element=n.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=n.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){r.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(c.prototype);var l=function(e,t){c.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=n.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};r.inherits(l,c),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var h=function(e,t){c.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};r.inherits(h,c),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(h.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=h,t.VScrollBar=l,t.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var r=e("./lib/event"),n=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var i=this;this._flush=function(e){i.pending=!1;var t=i.changes;if(t&&(r.blockIdle(100),i.changes=0,i.onRender(t)),i.changes){if(i.$recursionLimit--<0)return;i.schedule()}else i.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(n.prototype),t.RenderLoop=n}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var r=e("../lib/oop"),n=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),c=e("../lib/event_emitter").EventEmitter,l=256,h="function"==typeof ResizeObserver,u=200,d=t.FontMetrics=function(e){this.el=n.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=n.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=n.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()};(function(){r.implement(this,c),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){var i=t[0].contentRect;e.checkForSizeChanges({height:i.height,width:i.width/l})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle(function t(){e.checkForSizeChanges(),s.onIdle(t,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=o.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=n.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},this.transformCoordinates=function(e,t){if(e){var i=this.$getZoom(this.el);e=s(1/i,e)}function r(e,t,i){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/r,(+e[1]*i[0]-e[0]*i[1])/r]}function n(e,t){return[e[0]-t[0],e[1]-t[1]]}function o(e,t){return[e[0]+t[0],e[1]+t[1]]}function s(e,t){return[e*t[0],e*t[1]]}function a(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var c=a(this.els[0]),l=a(this.els[1]),h=a(this.els[2]),d=a(this.els[3]),f=r(n(d,l),n(d,h),n(o(l,h),o(d,c))),p=s(1+f[0],n(l,c)),g=s(1+f[1],n(h,c));if(t){var m=t,v=f[0]*m[0]/u+f[1]*m[1]/u+1,y=o(s(m[0],p),s(m[1],g));return o(s(1/v/u,y),c)}var b=n(e,c),w=r(n(p,s(f[0],b)),n(g,s(f[1],b)),b);return s(u,w)}}).call(d.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,t,i){"use strict";var r=e("./lib/oop"),n=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,c=e("./layer/text").Text,l=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,p=e("./lib/event_emitter").EventEmitter,g='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}',m=e("./lib/useragent"),v=m.isIE;n.importCssString(g,"ace_editor.css");var y=function(e,t){var i=this;this.container=e||n.createElement("div"),n.addCssClass(this.container,"ace_editor"),n.HI_DPI&&n.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=n.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=n.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=n.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new a(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,r.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var n=this.container;r||(r=n.clientHeight||n.scrollHeight),i||(i=n.clientWidth||n.scrollWidth);var o=this.$updateCachedSize(e,t,i,r);if(!this.$size.scrollerHeight||!i&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,r){r-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(r&&(e||s.height!=r)&&(s.height=r,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),i&&(e||s.width!=i)){o|=this.CHANGE_SIZE,s.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,n.setStyle(this.scrollBarH.element.style,"left",t+"px"),n.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),n.setStyle(this.$gutter.style,"left",this.margin.left+"px");var c=this.scrollBarV.getWidth()+"px";n.setStyle(this.scrollBarH.element.style,"right",c),n.setStyle(this.scroller.style,"right",c),n.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!i||!r,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=n.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=n.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e=this.textarea.style;if(this.$keepTextAreaAtCursor){var t=this.$cursorLayer.$pixelPos;if(t){var i=this.$composition;i&&i.markerRange&&(t=this.$cursorLayer.getPixelPosition(i.markerRange.start,!0));var r=this.layerConfig,o=t.top,s=t.left;o-=r.offset;var a=i&&i.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>r.height-a)n.translate(this.textarea,0,0);else{var c=1;if(i)if(i.useTextareaForIME){var l=this.textarea.value;c=this.characterWidth*this.session.$getStringScreenWidth(l)[0],a+=2}else o+=this.lineHeight+2;else o+=this.lineHeight;s-=this.scrollLeft,s>this.$size.scrollerWidth-c&&(s=this.$size.scrollerWidth-c),s+=this.gutterWidth+this.margin.left,n.setStyle(e,"height",a+"px"),n.setStyle(e,"width",c+"px"),n.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-c),Math.min(o,this.$size.height-a))}}}else n.translate(this.textarea,-100,0)},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow,i=this.session.documentToScreenRow(t,0)*e.lineHeight;return i-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,r){var n=this.scrollMargin;n.top=0|e,n.bottom=0|t,n.right=0|r,n.left=0|i,n.v=n.top+n.bottom,n.h=n.left+n.right,n.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-n.top),this.updateFull()},this.setMargin=function(e,t,i,r){var n=this.margin;n.top=0|e,n.bottom=0|t,n.right=0|r,n.left=0|i,n.v=n.top+n.bottom,n.h=n.left+n.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),n.translate(this.content,-this.scrollLeft,-i.offset);var o=i.width+2*this.$padding+"px",s=i.minHeight+"px";n.setStyle(this.content.style,"width",o),n.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(n.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender");if(e&this.CHANGE_SCROLL)return e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender");e&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender")}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var r=i<=2*this.lineHeight,n=!r&&e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var o=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,r=this.session.getScreenLength(),n=r*this.lineHeight,o=this.$getLongestLine(),s=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),a=this.$horizScroll!==s;a&&(this.$horizScroll=s,this.scrollBarH.setVisible(s));var c=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=h;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,n-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+u.right)));var d=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+h<0||this.scrollTop>u.top),f=c!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,g,m=this.scrollTop%this.lineHeight,v=Math.ceil(l/this.lineHeight)-1,y=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)),b=y+v,w=this.lineHeight;y=e.screenToDocumentRow(y,0);var x=e.getFoldLine(y);x&&(y=x.start.row),p=e.documentToScreenRow(y,0),g=e.getRowLength(y)*w,b=Math.min(e.screenToDocumentRow(b,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(b)*w+g,m=this.scrollTop-p*w;var _=0;return(this.layerConfig.width!=o||a)&&(_=this.CHANGE_H_SCROLL),(a||f)&&(_=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),f&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:y,firstRowScreen:p,lastRow:b,lineHeight:w,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:m,gutterOffset:w?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(o-this.$padding),_},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1)&&!(t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),n=r.left,o=r.top,s=i&&i.top||0,a=i&&i.bottom||0,c=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;c+s>o?(t&&c+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):c+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&c+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var l=this.scrollLeft;l>n?(n<this.$padding+2*this.layerConfig.characterWidth&&(n=-this.scrollMargin.left),this.session.setScrollLeft(n)):l+this.$size.scrollerWidth<n+this.characterWidth?this.session.setScrollLeft(Math.round(n+this.characterWidth-this.$size.scrollerWidth)):l<=this.$padding&&n-l<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,n=i.top-r*(t||0);return this.session.setScrollTop(n),n},this.STEPS=8,this.$calcSteps=function(e,t){var i=0,r=this.STEPS,n=[],o=function(e,t,i){return i*(Math.pow(e-1,3)+1)+t};for(i=0;i<r;++i)n.push(o(i/this.STEPS,e,t-e));return n},this.scrollToLine=function(e,t,i,r){var n=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=n.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),!1!==i&&this.animateScrolling(s,r)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=i){if(this.$scrollAnimation){var n=this.$scrollAnimation.steps;if(n.length&&(e=n[0],e==i))return}var o=r.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),r.session.setScrollTop(o.shift()),r.session.$scrollTop=i,this.$timer=setInterval(function(){o.length?(r.session.setScrollTop(o.shift()),r.session.$scrollTop=i):null!=i?(r.session.$scrollTop=-1,r.session.setScrollTop(i),i=null):(r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else i=this.scroller.getBoundingClientRect();var n=e+this.scrollLeft-i.left-this.$padding,o=n/this.characterWidth,s=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:n}},this.screenToTextCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else i=this.scroller.getBoundingClientRect();var n=e+this.scrollLeft-i.left-this.$padding,o=n/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),n)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),n=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),o=r.row*this.lineHeight;return{pageX:i.left+n-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){n.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){n.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText,e.keepTextAreaAtCursor=this.$keepTextAreaAtCursor),e.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(this.$keepTextAreaAtCursor=!0,n.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),n.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(e,t,i,r){var n=this.session;n.bgTokenizer.lines[i]=null;var o={type:t,value:e},s=n.getTokens(i);if(null==r)s.push(o);else for(var a=0,c=0;c<s.length;c++){var l=s[c];if(a+=l.value.length,r<=a){var h=l.value.length-(a-r),u=l.value.slice(0,h),d=l.value.slice(h);s.splice(c,1,{type:l.type,value:u},o,{type:l.type,value:d});break}}this.updateLines(i,i)},this.setTheme=function(e,t){var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],s)}function s(r){if(i.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(i.$themeId=r.$id),n.importCssString(r.cssText,r.cssClass,i.container),i.theme&&n.removeCssClass(i.container,i.theme.cssClass);var o="padding"in r?r.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=r.cssClass,i.theme=r,n.addCssClass(i.container,r.cssClass),n.setCssClass(i.container,"ace_dark",r.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:r}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){n.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){n.removeCssClass(this.container,e)},this.setCursorStyle=function(e){n.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){n.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){n.importCssString(g,"ace_editor.css",this.container)},this.destroy=function(){this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(y.prototype),o.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){n.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=y}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,i){"use strict";var r=e("../lib/oop"),n=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){var t="importScripts('"+n.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(o){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,r=new i;return r.append(t),r.getBlob("application/javascript")}}function c(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};var t=a(e),i=window.URL||window.webkitURL,r=i.createObjectURL(t);return new Worker(r)}var l=function(t,i,r,n,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)n=n||s.moduleUrl(i,"worker");else{var a=this.$normalizePath;n=n||a(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=a(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=c(n),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:l,module:i,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,o),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data);break}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return n.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var r=this.callbackId++;this.callbacks[r]=i,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);var h=function(e,t,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var r=null,n=!1,a=Object.create(o),c=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){c.messageBuffer.push(e),r&&(n?setTimeout(l):l())},this.setEmitSync=function(e){n=e};var l=function(){var e=c.messageBuffer.shift();e.command?r[e.command].apply(r,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){c.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],function(e){r=new e[i](a);while(c.messageBuffer.length)l()})};h.prototype=l.prototype,t.UIWorkerClient=h,t.WorkerClient=l,t.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var r=e("./range").Range,n=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,i,r,n,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=n,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=r,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,n),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=i.addMarker(new r(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var r=t.createAnchor(i.row,i.column);r.$insertRight=!0,r.detach(),e.others.push(r)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new r(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),n&&(this.length+=i),n&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],c={row:a.row,column:a.column+o};this.doc.insertMergedLines(c,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){a=this.others[s],c={row:a.row,column:a.column+o};this.doc.remove(new r(c.row,c.column,c.row,c.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,n){t.removeMarker(i.markerId),i.markerId=t.addMarker(new r(i.row,i.column,i.row,i.column+e.length),n,null,!1)};i(this.pos,this.mainClass);for(var n=this.others.length;n--;)i(this.others[n],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){var r=e("../lib/event"),n=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}function s(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,a=t.ctrlKey,c=e.getAccelKey(),l=e.getButton();if(a&&n.isMac&&(l=t.button),e.editor.inMultiSelectMode&&2==l)e.editor.textInput.onContextMenu(e.domEvent);else if(a||i||c){if(0===l){var h,u=e.editor,d=u.selection,f=u.inMultiSelectMode,p=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(p,g),v=e.x,y=e.y,b=function(e){v=e.clientX,y=e.clientY},w=u.session,x=u.renderer.pixelToScreenCoordinates(v,y),_=x;if(u.$mouseHandler.$enableJumpToDef)a&&i||c&&i?h=s?"block":"add":i&&u.$blockSelectEnabled&&(h="block");else if(c&&!i){if(h="add",!f&&s)return}else i&&u.$blockSelectEnabled&&(h="block");if(h&&n.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==h){if(!f&&m)return;if(!f){var S=d.toOrientedRange();u.addSelectionMarker(S)}var C=d.rangeList.rangeAtPoint(p);u.inVirtualSelectionMode=!0,s&&(C=null,S=d.ranges[0]||S,u.removeSelectionMarker(S)),u.once("mouseup",function(){var e=d.toOrientedRange();C&&e.isEmpty()&&o(C.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(S.cursor):S&&(u.removeSelectionMarker(S),d.addRange(S)),d.addRange(e)),u.inVirtualSelectionMode=!1})}else if("block"==h){var M;e.stop(),u.inVirtualSelectionMode=!0;var T=[],R=function(){var e=u.renderer.pixelToScreenCoordinates(v,y),t=w.screenToDocumentPosition(e.row,e.column,e.offsetX);o(_,e)&&o(t,d.lead)||(_=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(T),T=d.rectangularRangeBlock(_,x),u.$mouseHandler.$clickSelection&&1==T.length&&T[0].isEmpty()&&(T[0]=u.$mouseHandler.$clickSelection.clone()),T.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};f&&!c?d.toSingleRange():!f&&c&&(M=d.toOrientedRange(),u.addSelectionMarker(M)),s?x=w.documentToScreenPosition(d.lead):d.moveToPosition(p),_={row:-1,column:-1};var E=function(e){R(),clearInterval(L),u.removeSelectionMarkers(T),T.length||(T=[d.toOrientedRange()]),M&&(u.removeSelectionMarker(M),d.toSingleRange(M));for(var t=0;t<T.length;t++)d.addRange(T[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null},k=R;r.capture(u.container,b,E);var L=setInterval(function(){k()},20);return e.preventDefault()}}}else 0===l&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}t.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){var r=e("./range_list").RangeList,n=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),c=e("./lib/lang"),l=e("./commands/multi_select_commands");t.commands=l.defaultCommands.concat(l.multiSelectCommands);var h=e("./search").Search,u=new h;function d(e,t,i){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==i,u.find(e)}var f=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var r=this.ranges.indexOf(e[i]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=n.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{i=this.getRange();var r=this.isBackwards(),o=i.start.row,s=i.end.row;if(o==s){if(r)var a=i.end,c=i.start;else a=i.start,c=i.end;return this.addRange(n.fromPoints(c,c)),void this.addRange(n.fromPoints(a,a))}var l=[],h=this.getLineRange(o,!0);h.start.column=i.start.column,l.push(h);for(var u=o+1;u<s;u++)l.push(this.getLineRange(u,!0));h=this.getLineRange(s,!0),h.end.column=i.end.column,l.push(h),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=n.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor),s=this.rectangularRangeBlock(r,o);s.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var r=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,c=e.offsetX,l=t.offsetX;else s=t.column,a=e.column,c=t.offsetX,l=e.offsetX;var h,u=e.row<t.row;if(u)var d=e.row,f=t.row;else d=t.row,f=e.row;s<0&&(s=0),d<0&&(d=0),d==f&&(i=!0);for(var p=d;p<=f;p++){var m=n.fromPoints(this.session.screenToDocumentPosition(p,s,c),this.session.screenToDocumentPosition(p,a,l));if(m.isEmpty()){if(h&&g(m.end,h))break;h=m.end}m.cursor=o?m.start:m.end,r.push(m)}if(u&&r.reverse(),!i){var v=r.length-1;while(r[v].isEmpty()&&v>0)v--;if(v>0){var y=0;while(r[y].isEmpty())y++}for(var b=v;b>=y;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(o.prototype);var p=e("./editor").Editor;function g(e,t){return e.row==t.row&&e.column==t.column}function m(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(l.defaultCommands),v(e))}function v(e){var t=e.textInput.getElement(),i=!1;function r(t){i&&(e.renderer.setMouseCursor(""),i=!1)}a.addListener(t,"keydown",function(t){var n=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&n?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&r()}),a.addListener(t,"keyup",r),a.addListener(t,"blur",r)}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var r=e[i];if(r.marker){this.session.removeMarker(r.marker);var n=t.indexOf(r);-1!=n&&t.splice(n,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(l.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(l.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),r=t.exec(i,e.args||{})):r=t.multiSelectAction(i,e.args||{});else{var r=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var r,n=i&&i.keepOrder,s=1==i||i&&i.$byLines,a=this.session,c=this.selection,l=c.rangeList,h=(n?c:l).ranges;if(!h.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=c._eventRegistry;c._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var f=h.length;f--;){if(s)while(f>0&&h[f].start.row==h[f-1].end.row)f--;d.fromOrientedRange(h[f]),d.index=f,this.selection=a.selection=d;var p=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===p||(r=p),d.toOrientedRange(h[f])}d.detach(),this.selection=a.selection=c,this.inVirtualSelectionMode=!1,c._eventRegistry=u,c.mergeOverlappingRanges(),c.ranges[0]&&c.fromOrientedRange(c.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],r=0;r<t.length;r++)i.push(this.session.getTextRange(t[r]));var n=this.session.getDocument().getNewLineCharacter();e=i.join(n),e.length==(i.length-1)*n.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,i){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var n=this.$search.findAll(this.session);if(!n.length)return 0;var o=this.multiSelect;i||o.toSingleRange(n[0]);for(var s=n.length;s--;)o.addRange(n[s],!0);return r&&o.rangeList.rangeAtPoint(r.start)&&o.addRange(r,!0),n.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),r=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s=this.session.screenToDocumentPosition(o.row+e,o.column);if(i.isEmpty())c=s;else var a=this.session.documentToScreenPosition(r?i.end:i.start),c=this.session.screenToDocumentPosition(a.row+e,a.column);if(r){var l=n.fromPoints(s,c);l.cursor=l.start}else{l=n.fromPoints(c,s);l.cursor=l.end}if(l.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var h=i.cursor}else this.selection.addRange(i);this.selection.addRange(l),h&&this.selection.substractPoint(h)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,r=i.ranges,n=r.length;n--;){var o=r[n];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}i.mergeOverlappingRanges();var a=[];for(n=r.length;n--;){o=r[n];a.unshift(t.getTextRange(o))}e<0?a.unshift(a.pop()):a.push(a.shift());for(n=r.length;n--;){o=r[n],s=o.clone();t.replace(o,a[n]),o.start.row=s.start.row,o.start.column=s.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(e,t,i){var r=this.session,n=r.multiSelect,o=n.toOrientedRange();if(!o.isEmpty()||(o=r.getWordRange(o.start.row,o.start.column),o.cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),!i)){var s=r.getTextRange(o),a=d(r,s,e);a&&(a.cursor=-1==e?a.start:a.end,this.session.unfold(a),this.multiSelect.addRange(a),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,r=-1,o=i.filter(function(e){if(e.cursor.row==r)return!0;r=e.cursor.row});if(i.length&&o.length!=i.length-1){o.forEach(function(e){t.substractPoint(e.cursor)});var s=0,a=1/0,l=i.map(function(t){var i=t.cursor,r=e.getLine(i.row),n=r.substr(i.column).search(/\S/g);return-1==n&&(n=0),i.column>s&&(s=i.column),n<a&&(a=n),n});i.forEach(function(t,i){var r=t.cursor,o=s-r.column,h=l[i]-a;o>h?e.insert(r,c.stringRepeat(" ",o-h)):e.remove(new n(r.row,r.column,r.row,r.column-o+h)),t.start.column=t.end.column=s,t.start.row=t.end.row=r.row,t.cursor=t.end}),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),u=h.start.row,d=h.end.row,f=u==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(u)}while(/[=:]/.test(p)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,f),this.session.insert({row:u,column:0},m.join("\n")+"\n"),f||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(e,t){var i,r,n,o=!0,s=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,r=t[2].length,n=t[3].length,t):(i+r+n!=t[1].length+t[2].length+t[3].length&&(s=!1),i!=t[1].length&&(o=!1),i>t[1].length&&(i=t[1].length),r<t[2].length&&(r=t[2].length),n>t[3].length&&(n=t[3].length),t):[e]}).map(t?l:o?s?h:l:u);function a(e){return c.stringRepeat(" ",e)}function l(e){return e[2]?a(i)+e[2]+a(r-e[2].length+n)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function h(e){return e[2]?a(i+r-e[2].length)+e[2]+a(n)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function u(e){return e[2]?a(i)+e[2]+a(n)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(p.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=m,e("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(e){m(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var r=e("../../range").Range,n=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var r=e.getLine(i);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var n=/\S/,o=e.getLine(t),s=o.search(n);if(-1!=s){var a=i||o.length,c=e.getLength(),l=t,h=t;while(++t<c){var u=e.getLine(t).search(n);if(-1!=u){if(u<=s)break;h=t}}if(h>l){var d=e.getLine(h).length;return new r(l,a,h,d)}}},this.openingBracketBlock=function(e,t,i,n,o){var s={row:i,column:n+1},a=e.$findClosingBracket(t,s,o);if(a){var c=e.foldWidgets[a.row];return null==c&&(c=e.getFoldWidget(a.row)),"start"==c&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,n,o){var s={row:i,column:n},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,r.fromPoints(a,s)}}).call(n.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate";var r=e("../lib/dom");r.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,i){"use strict";e("./lib/oop");var r=e("./lib/dom");e("./range").Range;function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var r=e.data,n=r.start.row,o=r.end.row,s="add"==e.action,a=n+1;a<o;a++)i[a]&&(i[a].hidden=s);i[o]&&(s?i[n]?i[o].hidden=s:i[n]=i[o]:(i[n]==i[o]&&(i[n]=void 0),i[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,r=e.end.row-i;if(0===r);else if("remove"==e.action){var n=t.splice(i+1,r);n.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var o=new Array(r);o.unshift(i,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,i){if(e){t=!1,e.row=i;while(e.$oldWidget)e.$oldWidget.row=i,e=e.$oldWidget}}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e.session=this.session;var i=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,i.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/i.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var o=this.session.lineWidgets;e.row!=n.end.row||o[n.start.row]?e.hidden=!0:o[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else while(t){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){var t=this.session.lineWidgets,i=t&&t[e],r=[];while(i)r.push(i),i=i.$oldWidget;return r},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,r=t.layerConfig;if(i&&i.length){for(var n=1/0,o=0;o<i.length;o++){var s=i[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),a<0&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<n&&(n=s.row))}}n!=1/0&&(this.session._emit("changeFold",{data:{start:{row:n}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,r=this.session.lineWidgets;if(r){var n=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,r.length);while(n>0&&!r[n])n--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var s=n;s<=o;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var c=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(c+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=c-i.offset+"px";var l=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(l-=t.scrollLeft),a.el.style.left=l+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";var r=e("../line_widgets").LineWidgets,n=e("../lib/dom"),o=e("../range").Range;function s(e,t,i){var r=0,n=e.length-1;while(r<=n){var o=r+n>>1,s=i(t,e[o]);if(s>0)r=o+1;else{if(!(s<0))return o;n=o-1}}return-(r+1)}function a(e,t,i){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var n=s(r,{row:t,column:-1},o.comparePoints);n<0&&(n=-n-1),n>=r.length?n=i>0?0:r.length-1:0===n&&i<0&&(n=r.length-1);var a=r[n];if(a&&i){if(a.row===t){do{a=r[n+=i]}while(a&&a.row===t);if(!a)return r.slice()}var c=[];t=a.row;do{c[i<0?"unshift":"push"](a),a=r[n+=i]}while(a&&a.row==t);return c.length&&c}}}t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new r(i),i.widgetManager.attach(e));var o=e.getCursorPosition(),s=o.row,c=i.widgetManager.getWidgetsAtRow(s).filter(function(e){return"errorMarker"==e.type})[0];c?c.destroy():s-=t;var l,h=a(i,s,t);if(h){var u=h[0];o.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,o.row=u.row,l=e.renderer.$gutterLayer.$annotations[o.row]}else{if(c)return;l={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var d={row:o.row,fixedWidth:!0,coverGutter:!0,el:n.createElement("div"),type:"errorMarker"},f=d.el.appendChild(n.createElement("div")),p=d.el.appendChild(n.createElement("div"));p.className="error_widget_arrow "+l.className;var g=e.renderer.$cursorLayer.getPixelPosition(o).left;p.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+l.className,f.innerHTML=l.text.join("<br>"),f.appendChild(n.createElement("div"));var m=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},n.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),o=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,c=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,h=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=i("07d6"),t.edit=function(e,i){if("string"==typeof e){var r=e;if(e=document.getElementById(r),!e)throw new Error("ace.edit can't find div #"+r)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var c=e;s=c.value,e=n.createElement("pre"),c.parentNode.replaceChild(e,c)}else e&&(s=e.textContent,e.innerHTML="");var l=t.createEditSession(s),u=new a(new h(e),l,i),d={document:l,editor:u,onResize:u.resize.bind(u,null)};return c&&(d.textarea=c),o.addListener(window,"resize",d.onResize),u.on("destroy",function(){o.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var i=new c(e,t);return i.setUndoManager(new l),i},t.Range=s,t.Editor=a,t.EditSession=c,t.UndoManager=l,t.VirtualRenderer=h,t.version="1.4.2"}),function(){ace.require(["ace/ace"],function(t){for(var i in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(i)&&(window.ace[i]=t[i]);window.ace["default"]=window.ace,e&&(e.exports=window.ace)})}()}).call(this,i("62e4")(e))},"6daa":function(e,t,i){e.exports=i.p+"2f3b06310488c10c780b7d3ddd5978d2.js"},"6db9":function(e,t,i){e.exports=i.p+"8afcf3a037a7f37f9c0bbad01507d73b.js"},"6e91":function(e,t,i){e.exports=i.p+"57c7c145c720f31f3749b658e3769833.js"},"6efd":function(e,t,i){e.exports=i.p+"c3854e9250665ca1762d854028663453.js"},"711e":function(e,t,i){e.exports=i.p+"3a43d2dfaedc9f430cebdd2e2d9a5b78.js"},7164:function(e,t,i){e.exports=i.p+"7af5865535fb306e7d0364a9ff81f389.js"},"71cf":function(e,t,i){e.exports=i.p+"697c7efe64d99e8389a6f2ad9784f105.js"},"720d":function(e,t,i){e.exports=i.p+"7da5aafe24e626f9bced82fe40567386.js"},"73fc":function(e,t,i){e.exports=i.p+"afc978101136e7bcf083c81bb8b0f05b.js"},7404:function(e,t,i){e.exports=i.p+"f913332fa21973f354fcb5b680811e56.js"},7466:function(e,t,i){e.exports=i.p+"df0a3c1950eab957c210661f530d8662.js"},"75cf":function(e,t,i){e.exports=i.p+"d5a596705e8b1c50832d29b25f4ffb0a.js"},7611:function(e,t,i){e.exports=i.p+"b35ea3b0b73c16e1623b4820fbe2e105.js"},7637:function(e,t,i){e.exports=i.p+"bd0f4d8761b0b7ec064f3aceb69cc92c.js"},"76b7":function(e,t,i){e.exports=i.p+"85fe85850b026b668c10d2c9e0e5e8c6.js"},"76e4":function(e,t,i){e.exports=i.p+"b2a3c7a7f9c3d3b11e8bcd08283b6a15.js"},"77d9":function(e,t,i){e.exports=i.p+"144991c48dbba89bfe10e886aaaed32a.js"},7832:function(e,t,i){e.exports=i.p+"110d938fcc0c48d4aa3078e74ea1d177.js"},7872:function(e,t,i){e.exports=i.p+"9db2ee95c6bd343410c6e51b2470fafd.js"},"7a0e":function(e,t,i){e.exports=i.p+"b49c70bf5635caccc9b20ea803357cb4.js"},"7a3e":function(e,t,i){e.exports=i.p+"98534a309b82ce7c434078b9e20906f3.js"},"7c24":function(e,t,i){e.exports=i.p+"51e6918f996813eafa4b1491d9dd343b.js"},"7c7e":function(e,t,i){"use strict";var r=i("de86"),n=i.n(r);n.a},"7ce7":function(e,t,i){"use strict";var r=i("7def"),n=i.n(r);n.a},"7d36":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game"},[i("game-board"),i("i-d-e")],1)},n=[],o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ide"},[i("div",[i("character-functions",{attrs:{"character-key":e.selectedCharacterId,disabled:e.running}}),i("button",{staticClass:"button",on:{click:e.runBtn}},[e._v(e._s(e.runBtnText))]),i("br")],1),i("character-selector",{attrs:{selected:e.selectedCharacterId},on:{"update:selected":function(t){e.selectedCharacterId=t}}})],1)},s=[],a=i("cebc"),c=i("2f62"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"character-functions"},e._l(e.functions,function(t,r){return i("div",{key:r},[i("character-function-editor",{attrs:{disabled:e.disabled,func:t,expanded:e.isExpanded(r)},on:{"update:expanded":function(t){return e.setExpanded(r,t)},"update:userCode":function(t){return e.updateUserCode(r,t)}}})],1)}),0)},h=[],u=i("2b0e"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"character-function-editor"},[i("div",{staticClass:"title",on:{click:function(t){return e.$emit("update:expanded",!e.expanded)}}},[i("label",[e._v(e._s(e.func.cn))])]),i("transition",{attrs:{name:"fade"}},[e.expanded?i("div",[e._v("\n      "+e._s(e.func.description)+"\n      "),i("function-editor",{attrs:{disabled:e.disabled,"user-code":e.func.userCode,"function-name":e.func.name,parameters:e.func.parameters},on:{"update:userCode":e.updateUserCode}}),e._v("\n      "+e._s(e.errorMessage())+"\n    ")],1):e._e()])],1)},f=[],p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"function-editor"},[i("editor",{staticClass:"editor",attrs:{code:e.functionCode,disabled:e.disabled},on:{"update:code":function(t){e.functionCode=t}}})],1)},g=[],m=(i("28a5"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editor",class:{disabled:e.disabled}},[i("div",{attrs:{id:e._uid}})])}),v=[],y=(i("6762"),i("7f7f"),i("6d4f")),b=i.n(y),w=(i("65d8"),{name:"Editor",data:function(){return{editor:null,editorOptions:{maxLines:50,minLines:5,value:this.code,mode:"ace/mode/javascript",theme:"ace/theme/monokai",fontSize:"18pt",tabSize:"2"}}},props:{code:String,disabled:Boolean},watch:{code:function(e){null!=this.editor&&this.editor.getValue()!==e&&this.editor.setValue(e)},disabled:function(e){null!=this.editor&&this.editor.setReadOnly(e)}},mounted:function(){var e=this;this.editor=b.a.edit(String(this._uid),this.editorOptions),this.editor.on("change",function(){var t=e.editor.getValue();""!==t&&e.$emit("update:code",t)}),this.editor.commands.on("exec",function(t){var i=t.command.name,r=["gotoleft","gotoright","golineup","golinedown","selectleft","selectright","gotowordleft","gotowordright","selectwordleft","selectwordright"],n=e.editor.getCursorPosition(),o=r.includes(i)||"insertstring"===i&&"\n"===t.args[0]&&(0===n.row&&e.editor.session.getLine(n.row).length===n.column||n.row+1===e.editor.session.getLength()&&0===n.column);o||0!==n.row&&n.row+1!==e.editor.session.getLength()||(t.preventDefault(),t.stopPropagation())})}}),x=w,_=(i("bc09"),i("2877")),S=Object(_["a"])(x,m,v,!1,null,"4e3e7ea7",null),C=S.exports,M={name:"FunctionEditor",components:{Editor:C},props:{functionName:String,parameters:Array,userCode:String,disabled:Boolean},computed:{functionCode:{get:function(){return"function ".concat(this.functionName," (").concat(this.parameters.join(", "),") {\n")+this.userCode+"\n}"},set:function(e,t){if(e!==t){var i=e.split("\n");i.splice(0,1),i.splice(-1,1),this.$emit("update:userCode",i.join("\n"))}}}}},T=M,R=(i("d2ac"),Object(_["a"])(T,p,g,!1,null,"02f4ddc6",null)),E=R.exports,k={name:"CharacterFunctionEditor",components:{FunctionEditor:E},props:{expanded:Boolean,func:Object,disabled:Boolean},methods:{errorMessage:function(){return null==this.func||null==this.func.error?"":this.func.error.lineNumber+": "+this.func.error.description},updateUserCode:function(e){this.$emit("update:userCode",e)}}},L=k,A=(i("7c7e"),Object(_["a"])(L,d,f,!1,null,"2d6bc89b",null)),$=A.exports,I={name:"CharacterFunctions",data:function(){return{expanded:[],defaultExpansion:!0}},props:{characterKey:String,disabled:Boolean},computed:{functions:function(){return this.$store.getters["getUserFunctions"](this.characterKey)}},methods:{updateUserCode:function(e,t){this.$store.commit("setUserCode",{character:this.characterKey,f:e,code:t})},isExpanded:function(e){var t=null;return null!=this.characterKey&&""!==this.characterKey&&null==this.expanded[this.characterKey]&&u["a"].set(this.expanded,this.characterKey,[]),t=this.expanded[this.characterKey][e],null==t?this.defaultExpansion:t},setExpanded:function(e,t){null!=this.characterKey&&""!==this.characterKey&&null==this.expanded[this.characterKey]&&u["a"].set(this.expanded,this.characterKey,[]),u["a"].set(this.expanded[this.characterKey],e,t)}},components:{CharacterFunctionEditor:$}},U=I,P=Object(_["a"])(U,l,h,!1,null,"1cc23a78",null),O=P.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"character-selector"},e._l(e.characters,function(t,r){return i("div",{key:r,on:{click:function(t){return e.select(r)}}},[i("character-selector-symbol",{attrs:{name:t.name,image:t.image}})],1)}),0)},F=[],B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("img",{staticClass:"image",attrs:{src:e.image,width:"75",height:"75"}})},N=[],G={name:"CharacterSelectorSymbol",props:{name:String,image:String}},j=G,W=(i("61c2"),Object(_["a"])(j,B,N,!1,null,"99be7b8e",null)),H=W.exports,V={name:"CharacterSelector",props:{selected:String},computed:{characters:function(){return this.$store.getters["getCharacters"]}},methods:{select:function(e){this.$emit("update:selected",e)}},components:{CharacterSelectorSymbol:H}},z=V,X=(i("7ce7"),Object(_["a"])(z,D,F,!1,null,"aa8a4f4a",null)),Y=X.exports,q={name:"IDE",components:{CharacterFunctions:O,CharacterSelector:Y},data:function(){return{selectedCharacterId:"zombie"}},computed:Object(a["a"])({},Object(c["b"])({characters:"getCharacters",running:"getRunStatus"}),{runBtnText:function(){return this.running?"Avbryt":"Starta"}}),methods:{runBtn:function(){this.$store.commit("setRunStatus",!this.running)}}},K=q,Z=(i("25cd"),Object(_["a"])(K,o,s,!1,null,"2ebd4cb0",null)),Q=Z.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game-board"},[i("vue-p5",{on:{setup:e.setup,draw:e.draw,preload:e.preload}})],1)},ee=[],te=(i("55dd"),i("e25d")),ie=i.n(te),re={name:"GameBoard",data:function(){return{assets:[],fr:36,board:{xTiles:10,yTiles:15,closeHCover:.91,farHCover:.55,start:.085,end:.71}}},computed:{entities:function(){return this.$store.getters["getEntities"]},obstacles:function(){return this.$store.getters["getObstacles"]}},components:{VueP5:ie.a},methods:{preload:function(e){var t=this,i=[{name:"zombie",path:"assets/test.svg"},{name:"background",path:"assets/background.png"},{name:"rock",path:"assets/rock.svg"}];i.forEach(function(i){var r=i.name,n=i.path;t.assets[r]=e.loadImage(n,function(){return console.log("Loaded "+r+" asset")},function(e){return console.log("Failed to load "+r,e)})})},setup:function(e){e.setFrameRate(this.fr),e.createCanvas(.86*e.windowHeight,e.windowHeight),e.background(200)},hasWon:function(){var e=this;return this.entities.filter(function(e){return e.isAttacker}).every(function(t){return t.y+.1>=e.board.yTiles})},draw:function(e){e.background(this.assets["background"]);var t=e.getFrameRate();if(t=0===t?this.fr:t,this.$store.getters["getRunStatus"])try{for(var i=0;i<this.entities.length;i++)this.entities[i].update({sketch:e,ticks:1/t,board:this.board,level:this.$store.getters["getLevel"],obstacles:this.obstacles})}catch(o){console.log("User error: ",o),this.$store.commit("setRunStatus",!1)}var r=this.entities.concat(this.obstacles);r.sort(function(e,t){return t.y-e.y});for(var n=0;n<r.length;n++)r[n].draw({sketch:e,assets:this.assets,ticks:1/t,board:this.board});this.hasWon()&&this.$store.commit("incLevel")}}},ne=re,oe=Object(_["a"])(ne,J,ee,!1,null,"5d689e13",null),se=oe.exports,ae={name:"Game",components:{GameBoard:se,IDE:Q}},ce=ae,le=(i("56e9"),Object(_["a"])(ce,r,n,!1,null,"48ba7fbd",null));t["default"]=le.exports},"7d3a":function(e,t,i){e.exports=i.p+"d793665bc912409fba00de31ec38f078.js"},"7d5e":function(e,t,i){e.exports=i.p+"ef6556c4b58c8fd5ddf71610712b210e.js"},"7d66":function(e,t,i){e.exports=i.p+"d26fd85d847e1e8b3e91ee5b56817bc4.js"},"7def":function(e,t,i){},"7e23":function(e,t,i){e.exports=i.p+"88d5efab68c7526ad2ad4196932adb03.js"},"7f40":function(e,t,i){e.exports=i.p+"100f9b1846c1e1ecae19e0ca2fc8224c.js"},"7fb7":function(e,t,i){e.exports=i.p+"1898cb6dd49e17c14fa2b89aee7f468c.js"},"7fec":function(e,t,i){e.exports=i.p+"ca5a4993e1b540cb126c33a065618710.js"},8051:function(e,t,i){e.exports=i.p+"38dffd524853685a5860844222aac0ea.js"},"80c7":function(e,t,i){e.exports=i.p+"0fcfed328afda56a1dd4ca6c43cfae47.js"},"80f5":function(e,t,i){e.exports=i.p+"03fde970c4a49be262f82a2ba54b7831.js"},8160:function(e,t,i){e.exports=i.p+"47ecd829f86e48857a05b2189ee9c097.js"},"81ad":function(e,t,i){e.exports=i.p+"21590b70d0b20f1192e60416ab778583.js"},"821a":function(e,t,i){e.exports=i.p+"bba7c39bf0c91be0a28777a9e772921d.js"},8273:function(e,t,i){e.exports=i.p+"30314e1b4a51b1aed3766eadecde2a42.js"},"82be":function(e,t,i){e.exports=i.p+"ce73c3243f61524d76000c4ace94f2bb.js"},"82ca":function(e,t,i){e.exports=i.p+"9751c3ba21e5579961186c1b62448f0e.js"},"82eb":function(e,t,i){e.exports=i.p+"1810046f2f3e963af7edc12bdd0f5982.js"},8433:function(e,t,i){e.exports=i.p+"d7cdf8e31755f70cd564c742feec3be0.js"},"84b9":function(e,t,i){e.exports=i.p+"124d60d8a09f472321bb9a02878bc8a2.js"},8534:function(e,t,i){e.exports=i.p+"d7b502cd2fc93bfe081ff7b00b443672.js"},8616:function(e,t,i){e.exports=i.p+"6140f5bedc9513e7195b455816d6ecfe.js"},8637:function(e,t,i){e.exports=i.p+"fe58209a4ef163863b95ab289a69cdaf.js"},8674:function(e,t,i){e.exports=i.p+"42c6cec68f0df0c7e2cae3d652f87962.js"},8698:function(e,t,i){e.exports=i.p+"4a5221411f26f95ac1712b172c9e65c5.js"},8754:function(e,t,i){e.exports=i.p+"be2fbe775b19bdc18e4f78de18beb433.js"},"87b0":function(e,t,i){e.exports=i.p+"9de3efe1c10db748055833e85b84bf6d.js"},"899f":function(e,t,i){e.exports=i.p+"400622a60e8e3194e3d666d073e3c7db.js"},"8ac6":function(e,t,i){e.exports=i.p+"7eb2bdfcd9aad382b243167fe130f18d.js"},"8ad0":function(e,t,i){e.exports=i.p+"9e875d25eb6d80340adac0cfc35700c1.js"},"8b06":function(e,t,i){e.exports=i.p+"6bc13a9df3f6c9d9b57847f62bbf883c.js"},"8c4c":function(e,t,i){e.exports=i.p+"bd3946cffba3d493823c2d40ec322007.js"},"8cc3":function(e,t,i){e.exports=i.p+"48f2efaa42dd02a72894359ca3528060.js"},"8dc4":function(e,t,i){e.exports=i.p+"c9e65eaaba31f7810b70a3c83da126b8.js"},"8dda":function(e,t,i){e.exports=i.p+"67aa7d199d87faa231a278e753da1a5a.js"},"8e4d":function(e,t,i){e.exports=i.p+"94a5c40baab0f2df8b43889ed5fb6b8a.js"},"8f61":function(e,t,i){e.exports=i.p+"2713cf58a182cbabbc2538f42ce83a58.js"},"8f76":function(e,t,i){e.exports=i.p+"8536514f6ace9c40d36020af05e067fe.js"},"8fca":function(e,t,i){e.exports=i.p+"bbd62124f6d03e01eb4332f55ead999d.js"},9027:function(e,t,i){e.exports=i.p+"0d00a50d1d38185cd5ae6fbbf13ed127.js"},9085:function(e,t,i){e.exports=i.p+"06dd700316770ac2bafb9202be298dcc.js"},"90d3":function(e,t,i){e.exports=i.p+"3a969f15f742add3d383e55d0ceb3d25.js"},9106:function(e,t,i){e.exports=i.p+"b3a101d0edbf04b3879b5e76bdde1ea3.js"},"92bd":function(e,t,i){e.exports=i.p+"9360974ffacadb05145e2f6c1458f35b.js"},9330:function(e,t,i){e.exports=i.p+"1628a9542b90bd525fe8d6707dab77af.js"},"942c":function(e,t,i){e.exports=i.p+"d2b533a0128ef6edfaf153c0fa19e432.js"},"957d":function(e,t,i){e.exports=i.p+"cdebe922de95cc9e4ebe1de74ac48190.js"},9656:function(e,t,i){e.exports=i.p+"63ccb1f1a27a2bf6271f40d3082186f4.js"},"96e8":function(e,t,i){e.exports=i.p+"da2f32f50df8618f18d7eaefb348d799.js"},"97cc":function(e,t,i){e.exports=i.p+"c7fb0ccebacccfb5c2f7b2f6023ebe4a.js"},9985:function(e,t,i){e.exports=i.p+"7b29f8bee3285aae9ec5c130b7b7713a.js"},"9a21":function(e,t,i){e.exports=i.p+"344887623007a0f27b9ba333487cd13f.js"},"9b6b":function(e,t,i){e.exports=i.p+"8e81f51d2e7be98e9e45fe93239c7e99.js"},"9bba":function(e,t,i){e.exports=i.p+"44325bf9620ca918548b1e519dabc8ff.js"},"9c25":function(e,t,i){e.exports=i.p+"0ce1238464e3ffdc94507b661c65f4b6.js"},"9c66":function(e,t,i){e.exports=i.p+"c2c0e5fa8323e2c5c1f54f20afda51b8.js"},"9d22":function(e,t,i){e.exports=i.p+"6671e6a26f4c60e5a9f0a1aee5105616.js"},"9dc0":function(e,t,i){e.exports=i.p+"ed7f5ed687afb9af0c34eff3df121dc8.js"},"9ea2":function(e,t,i){e.exports=i.p+"b7a2a29f9e85a93c28c3503180ecdf41.js"},"9f21":function(e,t,i){e.exports=i.p+"84396caa48ae12acce7dc5f743330628.js"},"9f2e":function(e,t,i){e.exports=i.p+"1c6bd172a3d95b49dce0229ddd5b94ed.js"},"9f57":function(e,t,i){e.exports=i.p+"f08ee90c055c58684f8f371367156cba.js"},a0a9:function(e,t,i){e.exports=i.p+"6b7a91b6bcd278bb1c35ad64a6d40a65.js"},a0cd:function(e,t,i){e.exports=i.p+"35cee3c5585a2a598d7fea83ec6112f9.js"},a160:function(e,t,i){e.exports=i.p+"c47d14edab37bdcdcc78344e425e0b27.js"},a285:function(e,t,i){e.exports=i.p+"c8bdb139ff462c0e7dc4ba2f56a49318.js"},a2d0:function(e,t,i){e.exports=i.p+"3f9e3ae9d4ee540b9fb067b6fd29d529.js"},a34c:function(e,t,i){e.exports=i.p+"f417af2dfae66bdf1d74eac4395216d1.js"},a39b:function(e,t,i){e.exports=i.p+"0a5adf8110dfa37b8a75edf8cafb1dd7.js"},a4c5:function(e,t,i){e.exports=i.p+"5639547cd21c08cbc1681d6328459f73.js"},a6f9:function(e,t,i){e.exports=i.p+"b225cb9e753bd0a8ca508ccb2637bf91.js"},a74a:function(e,t,i){e.exports=i.p+"ed5d6ade3c083e0fb348726e9d5a4829.js"},a74ad:function(e,t,i){e.exports=i.p+"3497c161c30d19381330bad5ccffc91e.js"},aa91:function(e,t,i){e.exports=i.p+"d70ab0885fcc546aaf5eee0c5fca6278.js"},aafc:function(e,t,i){e.exports=i.p+"0c3615fc194682bd2043624d19f6352e.js"},ab26:function(e,t,i){e.exports=i.p+"4d29b950b93478eda8a5380fbce1ec1e.js"},ada6:function(e,t,i){e.exports=i.p+"294fbc5b00264d6215dd8ff838dc2999.js"},af17:function(e,t,i){e.exports=i.p+"232ec126b4babd38fc463222ffeeafa4.js"},af63:function(e,t,i){e.exports=i.p+"6fffb9f1dd0b4a1c805a7c5e7678d8e1.js"},aff3:function(e,t,i){e.exports=i.p+"b4bd28ac3a7935d0c52a6cb19c89aced.js"},b030:function(e,t,i){e.exports=i.p+"8c303cac1194334d0457aa6b16b3911d.js"},b28c:function(e,t,i){e.exports=i.p+"f29286fc7d5663eb11457f48664f324d.js"},b2be:function(e,t,i){e.exports=i.p+"a3bf0665235ea9e39e2d640a8c88549c.js"},b39c:function(e,t,i){e.exports=i.p+"e7a892eff1dd4ac60e8201386497b66b.js"},b4b8:function(e,t,i){e.exports=i.p+"fe51d45583c0425b00c9a784727072e0.js"},b627:function(e,t,i){e.exports=i.p+"d16f522ad0e550a350806bec108a54c4.js"},b636:function(e,t,i){e.exports=i.p+"a335711560ec0ed6dfa0c4de8a381e9a.js"},b7bf:function(e,t,i){e.exports=i.p+"fedeaa497e12a1bc0d662f9e5657ac7a.js"},b7d3:function(e,t,i){e.exports=i.p+"a07f2b025030bd4f277803aea0e6a539.js"},ba80:function(e,t,i){e.exports=i.p+"a8ba202c681defcdc8a39376dd39adc4.js"},bb19:function(e,t,i){e.exports=i.p+"a7a8954ebdda0bd61e004955cdb79bfd.js"},bc09:function(e,t,i){"use strict";var r=i("e037"),n=i.n(r);n.a},bc2c:function(e,t,i){e.exports=i.p+"243d8101969c933d25388b5287bb3425.js"},bc8f:function(e,t,i){e.exports=i.p+"614659dcc6738ffbd6e8ca379768549b.js"},bd40:function(e,t,i){e.exports=i.p+"24344120218dd5c1a38ac2ccd534ed49.js"},bdf3:function(e,t,i){e.exports=i.p+"e6c2b11f457b5aa71fd08de4ae738c3f.js"},bea1:function(e,t,i){e.exports=i.p+"4b730063831e789913041026d226797f.js"},bef1:function(e,t,i){e.exports=i.p+"44b4462224957b51234691dacc5dd4c8.js"},c079:function(e,t,i){e.exports=i.p+"63208c820c4046f8374189255b5dd7f4.js"},c09b:function(e,t,i){e.exports=i.p+"90e2c31775b8fa92e98a59f26f1865e8.js"},c1b8:function(e,t,i){e.exports=i.p+"4219a24921493cdd5195cdd11e6b35d9.js"},c1e5:function(e,t,i){e.exports=i.p+"863966b0f8f6f0e5777fcf8ba2f72217.js"},c201:function(e,t,i){e.exports=i.p+"8a7d1e82245ba58033df533faadfbaf4.js"},c28a:function(e,t,i){e.exports=i.p+"760d3c7148086eee1748e6c79ad0ec3c.js"},c303:function(e,t,i){e.exports=i.p+"92da0f0094807604e8ee166add5b4c8b.js"},c428:function(e,t,i){e.exports=i.p+"5b8f7d64aca3cf7fe59c8a035868b3e0.js"},c499:function(e,t,i){e.exports=i.p+"63999023068dcbebee417ac354fe4e78.js"},c544:function(e,t,i){e.exports=i.p+"ab03e0295a4fb6e86bbb24af6fdf2a34.js"},c547:function(e,t,i){e.exports=i.p+"20f40fcbcb3ea91ce1da172a1c02f8d1.js"},c5f7:function(e,t,i){e.exports=i.p+"4037e6d4b18e3e286dec455cc63c1d17.js"},c662:function(e,t,i){e.exports=i.p+"4f0436f3850202d127036b38729c6861.js"},c665:function(e,t,i){e.exports=i.p+"c8c48c73e7d7dd2c142badc913ab26fe.js"},c6bb:function(e,t,i){e.exports=i.p+"a026164ca1f6f157fcb0f5f6bfd4abce.js"},c705:function(e,t,i){e.exports=i.p+"431311199b46d30bf9f42094aa7fdc09.js"},c932:function(e,t,i){e.exports=i.p+"06d453ace473034cd357edb758d539ab.js"},ca62:function(e,t,i){e.exports=i.p+"b68317292b558b5f777a85e98a6443c7.js"},ca8c:function(e,t,i){e.exports=i.p+"56b2667feae224aa570e7989124cf63d.js"},cb86:function(e,t,i){e.exports=i.p+"f457edce8a9809fa16aab3c8e695bf38.js"},cba9:function(e,t,i){e.exports=i.p+"bd3fe0cb02f91716423087b47b28b82c.js"},cbb0:function(e,t,i){e.exports=i.p+"cb26c5ceabfc489abf65678b22701ec3.js"},cbc2:function(e,t,i){e.exports=i.p+"6774595acd68fb2e874d812c4067d0cc.js"},ccba:function(e,t,i){e.exports=i.p+"0768225f873adf5f103dcb714f17783d.js"},cdf0:function(e,t,i){e.exports=i.p+"0ce085f9290d691fe3ec63e475d1867a.js"},ce62:function(e,t,i){e.exports=i.p+"03076ca00f7a0821bf5aaf735d6d491d.js"},cf4c:function(e,t,i){e.exports=i.p+"9f438a1f2c25e723ea81abe0e79a1849.js"},d078:function(e,t,i){e.exports=i.p+"b26738d581e044c69f7a4392906e6843.js"},d175:function(e,t,i){e.exports=i.p+"37e37aa178d97ffcd94eeee1e1a25967.js"},d235:function(e,t,i){e.exports=i.p+"e8bbb800ba35ed8c06d9024cdc61cb05.js"},d2ac:function(e,t,i){"use strict";var r=i("3ced"),n=i.n(r);n.a},d37b:function(e,t,i){e.exports=i.p+"f73986fa84fef38a875c4cf09542b564.js"},d380:function(e,t,i){e.exports=i.p+"22b1c8bf4c2bdd7e438f832b888c75e4.js"},d442:function(e,t,i){e.exports=i.p+"b937c7b120b194794bac2638e00cba18.js"},d454:function(e,t,i){e.exports=i.p+"0cbaf3ecc6b20dbc83c2164e9a1eac02.js"},d56c:function(e,t,i){e.exports=i.p+"e814f61cd2aa98bd748b50413a3c63c3.js"},d68a:function(e,t,i){e.exports=i.p+"1f03c9a69a8b9f79bcb7a338963f80c8.js"},d6ea:function(e,t,i){e.exports=i.p+"906775752b6594c341d4a4f25aec7dc1.js"},d70b:function(e,t,i){e.exports=i.p+"6c0d87d37faf262a0d8ce5de47258e81.js"},d84e:function(e,t,i){e.exports=i.p+"97c0e3bfd07965c7fbbd1bfe3be1c0b0.js"},d9a1:function(e,t,i){e.exports=i.p+"5540bb93f39dcb670a0f9b4e4b793d02.js"},d9df:function(e,t,i){e.exports=i.p+"c3ec16e3e59164dd3cbef365b8fe3620.js"},dac3:function(e,t,i){e.exports=i.p+"38a696bcfe6021b6442e70b6d3017b93.js"},dae7:function(e,t,i){e.exports=i.p+"66d047366106b0b705f979032497889e.js"},db75:function(e,t,i){e.exports=i.p+"29a6c0d9c964e02cab82d9b68890324e.js"},dbdbe:function(e,t,i){e.exports=i.p+"6f6c421d495f33392be5f2b0982af36e.js"},dc44:function(e,t,i){e.exports=i.p+"10bc79414b62df132421027bbf5e5c3e.js"},dc9a:function(e,t,i){e.exports=i.p+"8f711670286d836c87f053eba3155ae3.js"},dcf9:function(e,t,i){e.exports=i.p+"276cc30bcf58182e7a4f893e0f8e1326.js"},dd6e:function(e,t,i){e.exports=i.p+"1afbeca385b131cfc3ae515b89e552c7.js"},dde4:function(e,t,i){e.exports=i.p+"189beba20287c2735ecb81efdd67d66c.js"},de84:function(e,t,i){e.exports=i.p+"5a2235c87d9b3e36326bd63460c03dfb.js"},de86:function(e,t,i){},deb4:function(e,t,i){e.exports=i.p+"0fb66b5df979aa54298b32e978f97734.js"},decb:function(e,t,i){e.exports=i.p+"b531361385eccab30c8c82d0d07975df.js"},e037:function(e,t,i){},e131:function(e,t,i){e.exports=i.p+"82ce99851e7fc39e91603bc3320fe6d2.js"},e25d:function(e,t,i){(function(t){(function(t,i){e.exports=i()})(0,function(){"use strict";var e="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}var o=n(function(t,r){
/*! p5.js v0.7.2 September 02, 2018 */!function(e){t.exports=e()}(function(){var t;return function e(t,r,n){function o(a,c){if(!r[a]){if(!t[a]){var l="function"==typeof i&&i;if(!c&&l)return l(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof i&&i,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){!function(e){function t(e){var t=e.charCodeAt(0);return t===o||t===h?62:t===s||t===u?63:t<a?-1:t<a+10?t-a+26+26:t<l+26?t-l:t<c+26?t-c+26:void 0}function i(e){function i(e){l[u++]=e}var r,o,s,a,c,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=e.length;c="="===e.charAt(h-2)?2:"="===e.charAt(h-1)?1:0,l=new n(3*e.length/4-c),s=c>0?e.length-4:e.length;var u=0;for(r=0,o=0;r<s;r+=4,o+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),i((16711680&a)>>16),i((65280&a)>>8),i(255&a);return 2===c?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,i(255&a)):1===c&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,i(a>>8&255),i(255&a)),l}function r(e){function t(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}function i(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,n,o,s=e.length%3,a="";for(r=0,o=e.length-s;r<o;r+=3)n=(e[r]<<16)+(e[r+1]<<8)+e[r+2],a+=i(n);switch(s){case 1:n=e[e.length-1],a+=t(n>>2),a+=t(n<<4&63),a+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1],a+=t(n>>10),a+=t(n>>4&63),a+=t(n<<2&63),a+="="}return a}var n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),s="/".charCodeAt(0),a="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),h="-".charCodeAt(0),u="_".charCodeAt(0);e.toByteArray=i,e.fromByteArray=r}(void 0===i?this.base64js={}:i)},{}],2:[function(e,t,i){},{}],3:[function(t,i,r){(function(e){function i(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function n(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e){return this instanceof o?(o.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?s(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):c(this,e)):arguments.length>1?new o(e,arguments[1]):new o(e)}function s(e,t){if(e=g(e,t<0?0:0|m(t)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;i++)e[i]=0;return e}function a(e,t,i){return"string"==typeof i&&""!==i||(i="utf8"),e=g(e,0|y(t,i)),e.write(t,i),e}function c(e,t){if(o.isBuffer(t))return l(e,t);if(K(t))return h(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return u(e,t);if(t instanceof ArrayBuffer)return d(e,t)}return t.length?f(e,t):p(e,t)}function l(e,t){var i=0|m(t.length);return e=g(e,i),t.copy(e,0,0,i),e}function h(e,t){var i=0|m(t.length);e=g(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function u(e,t){var i=0|m(t.length);e=g(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function d(e,t){return o.TYPED_ARRAY_SUPPORT?(t.byteLength,e=o._augment(new Uint8Array(t))):e=u(e,new Uint8Array(t)),e}function f(e,t){var i=0|m(t.length);e=g(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function p(e,t){var i,r=0;"Buffer"===t.type&&K(t.data)&&(i=t.data,r=0|m(i.length)),e=g(e,r);for(var n=0;n<r;n+=1)e[n]=255&i[n];return e}function g(e,t){return o.TYPED_ARRAY_SUPPORT?(e=o._augment(new Uint8Array(t)),e.__proto__=o.prototype):(e.length=t,e._isBuffer=!0),0!==t&&t<=o.poolSize>>>1&&(e.parent=Z),e}function m(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function v(e,t){if(!(this instanceof v))return new v(e,t);var i=new o(e,t);return delete i.parent,i}function y(e,t){"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return z(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,i){var r=!1;if(t|=0,i=void 0===i||i===1/0?this.length:0|i,e||(e="utf8"),t<0&&(t=0),i>this.length&&(i=this.length),i<=t)return"";for(;;)switch(e){case"hex":return A(this,t,i);case"utf8":case"utf-8":return R(this,t,i);case"ascii":return k(this,t,i);case"binary":return L(this,t,i);case"base64":return T(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[i+s]=a}return s}function x(e,t,i,r){return X(W(t,e.length-i),e,i,r)}function _(e,t,i,r){return X(H(t),e,i,r)}function S(e,t,i,r){return _(e,t,i,r)}function C(e,t,i,r){return X(z(t),e,i,r)}function M(e,t,i,r){return X(V(t,e.length-i),e,i,r)}function T(e,t,i){return 0===t&&i===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,i))}function R(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,s,a,c,l=e[n],h=null,u=l>239?4:l>223?3:l>191?2:1;if(n+u<=i)switch(u){case 1:l<128&&(h=l);break;case 2:o=e[n+1],128==(192&o)&&(c=(31&l)<<6|63&o)>127&&(h=c);break;case 3:o=e[n+1],s=e[n+2],128==(192&o)&&128==(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(h=c);break;case 4:o=e[n+1],s=e[n+2],a=e[n+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(h=c)}null===h?(h=65533,u=1):h>65535&&(h-=65536,r.push(h>>>10&1023|55296),h=56320|1023&h),r.push(h),n+=u}return E(r)}function E(e){var t=e.length;if(t<=Q)return String.fromCharCode.apply(String,e);for(var i="",r=0;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=Q));return i}function k(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;n++)r+=String.fromCharCode(127&e[n]);return r}function L(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;n++)r+=String.fromCharCode(e[n]);return r}function A(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;o++)n+=j(e[o]);return n}function $(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function I(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,i,r,n,s){if(!o.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>n||t<s)throw new RangeError("value is out of bounds");if(i+r>e.length)throw new RangeError("index out of range")}function P(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;n++)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function O(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;n++)e[i+n]=t>>>8*(r?n:3-n)&255}function D(e,t,i,r,n,o){if(t>n||t<o)throw new RangeError("value is out of bounds");if(i+r>e.length)throw new RangeError("index out of range");if(i<0)throw new RangeError("index out of range")}function F(e,t,i,r,n){return n||D(e,t,i,4,3.4028234663852886e38,-3.4028234663852886e38),q.write(e,t,i,r,23,4),i+4}function B(e,t,i,r,n){return n||D(e,t,i,8,1.7976931348623157e308,-1.7976931348623157e308),q.write(e,t,i,r,52,8),i+8}function N(e){if(e=G(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var i,r=e.length,n=null,o=[],s=0;s<r;s++){if((i=e.charCodeAt(s))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function H(e){for(var t=[],i=0;i<e.length;i++)t.push(255&e.charCodeAt(i));return t}function V(e,t){for(var i,r,n,o=[],s=0;s<e.length&&!((t-=2)<0);s++)i=e.charCodeAt(s),r=i>>8,n=i%256,o.push(n),o.push(r);return o}function z(e){return Y.toByteArray(N(e))}function X(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);n++)t[n+i]=e[n];return n}var Y=t("base64-js"),q=t("ieee754"),K=t("isarray");r.Buffer=o,r.SlowBuffer=v,r.INSPECT_MAX_BYTES=50,o.poolSize=8192;var Z={};o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),o.TYPED_ARRAY_SUPPORT?(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array):(o.prototype.length=void 0,o.prototype.parent=void 0),o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,s=Math.min(i,r);n<s&&e[n]===t[n];)++n;return n!==s&&(i=e[n],r=t[n]),i<r?-1:r<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!K(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new o(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;i++)t+=e[i].length;var r=new o(t),n=0;for(i=0;i<e.length;i++){var s=e[i];s.copy(r,n),n+=s.length}return r},o.byteLength=y,o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):b.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:o.compare(this,e)},o.prototype.indexOf=function(e,t){function i(e,t,i){for(var r=-1,n=0;i+n<e.length;n++)if(e[i+n]===t[-1===r?0:n-r]){if(-1===r&&(r=n),n-r+1===t.length)return i+r}else r=-1;return-1}if(t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(o.isBuffer(e))return i(this,e,t);if("number"==typeof e)return o.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):i(this,[e],t);throw new TypeError("val must be string, number or Buffer")},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else if(isFinite(t))t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else{var n=r;r=t,t=0|i,i=n}var o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return w(this,e,t,i);case"utf8":case"utf-8":return x(this,e,t,i);case"ascii":return _(this,e,t,i);case"binary":return S(this,e,t,i);case"base64":return C(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(e,t){var i,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)i=o._augment(this.subarray(e,t));else{var n=t-e;i=new o(n,void 0);for(var s=0;s<n;s++)i[s]=this[s+e]}return i.length&&(i.parent=this.parent||this),i},o.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},o.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},o.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||I(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),q.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),q.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),q.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),q.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,i,r){e=+e,t|=0,i|=0,r||U(this,e,t,i,Math.pow(2,8*i),0);var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},o.prototype.writeUIntBE=function(e,t,i,r){e=+e,t|=0,i|=0,r||U(this,e,t,i,Math.pow(2,8*i),0);var n=i-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+i},o.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);U(this,e,t,i,n-1,-n)}var o=0,s=1,a=e<0?1:0;for(this[t]=255&e;++o<i&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+i},o.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);U(this,e,t,i,n-1,-n)}var o=i-1,s=1,a=e<0?1:0;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,i){return F(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return F(this,e,t,!1,i)},o.prototype.writeDoubleLE=function(e,t,i){return B(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return B(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,s=r-i;if(this===e&&i<t&&t<r)for(n=s-1;n>=0;n--)e[n+t]=this[n+i];else if(s<1e3||!o.TYPED_ARRAY_SUPPORT)for(n=0;n<s;n++)e[n+t]=this[n+i];else e._set(this.subarray(i,i+s),t);return s},o.prototype.fill=function(e,t,i){if(e||(e=0),t||(t=0),i||(i=this.length),i<t)throw new RangeError("end < start");if(i!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(i<0||i>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof e)for(r=t;r<i;r++)this[r]=e;else{var n=W(e.toString()),o=n.length;for(r=t;r<i;r++)this[r]=n[r%o]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,i=e.length;t<i;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var J=o.prototype;o._augment=function(e){return e.constructor=o,e._isBuffer=!0,e._set=e.set,e.get=J.get,e.set=J.set,e.write=J.write,e.toString=J.toString,e.toLocaleString=J.toString,e.toJSON=J.toJSON,e.equals=J.equals,e.compare=J.compare,e.indexOf=J.indexOf,e.copy=J.copy,e.slice=J.slice,e.readUIntLE=J.readUIntLE,e.readUIntBE=J.readUIntBE,e.readUInt8=J.readUInt8,e.readUInt16LE=J.readUInt16LE,e.readUInt16BE=J.readUInt16BE,e.readUInt32LE=J.readUInt32LE,e.readUInt32BE=J.readUInt32BE,e.readIntLE=J.readIntLE,e.readIntBE=J.readIntBE,e.readInt8=J.readInt8,e.readInt16LE=J.readInt16LE,e.readInt16BE=J.readInt16BE,e.readInt32LE=J.readInt32LE,e.readInt32BE=J.readInt32BE,e.readFloatLE=J.readFloatLE,e.readFloatBE=J.readFloatBE,e.readDoubleLE=J.readDoubleLE,e.readDoubleBE=J.readDoubleBE,e.writeUInt8=J.writeUInt8,e.writeUIntLE=J.writeUIntLE,e.writeUIntBE=J.writeUIntBE,e.writeUInt16LE=J.writeUInt16LE,e.writeUInt16BE=J.writeUInt16BE,e.writeUInt32LE=J.writeUInt32LE,e.writeUInt32BE=J.writeUInt32BE,e.writeIntLE=J.writeIntLE,e.writeIntBE=J.writeIntBE,e.writeInt8=J.writeInt8,e.writeInt16LE=J.writeInt16LE,e.writeInt16BE=J.writeInt16BE,e.writeInt32LE=J.writeInt32LE,e.writeInt32BE=J.writeInt32BE,e.writeFloatLE=J.writeFloatLE,e.writeFloatBE=J.writeFloatBE,e.writeDoubleLE=J.writeDoubleLE,e.writeDoubleBE=J.writeDoubleBE,e.fill=J.fill,e.inspect=J.inspect,e.toArrayBuffer=J.toArrayBuffer,e};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:7,isarray:8}],4:[function(t,i,r){(function(e,n){!function(e,t){"object"==typeof r&&void 0!==i?i.exports=t():e.ES6Promise=t()}(this,function(){function i(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function o(e){q=e}function s(e){K=e}function a(){return function(){return e.nextTick(d)}}function c(){return void 0!==Y?function(){Y(d)}:u()}function l(){var e=0,t=new J(d),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}function u(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<X;e+=2)(0,ie[e])(ie[e+1]),ie[e]=void 0,ie[e+1]=void 0;X=0}function f(){try{var e=t,i=e("vertx");return Y=i.runOnLoop||i.runOnContext,c()}catch(e){return u()}}function p(e,t){var i=arguments,r=this,n=new this.constructor(m);void 0===n[ne]&&P(n);var o=r._state;return o?function(){var e=i[o-1];K(function(){return $(o,n,e,r._result)})}():E(r,n,e,t),n}function g(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(m);return C(i,e),i}function m(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return ce.error=e,ce}}function w(e,t,i,r){try{e.call(t,i,r)}catch(e){return e}}function x(e,t,i){K(function(e){var r=!1,n=w(i,t,function(i){r||(r=!0,t!==i?C(e,i):T(e,i))},function(t){r||(r=!0,R(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&n&&(r=!0,R(e,n))},e)}function _(e,t){t._state===se?T(e,t._result):t._state===ae?R(e,t._result):E(t,void 0,function(t){return C(e,t)},function(t){return R(e,t)})}function S(e,t,i){t.constructor===e.constructor&&i===p&&t.constructor.resolve===g?_(e,t):i===ce?(R(e,ce.error),ce.error=null):void 0===i?T(e,t):r(i)?x(e,t,i):T(e,t)}function C(e,t){e===t?R(e,v()):i(t)?S(e,t,b(t)):T(e,t)}function M(e){e._onerror&&e._onerror(e._result),k(e)}function T(e,t){e._state===oe&&(e._result=t,e._state=se,0!==e._subscribers.length&&K(k,e))}function R(e,t){e._state===oe&&(e._state=ae,e._result=t,K(M,e))}function E(e,t,i,r){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+se]=i,n[o+ae]=r,0===o&&e._state&&K(k,e)}function k(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],n=t[s+i],r?$(i,r,n,o):n(o);e._subscribers.length=0}}function L(){this.error=null}function A(e,t){try{return e(t)}catch(e){return le.error=e,le}}function $(e,t,i,n){var o=r(i),s=void 0,a=void 0,c=void 0,l=void 0;if(o){if(s=A(i,n),s===le?(l=!0,a=s.error,s.error=null):c=!0,t===s)return void R(t,y())}else s=n,c=!0;t._state!==oe||(o&&c?C(t,s):l?R(t,a):e===se?T(t,s):e===ae&&R(t,s))}function I(e,t){try{t(function(t){C(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}function U(){return he++}function P(e){e[ne]=he++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e,t){this._instanceConstructor=e,this.promise=new e(m),this.promise[ne]||P(this.promise),z(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&T(this.promise,this._result))):R(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function F(e){return new O(this,e).promise}function B(e){var t=this;return new t(z(e)?function(i,r){for(var n=e.length,o=0;o<n;o++)t.resolve(e[o]).then(i,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function N(e){var t=this,i=new t(m);return R(i,e),i}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function W(e){this[ne]=U(),this._result=this._state=void 0,this._subscribers=[],m!==e&&("function"!=typeof e&&G(),this instanceof W?I(this,e):j())}function H(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=W}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var z=V,X=0,Y=void 0,q=void 0,K=function(e,t){ie[X]=e,ie[X+1]=t,2===(X+=2)&&(q?q(d):re())},Z="undefined"!=typeof window?window:void 0,Q=Z||{},J=Q.MutationObserver||Q.WebKitMutationObserver,ee="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3),re=void 0;re=ee?a():J?l():te?h():void 0===Z&&"function"==typeof t?f():u();var ne=Math.random().toString(36).substring(16),oe=void 0,se=1,ae=2,ce=new L,le=new L,he=0;return O.prototype._enumerate=function(e){for(var t=0;this._state===oe&&t<e.length;t++)this._eachEntry(e[t],t)},O.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===g){var n=b(e);if(n===p&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===W){var o=new i(m);S(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},O.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===oe&&(this._remaining--,e===ae?R(r,i):this._result[t]=i),0===this._remaining&&T(r,this._result)},O.prototype._willSettleAt=function(e,t){var i=this;E(e,void 0,function(e){return i._settledAt(se,t,e)},function(e){return i._settledAt(ae,t,e)})},W.all=F,W.race=B,W.resolve=g,W.reject=N,W._setScheduler=o,W._setAsap=s,W._asap=K,W.prototype={constructor:W,then:p,catch:function(e){return this.then(null,e)}},W.polyfill=H,W.Promise=W,W})}).call(this,t("_process"),"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:11}],5:[function(e,t,i){!function(e,r){if(void 0!==i&&void 0!==t)r(i,t);else{var n={exports:{}};r(n.exports,n),e.fetchJsonp=n.exports}}(this,function(e,t){function i(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function r(e){try{delete window[e]}catch(t){window[e]=void 0}}function n(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,a=t.timeout||s.timeout,c=t.jsonpCallback||s.jsonpCallback,l=void 0;return new Promise(function(s,h){var u=t.jsonpCallbackFunction||i(),d=c+"_"+u;window[u]=function(e){s({ok:!0,json:function(){return Promise.resolve(e)}}),l&&clearTimeout(l),n(d),r(u)},o+=-1===o.indexOf("?")?"?":"&";var f=document.createElement("script");f.setAttribute("src",""+o+c+"="+u),t.charset&&f.setAttribute("charset",t.charset),f.id=d,document.getElementsByTagName("head")[0].appendChild(f),l=setTimeout(function(){h(new Error("JSONP request to "+e+" timed out")),r(u),n(d),window[u]=function(){r(u)}},a),f.onerror=function(){h(new Error("JSONP request to "+e+" failed")),r(u),n(d),l&&clearTimeout(l)}})}var s={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};t.exports=o})},{}],6:[function(e,i,r){var n=n||function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,i=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",h=4e4,u=function(e){var t=function(){"string"==typeof e?i().revokeObjectURL(e):e.remove()};setTimeout(t,h)},d=function(e,t,i){t=[].concat(t);for(var r=t.length;r--;){var n=e["on"+t[r]];if("function"==typeof n)try{n.call(e,i||e)}catch(e){c(e)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},p=function(t,c,h){h||(t=f(t));var p,g=this,m=t.type,v=m===l,y=function(){d(g,"writestart progress write writeend".split(" "))},b=function(){if((a||v&&s)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,g.readyState=g.DONE,y()},r.readAsDataURL(t),void(g.readyState=g.INIT)}p||(p=i().createObjectURL(t)),v?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),g.readyState=g.DONE,y(),u(p)};if(g.readyState=g.INIT,n)return p=i().createObjectURL(t),void setTimeout(function(){r.href=p,r.download=c,o(r),y(),u(p),g.readyState=g.DONE});b()},g=p.prototype,m=function(e,t,i){return new p(e,t||e.name||"download",i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,i){return t=t||e.name||"download",i||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(g.abort=function(){},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==i&&i.exports?i.exports.saveAs=n:void 0!==t&&null!==t.amd&&t("FileSaver.js",function(){return n})},{}],7:[function(e,t,i){i.read=function(e,t,i,r,n){var o,s,a=8*n-r-1,c=(1<<a)-1,l=c>>1,h=-7,u=i?n-1:0,d=i?-1:1,f=e[t+u];for(u+=d,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},i.write=function(e,t,i,r,n,o){var s,a,c,l=8*o-n-1,h=(1<<l)-1,u=h>>1,d=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+u>=1?d/c:d*Math.pow(2,1-u),t*c>=2&&(s++,c/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*c-1)*Math.pow(2,n),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,n),s=0));n>=8;e[i+f]=255&a,f+=p,a/=256,n-=8);for(s=s<<n|a,l+=n;l>0;e[i+f]=255&s,f+=p,s/=256,l-=8);e[i+f-p]|=128*g}},{}],8:[function(e,t,i){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],9:[function(e,t,i){function r(e,t){return e.b===t.b&&e.a===t.a}function n(e,t){return e.b<t.b||e.b===t.b&&e.a<=t.a}function o(e,t,i){var r=t.b-e.b,n=i.b-t.b;return 0<r+n?r<n?t.a-e.a+r/(r+n)*(e.a-i.a):t.a-i.a+n/(r+n)*(i.a-e.a):0}function s(e,t,i){var r=t.b-e.b,n=i.b-t.b;return 0<r+n?(t.a-i.a)*r+(t.a-e.a)*n:0}function a(e,t){return e.a<t.a||e.a===t.a&&e.b<=t.b}function c(e,t,i){var r=t.a-e.a,n=i.a-t.a;return 0<r+n?r<n?t.b-e.b+r/(r+n)*(e.b-i.b):t.b-i.b+n/(r+n)*(i.b-e.b):0}function l(e,t,i){var r=t.a-e.a,n=i.a-t.a;return 0<r+n?(t.b-i.b)*r+(t.b-e.b)*n:0}function h(e){return n(e.b.a,e.a)}function u(e){return n(e.a,e.b.a)}function d(e,t,i,r){return e=0>e?0:e,i=0>i?0:i,e<=i?0===i?(t+r)/2:t+e/(e+i)*(r-t):r+i/(e+i)*(t-r)}function f(e){var t=y(e.b);return w(t,e.c),w(t.b,e.c),x(t,e.a),t}function p(e,t){var i=!1,r=!1;e!==t&&(t.a!==e.a&&(r=!0,S(t.a,e.a)),t.d!==e.d&&(i=!0,C(t.d,e.d)),b(t,e),r||(w(t,e.a),e.a.c=e),i||(x(t,e.d),e.d.a=e))}function g(e){var t=e.b,i=!1;e.d!==e.b.d&&(i=!0,C(e.d,e.b.d)),e.c===e?S(e.a,null):(e.b.d.a=Q(e),e.a.c=e.c,b(e,Q(e)),i||x(e,e.d)),t.c===t?(S(t.a,null),C(t.d,null)):(e.d.a=Q(t),t.a.c=t.c,b(t,Q(t))),_(e)}function m(e){var t=y(e),i=t.b;return b(t,e.e),t.a=e.b.a,w(i,t.a),t.d=i.d=e.d,t=t.b,b(e.b,Q(e.b)),b(e.b,t),e.b.a=t.a,t.b.a.c=t.b,t.b.d=e.b.d,t.f=e.f,t.b.f=e.b.f,t}function v(e,t){var i=!1,r=y(e),n=r.b;return t.d!==e.d&&(i=!0,C(t.d,e.d)),b(r,e.e),b(n,t),r.a=e.b.a,n.a=t.a,r.d=n.d=e.d,e.d.a=n,i||x(r,e.d),r}function y(e){var t=new Z,i=new Z,r=e.b.h;return i.h=r,r.b.h=t,t.h=e,e.b.h=i,t.b=i,t.c=t,t.e=i,i.b=t,i.c=i,i.e=t}function b(e,t){var i=e.c,r=t.c;i.b.e=t,r.b.e=e,e.c=r,t.c=i}function w(e,t){var i=t.f,r=new ee(t,i);i.e=r,t.f=r,i=r.c=e;do{i.a=r,i=i.c}while(i!==e)}function x(e,t){var i=t.d,r=new K(t,i);i.b=r,t.d=r,r.a=e,r.c=t.c,i=e;do{i.d=r,i=i.e}while(i!==e)}function _(e){var t=e.h;e=e.b.h,t.b.h=e,e.b.h=t}function S(e,t){var i=e.c,r=i;do{r.a=t,r=r.c}while(r!==i);i=e.f,r=e.e,r.f=i,i.e=r}function C(e,t){var i=e.a,r=i;do{r.d=t,r=r.e}while(r!==i);i=e.d,r=e.b,r.d=i,i.b=r}function M(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t}function T(e,t){e.f+=t.f,e.b.f+=t.b.f}function R(e,t,i){return e=e.a,t=t.a,i=i.a,t.b.a===e?i.b.a===e?n(t.a,i.a)?0>=s(i.b.a,t.a,i.a):0<=s(t.b.a,i.a,t.a):0>=s(i.b.a,e,i.a):i.b.a===e?0<=s(t.b.a,e,t.a):(t=o(t.b.a,e,t.a),e=o(i.b.a,e,i.a),t>=e)}function E(e){e.a.i=null;var t=e.e;t.a.c=t.c,t.c.a=t.a,e.e=null}function k(e,t){g(e.a),e.c=!1,e.a=t,t.i=e}function L(e){var t=e.a.a;do{e=pe(e)}while(e.a.a===t);return e.c&&(t=v(fe(e).a.b,e.a.e),k(e,t),e=pe(e)),e}function A(e,t,i){var r=new de;return r.a=i,r.e=V(e.f,t.e,r),i.i=r}function $(e,t){switch(e.s){case 100130:return 0!=(1&t);case 100131:return 0!==t;case 100132:return 0<t;case 100133:return 0>t;case 100134:return 2<=t||-2>=t}return!1}function I(e){var t=e.a,i=t.d;i.c=e.d,i.a=t,E(e)}function U(e,t,i){for(e=t,t=t.a;e!==i;){e.c=!1;var r=fe(e),n=r.a;if(n.a!==t.a){if(!r.c){I(e);break}n=v(t.c.b,n.b),k(r,n)}t.c!==n&&(p(Q(n),n),p(t,n)),I(e),t=r.a,e=r}return t}function P(e,t,i,r,n,o){var s=!0;do{A(e,t,i.b),i=i.c}while(i!==r);for(null===n&&(n=fe(t).a.b.c);r=fe(t),i=r.a.b,i.a===n.a;)i.c!==n&&(p(Q(i),i),p(Q(n),i)),r.f=t.f-i.f,r.d=$(e,r.f),t.b=!0,!s&&B(e,t)&&(T(i,n),E(t),g(n)),s=!1,t=r,n=i;t.b=!0,o&&G(e,t)}function O(e,t,i,r,n){var o=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=e.o&&e.o(o,i,r,e.c)||null,null===t.d&&(n?e.n||(q(e,100156),e.n=!0):t.d=i[0])}function D(e,t,i){var r=[null,null,null,null];r[0]=t.a.d,r[1]=i.a.d,O(e,t.a,r,[.5,.5,0,0],!1),p(t,i)}function F(e,t,i,r,n){var o=Math.abs(t.b-e.b)+Math.abs(t.a-e.a),s=Math.abs(i.b-e.b)+Math.abs(i.a-e.a),a=n+1;r[n]=.5*s/(o+s),r[a]=.5*o/(o+s),e.g[0]+=r[n]*t.g[0]+r[a]*i.g[0],e.g[1]+=r[n]*t.g[1]+r[a]*i.g[1],e.g[2]+=r[n]*t.g[2]+r[a]*i.g[2]}function B(e,t){var i=fe(t),o=t.a,a=i.a;if(n(o.a,a.a)){if(0<s(a.b.a,o.a,a.a))return!1;if(r(o.a,a.a)){if(o.a!==a.a){i=e.e;var c=o.a.h;if(0<=c){i=i.b;var l=i.d,h=i.e,u=i.c,d=u[c];l[d]=l[i.a],u[l[d]]=d,d<=--i.a&&(1>=d?he(i,d):n(h[l[d>>1]],h[l[d]])?he(i,d):ue(i,d)),h[c]=null,u[c]=i.b,i.b=c}else for(i.c[-(c+1)]=null;0<i.a&&null===i.c[i.d[i.a-1]];)--i.a;D(e,Q(a),o)}}else m(a.b),p(o,Q(a)),t.b=i.b=!0}else{if(0>s(o.b.a,a.a,o.a))return!1;pe(t).b=t.b=!0,m(o.b),p(Q(a),o)}return!0}function N(e,t){var i=fe(t),h=t.a,u=i.a,f=h.a,g=u.a,v=h.b.a,y=u.b.a,b=new ee;if(s(v,e.a,f),s(y,e.a,g),f===g||Math.min(f.a,v.a)>Math.max(g.a,y.a))return!1;if(n(f,g)){if(0<s(y,f,g))return!1}else if(0>s(v,g,f))return!1;var w,x,_=v,S=f,C=y,M=g;if(n(_,S)||(w=_,_=S,S=w),n(C,M)||(w=C,C=M,M=w),n(_,C)||(w=_,_=C,C=w,w=S,S=M,M=w),n(C,S)?n(S,M)?(w=o(_,C,S),x=o(C,S,M),0>w+x&&(w=-w,x=-x),b.b=d(w,C.b,x,S.b)):(w=s(_,C,S),x=-s(_,M,S),0>w+x&&(w=-w,x=-x),b.b=d(w,C.b,x,M.b)):b.b=(C.b+S.b)/2,a(_,S)||(w=_,_=S,S=w),a(C,M)||(w=C,C=M,M=w),a(_,C)||(w=_,_=C,C=w,w=S,S=M,M=w),a(C,S)?a(S,M)?(w=c(_,C,S),x=c(C,S,M),0>w+x&&(w=-w,x=-x),b.a=d(w,C.a,x,S.a)):(w=l(_,C,S),x=-l(_,M,S),0>w+x&&(w=-w,x=-x),b.a=d(w,C.a,x,M.a)):b.a=(C.a+S.a)/2,n(b,e.a)&&(b.b=e.a.b,b.a=e.a.a),_=n(f,g)?f:g,n(_,b)&&(b.b=_.b,b.a=_.a),r(b,f)||r(b,g))return B(e,t),!1;if(!r(v,e.a)&&0<=s(v,e.a,b)||!r(y,e.a)&&0>=s(y,e.a,b)){if(y===e.a)return m(h.b),p(u.b,h),t=L(t),h=fe(t).a,U(e,fe(t),i),P(e,t,Q(h),h,h,!0),!0;if(v===e.a){m(u.b),p(h.e,Q(u)),f=i=t,g=f.a.b.a;do{f=pe(f)}while(f.a.b.a===g);return t=f,f=fe(t).a.b.c,i.a=Q(u),u=U(e,i,null),P(e,t,u.c,h.b.c,f,!0),!0}return 0<=s(v,e.a,b)&&(pe(t).b=t.b=!0,m(h.b),h.a.b=e.a.b,h.a.a=e.a.a),0>=s(y,e.a,b)&&(t.b=i.b=!0,m(u.b),u.a.b=e.a.b,u.a.a=e.a.a),!1}return m(h.b),m(u.b),p(Q(u),h),h.a.b=b.b,h.a.a=b.a,h.a.h=re(e.e,h.a),h=h.a,u=[0,0,0,0],b=[f.d,v.d,g.d,y.d],h.g[0]=h.g[1]=h.g[2]=0,F(h,f,v,u,0),F(h,g,y,u,2),O(e,h,b,u,!0),pe(t).b=t.b=i.b=!0,!1}function G(e,t){for(var i=fe(t);;){for(;i.b;)t=i,i=fe(i);if(!t.b&&(i=t,null===(t=pe(t))||!t.b))break;t.b=!1;var r,o=t.a,a=i.a;if(r=o.b.a!==a.b.a)e:{r=t;var c=fe(r),l=r.a,h=c.a,u=void 0;if(n(l.b.a,h.b.a)){if(0>s(l.b.a,h.b.a,l.a)){r=!1;break e}pe(r).b=r.b=!0,u=m(l),p(h.b,u),u.d.c=r.d}else{if(0<s(h.b.a,l.b.a,h.a)){r=!1;break e}r.b=c.b=!0,u=m(h),p(l.e,h.b),u.b.d.c=r.d}r=!0}if(r&&(i.c?(E(i),g(a),i=fe(t),a=i.a):t.c&&(E(t),g(o),t=pe(i),o=t.a)),o.a!==a.a)if(o.b.a===a.b.a||t.c||i.c||o.b.a!==e.a&&a.b.a!==e.a)B(e,t);else if(N(e,t))break;o.a===a.a&&o.b.a===a.b.a&&(T(a,o),E(t),g(o),t=pe(i))}}function j(e,t){e.a=t;for(var i=t.c;null===i.i;)if((i=i.c)===t.c){i=e;var o=t,a=new de;a.a=o.c.b;var c=i.f,l=c.a;do{l=l.a}while(null!==l.b&&!c.c(c.b,a,l.b));c=l.b;var h=fe(c);a=c.a,l=h.a;if(0===s(a.b.a,o,a.a))a=c.a,r(a.a,o)||r(a.b.a,o)||(m(a.b),c.c&&(g(a.c),c.c=!1),p(o.c,a),j(i,o));else{var u=n(l.b.a,a.b.a)?c:h;h=void 0;c.d||u.c?(h=u===c?v(o.c.b,a.e):v(l.b.c.b,o.c).b,u.c?k(u,h):(a=i,c=A(i,c,h),c.f=pe(c).f+c.a.f,c.d=$(a,c.f)),j(i,o)):P(i,c,o.c,o.c,null,!0)}return}if(i=L(i.i),a=fe(i),c=a.a,a=U(e,a,null),a.c===c){c=a,a=c.c,l=fe(i),h=i.a,u=l.a;var d=!1;h.b.a!==u.b.a&&N(e,i),r(h.a,e.a)&&(p(Q(a),h),i=L(i),a=fe(i).a,U(e,fe(i),l),d=!0),r(u.a,e.a)&&(p(c,Q(u)),c=U(e,l,null),d=!0),d?P(e,i,c.c,a,a,!0):(o=n(u.a,h.a)?Q(u):h,o=v(c.c.b,o),P(e,i,o,o.c,o.c,!1),o.b.i.c=!0,G(e,i))}else P(e,i,a.c,c,c,!0)}function W(e,t){var i=new de,r=f(e.b);r.a.b=me,r.a.a=t,r.b.a.b=-me,r.b.a.a=t,e.a=r.b.a,i.a=r,i.f=0,i.d=!1,i.c=!1,i.h=!0,i.b=!1,r=e.f,r=V(r,r.a,i),i.e=r}function H(e){this.a=new z,this.b=e,this.c=R}function V(e,t,i){do{t=t.c}while(null!==t.b&&!e.c(e.b,t.b,i));return e=new z(i,t.a,t),t.a.c=e,t.a=e}function z(e,t,i){this.b=e||null,this.a=t||this,this.c=i||this}function X(){this.d=ve,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Y(e,t){if(e.d!==t)for(;e.d!==t;)if(e.d<t)switch(e.d){case ve:q(e,100151),e.u(null);break;case 1:q(e,100152),e.t()}else switch(e.d){case 2:q(e,100154),e.v();break;case 1:q(e,100153),e.w()}}function q(e,t){e.p&&e.p(t,e.c)}function K(e,t){this.b=e||this,this.d=t||this,this.a=null,this.c=!1}function Z(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Q(e){return e.b.e}function J(){this.c=new ee,this.a=new K,this.b=new Z,this.d=new Z,this.b.b=this.d,this.d.b=this.b}function ee(e,t){this.e=e||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function te(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new oe}function ie(e){e.d=[];for(var t=0;t<e.a;t++)e.d[t]=t;e.d.sort(function(e){return function(t,i){return n(e[t],e[i])?1:-1}}(e.c)),e.e=!0,ae(e.b)}function re(e,t){if(e.e){var i,r=e.b,n=++r.a;return 2*n>r.f&&(r.f*=2,r.c=se(r.c,r.f+1)),0===r.b?i=n:(i=r.b,r.b=r.c[r.b]),r.e[i]=t,r.c[i]=n,r.d[n]=i,r.h&&ue(r,n),i}return r=e.a++,e.c[r]=t,-(r+1)}function ne(e){if(0===e.a)return le(e.b);var t=e.c[e.d[e.a-1]];if(0!==e.b.a&&n(ce(e.b),t))return le(e.b);do{--e.a}while(0<e.a&&null===e.c[e.d[e.a-1]]);return t}function oe(){this.d=se([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function se(e,t){for(var i=Array(t),r=0;r<e.length;r++)i[r]=e[r];for(;r<t;r++)i[r]=0;return i}function ae(e){for(var t=e.a;1<=t;--t)he(e,t);e.h=!0}function ce(e){return e.e[e.d[1]]}function le(e){var t=e.d,i=e.e,r=e.c,n=t[1],o=i[n];return 0<e.a&&(t[1]=t[e.a],r[t[1]]=1,i[n]=null,r[n]=e.b,e.b=n,0<--e.a&&he(e,1)),o}function he(e,t){for(var i=e.d,r=e.e,o=e.c,s=t,a=i[s];;){var c=s<<1;c<e.a&&n(r[i[c+1]],r[i[c]])&&(c+=1);var l=i[c];if(c>e.a||n(r[a],r[l])){i[s]=a,o[a]=s;break}i[s]=l,o[l]=s,s=c}}function ue(e,t){for(var i=e.d,r=e.e,o=e.c,s=t,a=i[s];;){var c=s>>1,l=i[c];if(0===c||n(r[l],r[a])){i[s]=a,o[a]=s;break}i[s]=l,o[l]=s,s=c}}function de(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function fe(e){return e.e.c.b}function pe(e){return e.e.a.b}var ge,me=4e150,ve=0;ge=X.prototype,ge.x=function(){Y(this,ve)},ge.B=function(e,t){switch(e){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=t)}break;case 100141:return void(this.m=!!t);default:return void q(this,100900)}q(this,100901)},ge.y=function(e){switch(e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},ge.A=function(e,t,i){this.j[0]=e,this.j[1]=t,this.j[2]=i},ge.z=function(e,t){var i=t||null;switch(e){case 100100:case 100106:this.h=i;break;case 100104:case 100110:this.l=i;break;case 100101:case 100107:this.k=i;break;case 100102:case 100108:this.i=i;break;case 100103:case 100109:this.p=i;break;case 100105:case 100111:this.o=i;break;case 100112:this.r=i;break;default:q(this,100900)}},ge.C=function(e,t){var i=!1,r=[0,0,0];Y(this,2);for(var n=0;3>n;++n){var o=e[n];-1e150>o&&(o=-1e150,i=!0),1e150<o&&(o=1e150,i=!0),r[n]=o}i&&q(this,100155),i=this.q,null===i?(i=f(this.b),p(i,i.b)):(m(i),i=i.e),i.a.d=t,i.a.g[0]=r[0],i.a.g[1]=r[1],i.a.g[2]=r[2],i.f=1,i.b.f=-1,this.q=i},ge.u=function(e){Y(this,ve),this.d=1,this.b=new J,this.c=e},ge.t=function(){Y(this,1),this.d=2,this.q=null},ge.v=function(){Y(this,2),this.d=1},ge.w=function(){Y(this,1),this.d=ve;var e=this.j[0],t=this.j[1],i=this.j[2],o=!1,a=[e,t,i];if(0===e&&0===t&&0===i){t=[-2e150,-2e150,-2e150];var c=[2e150,2e150,2e150],l=(i=[],[]);for(o=this.b.c,e=o.e;e!==o;e=e.e)for(var d=0;3>d;++d){var f=e.g[d];f<c[d]&&(c[d]=f,l[d]=e),f>t[d]&&(t[d]=f,i[d]=e)}if(e=0,t[1]-c[1]>t[0]-c[0]&&(e=1),t[2]-c[2]>t[e]-c[e]&&(e=2),c[e]>=t[e])a[0]=0,a[1]=0,a[2]=1;else{for(t=0,c=l[e],i=i[e],l=[0,0,0],c=[c.g[0]-i.g[0],c.g[1]-i.g[1],c.g[2]-i.g[2]],d=[0,0,0],e=o.e;e!==o;e=e.e)d[0]=e.g[0]-i.g[0],d[1]=e.g[1]-i.g[1],d[2]=e.g[2]-i.g[2],l[0]=c[1]*d[2]-c[2]*d[1],l[1]=c[2]*d[0]-c[0]*d[2],l[2]=c[0]*d[1]-c[1]*d[0],(f=l[0]*l[0]+l[1]*l[1]+l[2]*l[2])>t&&(t=f,a[0]=l[0],a[1]=l[1],a[2]=l[2]);0>=t&&(a[0]=a[1]=a[2]=0,a[M(c)]=1)}o=!0}for(l=M(a),e=this.b.c,t=(l+1)%3,i=(l+2)%3,l=0<a[l]?1:-1,a=e.e;a!==e;a=a.e)a.b=a.g[t],a.a=l*a.g[i];if(o){for(a=0,o=this.b.a,e=o.b;e!==o;e=e.b)if(t=e.a,!(0>=t.f))do{a+=(t.a.b-t.b.a.b)*(t.a.a+t.b.a.a),t=t.e}while(t!==e.a);if(0>a)for(a=this.b.c,o=a.e;o!==a;o=o.e)o.a=-o.a}for(this.n=!1,a=this.b.b,e=a.h;e!==a;e=o)o=e.h,t=e.e,r(e.a,e.b.a)&&e.e.e!==e&&(D(this,t,e),g(e),e=t,t=e.e),t.e===e&&(t!==e&&(t!==o&&t!==o.b||(o=o.h),g(t)),e!==o&&e!==o.b||(o=o.h),g(e));for(this.e=a=new te,o=this.b.c,e=o.e;e!==o;e=e.e)e.h=re(a,e);for(ie(a),this.f=new H(this),W(this,-me),W(this,me);null!==(a=ne(this.e));){for(;;){e:if(e=this.e,0===e.a)o=ce(e.b);else if(o=e.c[e.d[e.a-1]],0!==e.b.a&&(e=ce(e.b),n(e,o))){o=e;break e}if(null===o||!r(o,a))break;o=ne(this.e),D(this,a.c,o.c)}j(this,a)}for(this.a=this.f.a.a.b.a.a,a=0;null!==(o=this.f.a.a.b);)o.h||++a,E(o);for(this.f=null,a=this.e,a.b=null,a.d=null,this.e=a.c=null,a=this.b,e=a.a.b;e!==a.a;e=o)o=e.b,e=e.a,e.e.e===e&&(T(e.c,e),g(e));if(!this.n){if(a=this.b,this.m)for(e=a.b.h;e!==a.b;e=o)o=e.h,e.b.d.c!==e.d.c?e.f=e.d.c?1:-1:g(e);else for(e=a.a.b;e!==a.a;e=o)if(o=e.b,e.c){for(e=e.a;n(e.b.a,e.a);e=e.c.b);for(;n(e.a,e.b.a);e=e.e);for(t=e.c.b,i=void 0;e.e!==t;)if(n(e.b.a,t.a)){for(;t.e!==e&&(h(t.e)||0>=s(t.a,t.b.a,t.e.b.a));)i=v(t.e,t),t=i.b;t=t.c.b}else{for(;t.e!==e&&(u(e.c.b)||0<=s(e.b.a,e.a,e.c.b.a));)i=v(e,e.c.b),e=i.b;e=e.e}for(;t.e.e!==e;)i=v(t.e,t),t=i.b}if(this.h||this.i||this.k||this.l)if(this.m){for(a=this.b,o=a.a.b;o!==a.a;o=o.b)if(o.c){this.h&&this.h(2,this.c),e=o.a;do{this.k&&this.k(e.a.d,this.c),e=e.e}while(e!==o.a);this.i&&this.i(this.c)}}else{for(a=this.b,o=!!this.l,e=!1,t=-1,i=a.a.d;i!==a.a;i=i.d)if(i.c){e||(this.h&&this.h(4,this.c),e=!0),l=i.a;do{o&&(c=l.b.d.c?0:1,t!==c&&(t=c,this.l&&this.l(!!t,this.c))),this.k&&this.k(l.a.d,this.c),l=l.e}while(l!==i.a)}e&&this.i&&this.i(this.c)}if(this.r){for(a=this.b,e=a.a.b;e!==a.a;e=o)if(o=e.b,!e.c){t=e.a,i=t.e,l=void 0;do{l=i,i=l.e,l.d=null,null===l.b.d&&(l.c===l?S(l.a,null):(l.a.c=l.c,b(l,Q(l))),c=l.b,c.c===c?S(c.a,null):(c.a.c=c.c,b(c,Q(c))),_(l))}while(l!==t);t=e.d,e=e.b,e.d=t,t.b=e}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:X,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},X.prototype.gluDeleteTess=X.prototype.x,X.prototype.gluTessProperty=X.prototype.B,X.prototype.gluGetTessProperty=X.prototype.y,X.prototype.gluTessNormal=X.prototype.A,X.prototype.gluTessCallback=X.prototype.z,X.prototype.gluTessVertex=X.prototype.C,X.prototype.gluTessBeginPolygon=X.prototype.u,X.prototype.gluTessBeginContour=X.prototype.t,X.prototype.gluTessEndContour=X.prototype.v,X.prototype.gluTessEndPolygon=X.prototype.w,void 0!==t&&(t.exports=this.libtess)},{}],10:[function(e,t,i){(function(r){!function(e,r){r("object"==typeof i&&void 0!==t?i:e.opentype={})}(this,function(t){function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function n(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new i,this.dtree=new i}function o(e,t,i,r){var n,o;for(n=0;n<i;++n)e[n]=0;for(n=0;n<30-i;++n)e[n+i]=n/i|0;for(o=r,n=0;n<30;++n)t[n]=o,o+=1<<e[n]}function s(e,t){var i;for(i=0;i<7;++i)e.table[i]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,i=0;i<24;++i)e.trans[i]=256+i;for(i=0;i<144;++i)e.trans[24+i]=i;for(i=0;i<8;++i)e.trans[168+i]=280+i;for(i=0;i<112;++i)e.trans[176+i]=144+i;for(i=0;i<5;++i)t.table[i]=0;for(t.table[5]=32,i=0;i<32;++i)t.trans[i]=i}function a(e,t,i,r){var n,o;for(n=0;n<16;++n)e.table[n]=0;for(n=0;n<r;++n)e.table[t[i+n]]++;for(e.table[0]=0,o=0,n=0;n<16;++n)_n[n]=o,o+=e.table[n];for(n=0;n<r;++n)t[i+n]&&(e.trans[_n[t[i+n]]++]=n)}function c(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function l(e,t,i){if(!t)return i;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+i}function h(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var i=0,r=0,n=0,o=e.tag;do{r=2*r+(1&o),o>>>=1,++n,i+=t.table[n],r-=t.table[n]}while(r>=0);return e.tag=o,e.bitcount-=n,t.trans[i+r]}function u(e,t,i){var r,n,o,s,c,u;for(r=l(e,5,257),n=l(e,5,1),o=l(e,4,4),s=0;s<19;++s)xn[s]=0;for(s=0;s<o;++s){var d=l(e,3,0);xn[bn[s]]=d}for(a(wn,xn,0,19),c=0;c<r+n;){var f=h(e,wn);switch(f){case 16:var p=xn[c-1];for(u=l(e,2,3);u;--u)xn[c++]=p;break;case 17:for(u=l(e,3,3);u;--u)xn[c++]=0;break;case 18:for(u=l(e,7,11);u;--u)xn[c++]=0;break;default:xn[c++]=f}}a(t,xn,0,r),a(i,xn,r,n)}function d(e,t,i){for(;;){var r,n,o,s,a=h(e,t);if(256===a)return un;if(a<256)e.dest[e.destLen++]=a;else for(a-=257,r=l(e,gn[a],mn[a]),n=h(e,i),o=e.destLen-l(e,vn[n],yn[n]),s=o;s<o+r;++s)e.dest[e.destLen++]=e.dest[s]}}function f(e){for(var t,i,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(t=e.source[e.sourceIndex+1],t=256*t+e.source[e.sourceIndex],i=e.source[e.sourceIndex+3],i=256*i+e.source[e.sourceIndex+2],t!==(65535&~i))return dn;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,un}function p(e,t){var i,r,o=new n(e,t);do{switch(i=c(o),l(o,2,0)){case 0:r=f(o);break;case 1:r=d(o,fn,pn);break;case 2:u(o,o.ltree,o.dtree),r=d(o,o.ltree,o.dtree);break;default:r=dn}if(r!==un)throw new Error("Data error")}while(!i);return o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest}function g(e,t,i,r,n){return Math.pow(1-n,3)*e+3*Math.pow(1-n,2)*n*t+3*(1-n)*Math.pow(n,2)*i+Math.pow(n,3)*r}function m(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function v(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function y(e){throw new Error(e)}function b(e,t){e||y(t)}function w(e){return function(){return e}}function x(e){return e>=-128&&e<=127}function _(e,t,i){for(var r=0,n=e.length;t<n&&r<64&&0===e[t];)++t,++r;return i.push(128|r-1),t}function S(e,t,i){for(var r=0,n=e.length,o=t;o<n&&r<64;){var s=e[o];if(!x(s))break;if(0===s&&o+1<n&&0===e[o+1])break;++o,++r}i.push(r-1);for(var a=t;a<o;++a)i.push(e[a]+256&255);return o}function C(e,t,i){for(var r=0,n=e.length,o=t;o<n&&r<64;){var s=e[o];if(0===s)break;if(x(s)&&o+1<n&&x(e[o+1]))break;++o,++r}i.push(64|r-1);for(var a=t;a<o;++a){var c=e[a];i.push(c+65536>>8&255,c+256&255)}return o}function M(e,t,i){for(var r=this,n=0;n<t.length;n+=1){var o=t[n];r[o.name]=o.value}if(this.tableName=e,this.fields=t,i)for(var s=Object.keys(i),a=0;a<s.length;a+=1){var c=s[a],l=i[c];void 0!==r[c]&&(r[c]=l)}}function T(e,t,i){void 0===i&&(i=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:i};for(var n=0;n<t.length;n++)r[n+1]={name:e+n,type:"USHORT",value:t[n]};return r}function R(e,t,i){var r=t.length,n=new Array(r+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)n[o+1]={name:e+o,type:"TABLE",value:i(t[o],o)};return n}function E(e,t,i){var r=t.length,n=[];n[0]={name:e+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)n=n.concat(i(t[o],o));return n}function k(e){1===e.format?M.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(T("glyph",e.glyphs))):Cn.assert(!1,"Can't create coverage table format 2 yet.")}function L(e){M.call(this,"scriptListTable",E("scriptRecord",e,function(e,t){var i=e.script,r=i.defaultLangSys;return Cn.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new M("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new M("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(T("featureIndex",r.featureIndexes)))}].concat(E("langSys",i.langSysRecords,function(e,t){var i=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new M("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(T("featureIndex",i.featureIndexes)))}]})))}]}))}function A(e){M.call(this,"featureListTable",E("featureRecord",e,function(e,t){var i=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new M("featureTable",[{name:"featureParams",type:"USHORT",value:i.featureParams}].concat(T("lookupListIndex",i.lookupListIndexes)))}]}))}function $(e,t){M.call(this,"lookupListTable",R("lookup",e,function(e){var i=t[e.lookupType];return Cn.assert(!!i,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new M("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(R("subtable",e.subtables,i)))}))}function I(e,t){return e.getUint8(t)}function U(e,t){return e.getUint16(t,!1)}function P(e,t){return e.getInt16(t,!1)}function O(e,t){return e.getUint32(t,!1)}function D(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}function F(e,t){for(var i="",r=t;r<t+4;r+=1)i+=String.fromCharCode(e.getInt8(r));return i}function B(e,t,i){for(var r=0,n=0;n<i;n+=1)r<<=8,r+=e.getUint8(t+n);return r}function N(e,t,i){for(var r=[],n=t;n<i;n+=1)r.push(e.getUint8(n));return r}function G(e){for(var t="",i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return t}function j(e,t){this.data=e,this.offset=t,this.relativeOffset=0}function W(e,t){var i;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=i=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<i;r+=1)for(var n=t.parseULong(),o=t.parseULong(),s=t.parseULong(),a=n;a<=o;a+=1)e.glyphIndexMap[a]=s,s++}function H(e,t,i,r,n){var o;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var s=new Fn.Parser(i,r+n+14),a=new Fn.Parser(i,r+n+16+2*o),c=new Fn.Parser(i,r+n+16+4*o),l=new Fn.Parser(i,r+n+16+6*o),h=r+n+16+8*o,u=0;u<o-1;u+=1)for(var d=void 0,f=s.parseUShort(),p=a.parseUShort(),g=c.parseShort(),m=l.parseUShort(),v=p;v<=f;v+=1)0!==m?(h=l.offset+l.relativeOffset-2,h+=m,h+=2*(v-p),0!==(d=Fn.getUShort(i,h))&&(d=d+g&65535)):d=v+g&65535,e.glyphIndexMap[v]=d}function V(e,t){var i={};i.version=Fn.getUShort(e,t),Cn.argument(0===i.version,"cmap table version should be 0."),i.numTables=Fn.getUShort(e,t+2);for(var r=-1,n=i.numTables-1;n>=0;n-=1){var o=Fn.getUShort(e,t+4+8*n),s=Fn.getUShort(e,t+4+8*n+2);if(3===o&&(0===s||1===s||10===s)||0===o&&(0===s||1===s||2===s||3===s||4===s)){r=Fn.getULong(e,t+4+8*n+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var a=new Fn.Parser(e,t+r);if(i.format=a.parseUShort(),12===i.format)W(i,a);else{if(4!==i.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+i.format+").");H(i,a,e,t,r)}return i}function z(e,t,i){e.segments.push({end:t,start:t,delta:-(t-i),offset:0,glyphIndex:i})}function X(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function Y(e){var t,i=!0;for(t=e.length-1;t>0;t-=1)if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),i=!1;break}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:i?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:i?12:20}];i||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var n=new Pn.Table("cmap",r);for(n.segments=[],t=0;t<e.length;t+=1){for(var o=e.get(t),s=0;s<o.unicodes.length;s+=1)z(n,o.unicodes[s],t);n.segments=n.segments.sort(function(e,t){return e.start-t.start})}X(n);var a=n.segments.length,c=0,l=[],h=[],u=[],d=[],f=[],p=[];for(t=0;t<a;t+=1){var g=n.segments[t];g.end<=65535&&g.start<=65535?(l=l.concat({name:"end_"+t,type:"USHORT",value:g.end}),h=h.concat({name:"start_"+t,type:"USHORT",value:g.start}),u=u.concat({name:"idDelta_"+t,type:"SHORT",value:g.delta}),d=d.concat({name:"idRangeOffset_"+t,type:"USHORT",value:g.offset}),void 0!==g.glyphId&&(f=f.concat({name:"glyph_"+t,type:"USHORT",value:g.glyphId}))):c+=1,i||void 0===g.glyphIndex||(p=p.concat({name:"cmap12Start_"+t,type:"ULONG",value:g.start}),p=p.concat({name:"cmap12End_"+t,type:"ULONG",value:g.end}),p=p.concat({name:"cmap12Glyph_"+t,type:"ULONG",value:g.glyphIndex}))}if(n.segCountX2=2*(a-c),n.searchRange=2*Math.pow(2,Math.floor(Math.log(a-c)/Math.log(2))),n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange,n.fields=n.fields.concat(l),n.fields.push({name:"reservedPad",type:"USHORT",value:0}),n.fields=n.fields.concat(h),n.fields=n.fields.concat(u),n.fields=n.fields.concat(d),n.fields=n.fields.concat(f),n.cmap4Length=14+2*l.length+2+2*h.length+2*u.length+2*d.length+2*f.length,!i){var m=16+4*p.length;n.cmap12Offset=20+n.cmap4Length,n.fields=n.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:m},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:p.length/3}]),n.fields=n.fields.concat(p)}return n}function q(e){this.font=e}function K(e){this.cmap=e}function Z(e,t){this.encoding=e,this.charset=t}function Q(e){var t=this;switch(e.version){case 1:this.names=Wn.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var i=0;i<e.numberOfGlyphs;i++)e.glyphNameIndex[i]<Wn.length?t.names[i]=Wn[e.glyphNameIndex[i]]:t.names[i]=e.names[e.glyphNameIndex[i]-Wn.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)t.names[r]=Wn[r+e.glyphNameIndex[r]];break;case 3:default:this.names=[]}}function J(e){for(var t,i=e.tables.cmap.glyphIndexMap,r=Object.keys(i),n=0;n<r.length;n+=1){var o=r[n],s=i[o];t=e.glyphs.get(s),t.addUnicode(parseInt(o))}for(var a=0;a<e.glyphs.length;a+=1)t=e.glyphs.get(a),e.cffEncoding?e.isCIDFont?t.name="gid"+a:t.name=e.cffEncoding.charset[a]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(a))}function ee(e,t,i,r,n){e.beginPath(),e.moveTo(t,i),e.lineTo(r,n),e.stroke()}function te(e,t){var i=t||new v;return{configurable:!0,get:function(){return"function"==typeof i&&(i=i()),i},set:function(e){i=e}}}function ie(e){this.bindConstructorValues(e)}function re(e,t,i){Object.defineProperty(e,t,{get:function(){return e.path,e[i]},set:function(t){e[i]=t},enumerable:!0,configurable:!0})}function ne(e,t){var i=this;if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)i.glyphs[r]=t[r];this.length=t&&t.length||0}function oe(e,t){return new ie({index:t,font:e})}function se(e,t,i,r,n,o){return function(){var s=new ie({index:t,font:e});return s.path=function(){i(s,r,n);var t=o(e.glyphs,s);return t.unitsPerEm=e.unitsPerEm,t},re(s,"xMin","_xMin"),re(s,"xMax","_xMax"),re(s,"yMin","_yMin"),re(s,"yMax","_yMax"),s}}function ae(e,t,i,r){return function(){var n=new ie({index:t,font:e});return n.path=function(){var t=i(e,n,r);return t.unitsPerEm=e.unitsPerEm,t},n}}function ce(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i+=1)if(!ce(e[i],t[i]))return!1;return!0}return!1}function le(e){return e.length<1240?107:e.length<33900?1131:32768}function he(e,t,i){var r,n,o=[],s=[],a=Fn.getCard16(e,t);if(0!==a){var c=Fn.getByte(e,t+2);r=t+(a+1)*c+2;for(var l=t+3,h=0;h<a+1;h+=1)o.push(Fn.getOffset(e,l,c)),l+=c;n=r+o[a]}else n=t+2;for(var u=0;u<o.length-1;u+=1){var d=Fn.getBytes(e,r+o[u],r+o[u+1]);i&&(d=i(d)),s.push(d)}return{objects:s,startOffset:t,endOffset:n}}function ue(e){for(var t="",i=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var n=e.parseByte(),o=n>>4,s=15&n;if(o===i)break;if(t+=r[o],s===i)break;t+=r[s]}return parseFloat(t)}function de(e,t){var i,r,n,o;if(28===t)return i=e.parseByte(),r=e.parseByte(),i<<8|r;if(29===t)return i=e.parseByte(),r=e.parseByte(),n=e.parseByte(),o=e.parseByte(),i<<24|r<<16|n<<8|o;if(30===t)return ue(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return i=e.parseByte(),256*(t-247)+i+108;if(t>=251&&t<=254)return i=e.parseByte(),256*-(t-251)-i-108;throw new Error("Invalid b0 "+t)}function fe(e){for(var t={},i=0;i<e.length;i+=1){var r=e[i][0],n=e[i][1],o=void 0;if(o=1===n.length?n[0]:n,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=o}return t}function pe(e,t,i){t=void 0!==t?t:0;var r=new Fn.Parser(e,t),n=[],o=[];for(i=void 0!==i?i:e.length;r.relativeOffset<i;){var s=r.parseByte();s<=21?(12===s&&(s=1200+r.parseByte()),n.push([s,o]),o=[]):o.push(de(r,s))}return fe(n)}function ge(e,t){return t<=390?Nn[t]:e[t-391]}function me(e,t,i){for(var r,n={},o=0;o<t.length;o+=1){var s=t[o];if(Array.isArray(s.type)){var a=[];a.length=s.type.length;for(var c=0;c<s.type.length;c++)r=void 0!==e[s.op]?e[s.op][c]:void 0,void 0===r&&(r=void 0!==s.value&&void 0!==s.value[c]?s.value[c]:null),"SID"===s.type[c]&&(r=ge(i,r)),a[c]=r;n[s.name]=a}else r=e[s.op],void 0===r&&(r=void 0!==s.value?s.value:null),"SID"===s.type&&(r=ge(i,r)),n[s.name]=r}return n}function ve(e,t){var i={};return i.formatMajor=Fn.getCard8(e,t),i.formatMinor=Fn.getCard8(e,t+1),i.size=Fn.getCard8(e,t+2),i.offsetSize=Fn.getCard8(e,t+3),i.startOffset=t,i.endOffset=t+4,i}function ye(e,t){return me(pe(e,0,e.byteLength),zn,t)}function be(e,t,i,r){return me(pe(e,t,i),Xn,r)}function we(e,t,i,r){for(var n=[],o=0;o<i.length;o+=1){var s=new DataView(new Uint8Array(i[o]).buffer),a=ye(s,r);a._subrs=[],a._subrsBias=0;var c=a.private[0],l=a.private[1];if(0!==c&&0!==l){var h=be(e,l+t,c,r);if(a._defaultWidthX=h.defaultWidthX,a._nominalWidthX=h.nominalWidthX,0!==h.subrs){var u=l+h.subrs,d=he(e,u+t);a._subrs=d.objects,a._subrsBias=le(a._subrs)}a._privateDict=h}n.push(a)}return n}function xe(e,t,i,r){var n,o,s=new Fn.Parser(e,t);i-=1;var a=[".notdef"],c=s.parseCard8();if(0===c)for(var l=0;l<i;l+=1)n=s.parseSID(),a.push(ge(r,n));else if(1===c)for(;a.length<=i;){n=s.parseSID(),o=s.parseCard8();for(var h=0;h<=o;h+=1)a.push(ge(r,n)),n+=1}else{if(2!==c)throw new Error("Unknown charset format "+c);for(;a.length<=i;){n=s.parseSID(),o=s.parseCard16();for(var u=0;u<=o;u+=1)a.push(ge(r,n)),n+=1}}return a}function _e(e,t,i){var r,n={},o=new Fn.Parser(e,t),s=o.parseCard8();if(0===s)for(var a=o.parseCard8(),c=0;c<a;c+=1)r=o.parseCard8(),n[r]=c;else{if(1!==s)throw new Error("Unknown encoding format "+s);var l=o.parseCard8();r=1;for(var h=0;h<l;h+=1)for(var u=o.parseCard8(),d=o.parseCard8(),f=u;f<=u+d;f+=1)n[f]=r,r+=1}return new Z(n,i)}function Se(e,t,i){function r(e,t){b&&p.closePath(),p.moveTo(e,t),b=!0}function n(){var e;e=g.length%2!=0,e&&!y&&(C=g.shift()+f),m+=g.length>>1,g.length=0,y=!0}function o(i){for(var d,v,_,S,M,T,R,E,k,L,A,$,I=0;I<i.length;){var U=i[I];switch(I+=1,U){case 1:case 3:n();break;case 4:g.length>1&&!y&&(C=g.shift()+f,y=!0),x+=g.pop(),r(w,x);break;case 5:for(;g.length>0;)w+=g.shift(),x+=g.shift(),p.lineTo(w,x);break;case 6:for(;g.length>0&&(w+=g.shift(),p.lineTo(w,x),0!==g.length);)x+=g.shift(),p.lineTo(w,x);break;case 7:for(;g.length>0&&(x+=g.shift(),p.lineTo(w,x),0!==g.length);)w+=g.shift(),p.lineTo(w,x);break;case 8:for(;g.length>0;)s=w+g.shift(),a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),w=c+g.shift(),x=l+g.shift(),p.curveTo(s,a,c,l,w,x);break;case 10:M=g.pop()+u,T=h[M],T&&o(T);break;case 11:return;case 12:switch(U=i[I],I+=1,U){case 35:s=w+g.shift(),a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),R=c+g.shift(),E=l+g.shift(),k=R+g.shift(),L=E+g.shift(),A=k+g.shift(),$=L+g.shift(),w=A+g.shift(),x=$+g.shift(),g.shift(),p.curveTo(s,a,c,l,R,E),p.curveTo(k,L,A,$,w,x);break;case 34:s=w+g.shift(),a=x,c=s+g.shift(),l=a+g.shift(),R=c+g.shift(),E=l,k=R+g.shift(),L=l,A=k+g.shift(),$=x,w=A+g.shift(),p.curveTo(s,a,c,l,R,E),p.curveTo(k,L,A,$,w,x);break;case 36:s=w+g.shift(),a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),R=c+g.shift(),E=l,k=R+g.shift(),L=l,A=k+g.shift(),$=L+g.shift(),w=A+g.shift(),p.curveTo(s,a,c,l,R,E),p.curveTo(k,L,A,$,w,x);break;case 37:s=w+g.shift(),a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),R=c+g.shift(),E=l+g.shift(),k=R+g.shift(),L=E+g.shift(),A=k+g.shift(),$=L+g.shift(),Math.abs(A-w)>Math.abs($-x)?w=A+g.shift():x=$+g.shift(),p.curveTo(s,a,c,l,R,E),p.curveTo(k,L,A,$,w,x);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+U),g.length=0}break;case 14:g.length>0&&!y&&(C=g.shift()+f,y=!0),b&&(p.closePath(),b=!1);break;case 18:n();break;case 19:case 20:n(),I+=m+7>>3;break;case 21:g.length>2&&!y&&(C=g.shift()+f,y=!0),x+=g.pop(),w+=g.pop(),r(w,x);break;case 22:g.length>1&&!y&&(C=g.shift()+f,y=!0),w+=g.pop(),r(w,x);break;case 23:n();break;case 24:for(;g.length>2;)s=w+g.shift(),a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),w=c+g.shift(),x=l+g.shift(),p.curveTo(s,a,c,l,w,x);w+=g.shift(),x+=g.shift(),p.lineTo(w,x);break;case 25:for(;g.length>6;)w+=g.shift(),x+=g.shift(),p.lineTo(w,x);s=w+g.shift(),a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),w=c+g.shift(),x=l+g.shift(),p.curveTo(s,a,c,l,w,x);break;case 26:for(g.length%2&&(w+=g.shift());g.length>0;)s=w,a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),w=c,x=l+g.shift(),p.curveTo(s,a,c,l,w,x);break;case 27:for(g.length%2&&(x+=g.shift());g.length>0;)s=w+g.shift(),a=x,c=s+g.shift(),l=a+g.shift(),w=c+g.shift(),x=l,p.curveTo(s,a,c,l,w,x);break;case 28:d=i[I],v=i[I+1],g.push((d<<24|v<<16)>>16),I+=2;break;case 29:M=g.pop()+e.gsubrsBias,T=e.gsubrs[M],T&&o(T);break;case 30:for(;g.length>0&&(s=w,a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),w=c+g.shift(),x=l+(1===g.length?g.shift():0),p.curveTo(s,a,c,l,w,x),0!==g.length);)s=w+g.shift(),a=x,c=s+g.shift(),l=a+g.shift(),x=l+g.shift(),w=c+(1===g.length?g.shift():0),p.curveTo(s,a,c,l,w,x);break;case 31:for(;g.length>0&&(s=w+g.shift(),a=x,c=s+g.shift(),l=a+g.shift(),x=l+g.shift(),w=c+(1===g.length?g.shift():0),p.curveTo(s,a,c,l,w,x),0!==g.length);)s=w,a=x+g.shift(),c=s+g.shift(),l=a+g.shift(),w=c+g.shift(),x=l+(1===g.length?g.shift():0),p.curveTo(s,a,c,l,w,x);break;default:U<32?console.log("Glyph "+t.index+": unknown operator "+U):U<247?g.push(U-139):U<251?(d=i[I],I+=1,g.push(256*(U-247)+d+108)):U<255?(d=i[I],I+=1,g.push(256*-(U-251)-d-108)):(d=i[I],v=i[I+1],_=i[I+2],S=i[I+3],I+=4,g.push((d<<24|v<<16|_<<8|S)/65536))}}}var s,a,c,l,h,u,d,f,p=new v,g=[],m=0,y=!1,b=!1,w=0,x=0;if(e.isCIDFont){var _=e.tables.cff.topDict._fdSelect[t.index],S=e.tables.cff.topDict._fdArray[_];h=S._subrs,u=S._subrsBias,d=S._defaultWidthX,f=S._nominalWidthX}else h=e.tables.cff.topDict._subrs,u=e.tables.cff.topDict._subrsBias,d=e.tables.cff.topDict._defaultWidthX,f=e.tables.cff.topDict._nominalWidthX;var C=d;return o(i),t.advanceWidth=C,p}function Ce(e,t,i,r){var n,o=[],s=new Fn.Parser(e,t),a=s.parseCard8();if(0===a)for(var c=0;c<i;c++){if((n=s.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+r+")");o.push(n)}else{if(3!==a)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);var l=s.parseCard16(),h=s.parseCard16();if(0!==h)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var u,d=0;d<l;d++){if(n=s.parseCard8(),u=s.parseCard16(),n>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+n+" (FD count "+r+")");if(u>i)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;h<u;h++)o.push(n);h=u}if(u!==i)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return o}function Me(e,t,i){i.tables.cff={};var r=ve(e,t),n=he(e,r.endOffset,Fn.bytesToString),o=he(e,n.endOffset),s=he(e,o.endOffset,Fn.bytesToString),a=he(e,s.endOffset);i.gsubrs=a.objects,i.gsubrsBias=le(i.gsubrs);var c=we(e,t,o.objects,s.objects);if(1!==c.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var l=c[0];if(i.tables.cff.topDict=l,l._privateDict&&(i.defaultWidthX=l._privateDict.defaultWidthX,i.nominalWidthX=l._privateDict.nominalWidthX),void 0!==l.ros[0]&&void 0!==l.ros[1]&&(i.isCIDFont=!0),i.isCIDFont){var h=l.fdArray,u=l.fdSelect;if(0===h||0===u)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");h+=t;var d=he(e,h),f=we(e,t,d.objects,s.objects);l._fdArray=f,u+=t,l._fdSelect=Ce(e,u,i.numGlyphs,f.length)}var p=t+l.private[1],g=be(e,p,l.private[0],s.objects);if(i.defaultWidthX=g.defaultWidthX,i.nominalWidthX=g.nominalWidthX,0!==g.subrs){var m=p+g.subrs,v=he(e,m);i.subrs=v.objects,i.subrsBias=le(i.subrs)}else i.subrs=[],i.subrsBias=0;var y=he(e,t+l.charStrings);i.nGlyphs=y.objects.length;var b=xe(e,t+l.charset,i.nGlyphs,s.objects);0===l.encoding?i.cffEncoding=new Z(Gn,b):1===l.encoding?i.cffEncoding=new Z(jn,b):i.cffEncoding=_e(e,t+l.encoding,b),i.encoding=i.encoding||i.cffEncoding,i.glyphs=new Vn.GlyphSet(i);for(var w=0;w<i.nGlyphs;w+=1){var x=y.objects[w];i.glyphs.push(w,Vn.cffGlyphLoader(i,w,Se,x))}}function Te(e,t){var i,r=Nn.indexOf(e);return r>=0&&(i=r),r=t.indexOf(e),r>=0?i=r+Nn.length:(i=Nn.length+t.length,t.push(e)),i}function Re(){return new Pn.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Ee(e){var t=new Pn.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var i=0;i<e.length;i+=1)t.names.push({name:"name_"+i,type:"NAME",value:e[i]});return t}function ke(e,t,i){for(var r={},n=0;n<e.length;n+=1){var o=e[n],s=t[o.name];void 0===s||ce(s,o.value)||("SID"===o.type&&(s=Te(s,i)),r[o.op]={name:o.name,type:o.type,value:s})}return r}function Le(e,t){var i=new Pn.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return i.dict=ke(zn,e,t),i}function Ae(e){var t=new Pn.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function $e(e){var t=new Pn.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var i=0;i<e.length;i+=1)t.strings.push({name:"string_"+i,type:"STRING",value:e[i]});return t}function Ie(){return new Pn.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Ue(e,t){for(var i=new Pn.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var n=e[r],o=Te(n,t);i.fields.push({name:"glyph_"+r,type:"SID",value:o})}return i}function Pe(e){var t=[],i=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,n=0,o=0;o<i.commands.length;o+=1){var s=void 0,a=void 0,c=i.commands[o];if("Q"===c.type){var l=1/3,h=2/3;c={type:"C",x:c.x,y:c.y,x1:l*r+h*c.x1,y1:l*n+h*c.y1,x2:l*c.x+h*c.x1,y2:l*c.y+h*c.y1}}if("M"===c.type)s=Math.round(c.x-r),a=Math.round(c.y-n),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(c.x),n=Math.round(c.y);else if("L"===c.type)s=Math.round(c.x-r),a=Math.round(c.y-n),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(c.x),n=Math.round(c.y);else if("C"===c.type){var u=Math.round(c.x1-r),d=Math.round(c.y1-n),f=Math.round(c.x2-c.x1),p=Math.round(c.y2-c.y1);s=Math.round(c.x-c.x2),a=Math.round(c.y-c.y2),t.push({name:"dx1",type:"NUMBER",value:u}),t.push({name:"dy1",type:"NUMBER",value:d}),t.push({name:"dx2",type:"NUMBER",value:f}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:s}),t.push({name:"dy",type:"NUMBER",value:a}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(c.x),n=Math.round(c.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function Oe(e){for(var t=new Pn.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),i=0;i<e.length;i+=1){var r=e.get(i),n=Pe(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:n})}return t}function De(e,t){var i=new Pn.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return i.dict=ke(Xn,e,t),i}function Fe(e,t){for(var i,r=new Pn.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},a=[],c=1;c<e.length;c+=1)i=e.get(c),a.push(i.name);var l=[];r.header=Re(),r.nameIndex=Ee([t.postScriptName]);var h=Le(o,l);r.topDictIndex=Ae(h),r.globalSubrIndex=Ie(),r.charsets=Ue(a,l),r.charStringsIndex=Oe(e),r.privateDict=De(s,l),r.stringIndex=$e(l);var u=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return o.charset=u,o.encoding=0,o.charStrings=o.charset+r.charsets.sizeOf(),o.private[1]=o.charStrings+r.charStringsIndex.sizeOf(),h=Le(o,l),r.topDictIndex=Ae(h),r}function Be(e,t){var i={},r=new Fn.Parser(e,t);return i.version=r.parseVersion(),i.fontRevision=Math.round(1e3*r.parseFixed())/1e3,i.checkSumAdjustment=r.parseULong(),i.magicNumber=r.parseULong(),Cn.argument(1594834165===i.magicNumber,"Font header has wrong magic number."),i.flags=r.parseUShort(),i.unitsPerEm=r.parseUShort(),i.created=r.parseLongDateTime(),i.modified=r.parseLongDateTime(),i.xMin=r.parseShort(),i.yMin=r.parseShort(),i.xMax=r.parseShort(),i.yMax=r.parseShort(),i.macStyle=r.parseUShort(),i.lowestRecPPEM=r.parseUShort(),i.fontDirectionHint=r.parseShort(),i.indexToLocFormat=r.parseShort(),i.glyphDataFormat=r.parseShort(),i}function Ne(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,i=t;return e.createdTimestamp&&(i=e.createdTimestamp+2082844800),new Pn.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:i},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}function Ge(e,t){var i={},r=new Fn.Parser(e,t);return i.version=r.parseVersion(),i.ascender=r.parseShort(),i.descender=r.parseShort(),i.lineGap=r.parseShort(),i.advanceWidthMax=r.parseUShort(),i.minLeftSideBearing=r.parseShort(),i.minRightSideBearing=r.parseShort(),i.xMaxExtent=r.parseShort(),i.caretSlopeRise=r.parseShort(),i.caretSlopeRun=r.parseShort(),i.caretOffset=r.parseShort(),r.relativeOffset+=8,i.metricDataFormat=r.parseShort(),i.numberOfHMetrics=r.parseUShort(),i}function je(e){return new Pn.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}function We(e,t,i,r,n){for(var o,s,a=new Fn.Parser(e,t),c=0;c<r;c+=1){c<i&&(o=a.parseUShort(),s=a.parseShort());var l=n.get(c);l.advanceWidth=o,l.leftSideBearing=s}}function He(e){for(var t=new Pn.Table("hmtx",[]),i=0;i<e.length;i+=1){var r=e.get(i),n=r.advanceWidth||0,o=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+i,type:"USHORT",value:n}),t.fields.push({name:"leftSideBearing_"+i,type:"SHORT",value:o})}return t}function Ve(e){for(var t=new Pn.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),i="",r=12+4*e.length,n=0;n<e.length;++n){var o=i.indexOf(e[n]);o<0&&(o=i.length,i+=e[n]),t.fields.push({name:"offset "+n,type:"USHORT",value:r+o}),t.fields.push({name:"length "+n,type:"USHORT",value:e[n].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:i}),t}function ze(e,t){var i=new Fn.Parser(e,t),r=i.parseULong();Cn.argument(1===r,"Unsupported ltag table version."),i.skip("uLong",1);for(var n=i.parseULong(),o=[],s=0;s<n;s++){for(var a="",c=t+i.parseUShort(),l=i.parseUShort(),h=c;h<c+l;++h)a+=String.fromCharCode(e.getInt8(h));o.push(a)}return o}function Xe(e,t){var i={},r=new Fn.Parser(e,t);return i.version=r.parseVersion(),i.numGlyphs=r.parseUShort(),1===i.version&&(i.maxPoints=r.parseUShort(),i.maxContours=r.parseUShort(),i.maxCompositePoints=r.parseUShort(),i.maxCompositeContours=r.parseUShort(),i.maxZones=r.parseUShort(),i.maxTwilightPoints=r.parseUShort(),i.maxStorage=r.parseUShort(),i.maxFunctionDefs=r.parseUShort(),i.maxInstructionDefs=r.parseUShort(),i.maxStackElements=r.parseUShort(),i.maxSizeOfInstructions=r.parseUShort(),i.maxComponentElements=r.parseUShort(),i.maxComponentDepth=r.parseUShort()),i}function Ye(e){return new Pn.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}function qe(e,t,i){switch(e){case 0:if(65535===t)return"und";if(i)return i[t];break;case 1:return to[t];case 3:return ro[t]}}function Ke(e,t,i){switch(e){case 0:return no;case 1:return so[i]||oo[t];case 3:if(1===t||10===t)return no}}function Ze(e,t,i){for(var r={},n=new Fn.Parser(e,t),o=n.parseUShort(),s=n.parseUShort(),a=n.offset+n.parseUShort(),c=0;c<s;c++){var l=n.parseUShort(),h=n.parseUShort(),u=n.parseUShort(),d=n.parseUShort(),f=eo[d]||d,p=n.parseUShort(),g=n.parseUShort(),m=qe(l,u,i),v=Ke(l,h,u);if(void 0!==v&&void 0!==m){var y=void 0;if(y=v===no?Rn.UTF16(e,a+g,p):Rn.MACSTRING(e,a+g,p,v)){var b=r[f];void 0===b&&(b=r[f]={}),b[m]=y}}}return 1===o&&n.parseUShort(),r}function Qe(e){var t={};for(var i in e)t[e[i]]=parseInt(i);return t}function Je(e,t,i,r,n,o){return new Pn.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:i},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:n},{name:"offset",type:"USHORT",value:o}])}function et(e,t){var i=e.length,r=t.length-i+1;e:for(var n=0;n<r;n++)for(;n<r;n++){for(var o=0;o<i;o++)if(t[n+o]!==e[o])continue e;return n}return-1}function tt(e,t){var i=et(e,t);if(i<0){i=t.length;for(var r=0,n=e.length;r<n;++r)t.push(e[r])}return i}function it(e,t){var i,r=[],n={},o=Qe(eo);for(var s in e){var a=o[s];if(void 0===a&&(a=s),i=parseInt(a),isNaN(i))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');n[i]=e[s],r.push(i)}for(var c=Qe(to),l=Qe(ro),h=[],u=[],d=0;d<r.length;d++){i=r[d];var f=n[i];for(var p in f){var g=f[p],m=1,v=c[p],y=io[v],b=Ke(m,y,v),w=En.MACSTRING(g,b);void 0===w&&(m=0,v=t.indexOf(p),v<0&&(v=t.length,t.push(p)),y=4,w=En.UTF16(g));var x=tt(w,u);h.push(Je(m,y,v,i,w.length,x));var _=l[p];if(void 0!==_){var S=En.UTF16(g),C=tt(S,u);h.push(Je(3,1,_,i,S.length,C))}}}h.sort(function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID});for(var M=new Pn.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:h.length},{name:"stringOffset",type:"USHORT",value:6+12*h.length}]),T=0;T<h.length;T++)M.fields.push({name:"record_"+T,type:"RECORD",value:h[T]});return M.fields.push({name:"strings",type:"LITERAL",value:u}),M}function rt(e){for(var t=0;t<co.length;t+=1){var i=co[t];if(e>=i.begin&&e<i.end)return t}return-1}function nt(e,t){var i={},r=new Fn.Parser(e,t);i.version=r.parseUShort(),i.xAvgCharWidth=r.parseShort(),i.usWeightClass=r.parseUShort(),i.usWidthClass=r.parseUShort(),i.fsType=r.parseUShort(),i.ySubscriptXSize=r.parseShort(),i.ySubscriptYSize=r.parseShort(),i.ySubscriptXOffset=r.parseShort(),i.ySubscriptYOffset=r.parseShort(),i.ySuperscriptXSize=r.parseShort(),i.ySuperscriptYSize=r.parseShort(),i.ySuperscriptXOffset=r.parseShort(),i.ySuperscriptYOffset=r.parseShort(),i.yStrikeoutSize=r.parseShort(),i.yStrikeoutPosition=r.parseShort(),i.sFamilyClass=r.parseShort(),i.panose=[];for(var n=0;n<10;n++)i.panose[n]=r.parseByte();return i.ulUnicodeRange1=r.parseULong(),i.ulUnicodeRange2=r.parseULong(),i.ulUnicodeRange3=r.parseULong(),i.ulUnicodeRange4=r.parseULong(),i.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),i.fsSelection=r.parseUShort(),i.usFirstCharIndex=r.parseUShort(),i.usLastCharIndex=r.parseUShort(),i.sTypoAscender=r.parseShort(),i.sTypoDescender=r.parseShort(),i.sTypoLineGap=r.parseShort(),i.usWinAscent=r.parseUShort(),i.usWinDescent=r.parseUShort(),i.version>=1&&(i.ulCodePageRange1=r.parseULong(),i.ulCodePageRange2=r.parseULong()),i.version>=2&&(i.sxHeight=r.parseShort(),i.sCapHeight=r.parseShort(),i.usDefaultChar=r.parseUShort(),i.usBreakChar=r.parseUShort(),i.usMaxContent=r.parseUShort()),i}function ot(e){return new Pn.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}function st(e,t){var i={},r=new Fn.Parser(e,t);switch(i.version=r.parseVersion(),i.italicAngle=r.parseFixed(),i.underlinePosition=r.parseShort(),i.underlineThickness=r.parseShort(),i.isFixedPitch=r.parseULong(),i.minMemType42=r.parseULong(),i.maxMemType42=r.parseULong(),i.minMemType1=r.parseULong(),i.maxMemType1=r.parseULong(),i.version){case 1:i.names=Wn.slice();break;case 2:i.numberOfGlyphs=r.parseUShort(),i.glyphNameIndex=new Array(i.numberOfGlyphs);for(var n=0;n<i.numberOfGlyphs;n++)i.glyphNameIndex[n]=r.parseUShort();i.names=[];for(var o=0;o<i.numberOfGlyphs;o++)if(i.glyphNameIndex[o]>=Wn.length){var s=r.parseChar();i.names.push(r.parseString(s))}break;case 2.5:i.numberOfGlyphs=r.parseUShort(),i.offset=new Array(i.numberOfGlyphs);for(var a=0;a<i.numberOfGlyphs;a++)i.offset[a]=r.parseChar()}return i}function at(){return new Pn.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}function ct(e,t){t=t||0;var i=new j(e,t),r=i.parseVersion(1);return Cn.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(uo)}:{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(uo),variations:i.parseFeatureVariationsList()}}function lt(e){return new Pn.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pn.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Pn.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Pn.LookupList(e.lookups,po)}])}function ht(e,t){var i=new Fn.Parser(e,t),r=i.parseULong();Cn.argument(1===r,"Unsupported META table version."),i.parseULong(),i.parseULong();for(var n=i.parseULong(),o={},s=0;s<n;s++){var a=i.parseTag(),c=i.parseULong(),l=i.parseULong(),h=Rn.UTF8(e,t+c,l);o[a]=h}return o}function ut(e){var t=Object.keys(e).length,i="",r=16+12*t,n=new Pn.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var s=i.length;i+=e[o],n.fields.push({name:"tag "+o,type:"TAG",value:o}),n.fields.push({name:"offset "+o,type:"ULONG",value:r+s}),n.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return n.fields.push({name:"stringPool",type:"CHARARRAY",value:i}),n}function dt(e){return Math.log(e)/Math.log(2)|0}function ft(e){for(;e.length%4!=0;)e.push(0);for(var t=0,i=0;i<e.length;i+=4)t+=(e[i]<<24)+(e[i+1]<<16)+(e[i+2]<<8)+e[i+3];return t%Math.pow(2,32)}function pt(e,t,i,r){return new Pn.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==i?i:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function gt(e){var t=new Pn.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var i=Math.pow(2,dt(t.numTables));t.searchRange=16*i,t.entrySelector=dt(i),t.rangeShift=16*t.numTables-t.searchRange;for(var r=[],n=[],o=t.sizeOf()+pt().sizeOf()*t.numTables;o%4!=0;)o+=1,n.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<e.length;s+=1){var a=e[s];Cn.argument(4===a.tableName.length,"Table name"+a.tableName+" is invalid.");var c=a.sizeOf(),l=pt(a.tableName,ft(a.encode()),o,c);for(r.push({name:l.tag+" Table Record",type:"RECORD",value:l}),n.push({name:a.tableName+" table",type:"RECORD",value:a}),o+=c,Cn.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,n.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(e,t){return e.value.tag>t.value.tag?1:-1}),t.fields=t.fields.concat(r),t.fields=t.fields.concat(n),t}function mt(e,t,i){for(var r=0;r<t.length;r+=1){var n=e.charToGlyphIndex(t[r]);if(n>0)return e.glyphs.get(n).getMetrics()}return i}function vt(e){for(var t=0,i=0;i<e.length;i+=1)t+=e[i];return t/e.length}function yt(e){for(var t,i=[],r=[],n=[],o=[],s=[],a=[],c=[],l=0,h=0,u=0,d=0,f=0,p=0;p<e.glyphs.length;p+=1){var g=e.glyphs.get(p),m=0|g.unicode;if(isNaN(g.advanceWidth))throw new Error("Glyph "+g.name+" ("+p+"): advanceWidth is not a number.");(t>m||void 0===t)&&m>0&&(t=m),l<m&&(l=m);var v=lo.getUnicodeRange(m);if(v<32)h|=1<<v;else if(v<64)u|=1<<v-32;else if(v<96)d|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");f|=1<<v-96}if(".notdef"!==g.name){var y=g.getMetrics();i.push(y.xMin),r.push(y.yMin),n.push(y.xMax),o.push(y.yMax),a.push(y.leftSideBearing),c.push(y.rightSideBearing),s.push(g.advanceWidth)}}var b={xMin:Math.min.apply(null,i),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:vt(s),minLeftSideBearing:Math.min.apply(null,a),maxLeftSideBearing:Math.max.apply(null,a),minRightSideBearing:Math.min.apply(null,c)};b.ascender=e.ascender,b.descender=e.descender;var w=qn.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),x=Kn.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),_=Jn.make(e.glyphs.length),S=lo.make({xAvgCharWidth:Math.round(b.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:l,ulUnicodeRange1:h,ulUnicodeRange2:u,ulUnicodeRange3:d,ulUnicodeRange4:f,fsSelection:e.tables.os2.fsSelection,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:mt(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:mt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),C=Zn.make(e.glyphs),M=Bn.make(e.glyphs),T=e.getEnglishName("fontFamily"),R=e.getEnglishName("fontSubfamily"),E=T+" "+R,k=e.getEnglishName("postScriptName");k||(k=T.replace(/\s/g,"")+"-"+R);var L={};for(var A in e.names)L[A]=e.names[A];L.uniqueID||(L.uniqueID={en:e.getEnglishName("manufacturer")+":"+E}),L.postScriptName||(L.postScriptName={en:k}),L.preferredFamily||(L.preferredFamily=e.names.fontFamily),L.preferredSubfamily||(L.preferredSubfamily=e.names.fontSubfamily);var $=[],I=ao.make(L,$),U=$.length>0?Qn.make($):void 0,P=ho.make(),O=Yn.make(e.glyphs,{version:e.getEnglishName("version"),fullName:E,familyName:T,weightName:R,postScriptName:k,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),D=e.metas&&Object.keys(e.metas).length>0?mo.make(e.metas):void 0,F=[w,x,_,S,I,M,P,O,C];U&&F.push(U),e.tables.gsub&&F.push(go.make(e.tables.gsub)),D&&F.push(D);for(var B=gt(F),N=B.encode(),G=ft(N),j=B.fields,W=!1,H=0;H<j.length;H+=1)if("head table"===j[H].name){j[H].value.checkSumAdjustment=2981146554-G,W=!0;break}if(!W)throw new Error("Could not find head table with checkSum to adjust.");return B}function bt(e,t){for(var i=0,r=e.length-1;i<=r;){var n=i+r>>>1,o=e[n].tag;if(o===t)return n;o<t?i=n+1:r=n-1}return-i-1}function wt(e,t){for(var i=0,r=e.length-1;i<=r;){var n=i+r>>>1,o=e[n];if(o===t)return n;o<t?i=n+1:r=n-1}return-i-1}function xt(e,t){for(var i,r=0,n=e.length-1;r<=n;){var o=r+n>>>1;i=e[o];var s=i.start;if(s===t)return i;s<t?r=o+1:n=o-1}if(r>0)return i=e[r-1],t>i.end?0:i}function _t(e,t){this.font=e,this.tableName=t}function St(e){_t.call(this,e,"gpos")}function Ct(e){_t.call(this,e,"gsub")}function Mt(e,t){var i=e.length;if(i!==t.length)return!1;for(var r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}function Tt(e,t,i){for(var r=e.subtables,n=0;n<r.length;n++){var o=r[n];if(o.substFormat===t)return o}if(i)return r.push(i),i}function Rt(){return"undefined"!=typeof window}function Et(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),r=0;r<e.length;++r)i[r]=e[r];return t}function kt(e){for(var t=new r(e.byteLength),i=new Uint8Array(e),n=0;n<t.length;++n)t[n]=i[n];return t}function Lt(e,t){if(!e)throw t}function At(e,t,i,r,n){var o;return(t&r)>0?(o=e.parseByte(),0==(t&n)&&(o=-o),o=i+o):o=(t&n)>0?i:i+e.parseShort(),o}function $t(e,t,i){var r,n,o=new Fn.Parser(t,i);if(e.numberOfContours=o.parseShort(),e._xMin=o.parseShort(),e._yMin=o.parseShort(),e._xMax=o.parseShort(),e._yMax=o.parseShort(),e.numberOfContours>0){for(var s=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)s.push(o.parseUShort());e.instructionLength=o.parseUShort(),e.instructions=[];for(var c=0;c<e.instructionLength;c+=1)e.instructions.push(o.parseByte());var l=s[s.length-1]+1;r=[];for(var h=0;h<l;h+=1)if(n=o.parseByte(),r.push(n),(8&n)>0)for(var u=o.parseByte(),d=0;d<u;d+=1)r.push(n),h+=1;if(Cn.argument(r.length===l,"Bad flags."),s.length>0){var f,p=[];if(l>0){for(var g=0;g<l;g+=1)n=r[g],f={},f.onCurve=!!(1&n),f.lastPointOfContour=s.indexOf(g)>=0,p.push(f);for(var m=0,v=0;v<l;v+=1)n=r[v],f=p[v],f.x=At(o,n,m,2,16),m=f.x;for(var y=0,b=0;b<l;b+=1)n=r[b],f=p[b],f.y=At(o,n,y,4,32),y=f.y}e.points=p}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){r=o.parseUShort();var x={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(x.dx=o.parseShort(),x.dy=o.parseShort()):x.matchedPoints=[o.parseUShort(),o.parseUShort()]:(2&r)>0?(x.dx=o.parseChar(),x.dy=o.parseChar()):x.matchedPoints=[o.parseByte(),o.parseByte()],(8&r)>0?x.xScale=x.yScale=o.parseF2Dot14():(64&r)>0?(x.xScale=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()):(128&r)>0&&(x.xScale=o.parseF2Dot14(),x.scale01=o.parseF2Dot14(),x.scale10=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()),e.components.push(x),w=!!(32&r)}if(256&r){e.instructionLength=o.parseUShort(),e.instructions=[];for(var _=0;_<e.instructionLength;_+=1)e.instructions.push(o.parseByte())}}}function It(e,t){for(var i=[],r=0;r<e.length;r+=1){var n=e[r],o={x:t.xScale*n.x+t.scale01*n.y+t.dx,y:t.scale10*n.x+t.yScale*n.y+t.dy,onCurve:n.onCurve,lastPointOfContour:n.lastPointOfContour};i.push(o)}return i}function Ut(e){for(var t=[],i=[],r=0;r<e.length;r+=1){var n=e[r];i.push(n),n.lastPointOfContour&&(t.push(i),i=[])}return Cn.argument(0===i.length,"There are still points left in the current contour."),t}function Pt(e){var t=new v;if(!e)return t;for(var i=Ut(e),r=0;r<i.length;++r){var n=i[r],o=null,s=n[n.length-1],a=n[0];if(s.onCurve)t.moveTo(s.x,s.y);else if(a.onCurve)t.moveTo(a.x,a.y);else{var c={x:.5*(s.x+a.x),y:.5*(s.y+a.y)};t.moveTo(c.x,c.y)}for(var l=0;l<n.length;++l)if(o=s,s=a,a=n[(l+1)%n.length],s.onCurve)t.lineTo(s.x,s.y);else{var h=a;o.onCurve||(s.x,o.x,s.y,o.y),a.onCurve||(h={x:.5*(s.x+a.x),y:.5*(s.y+a.y)}),t.quadraticCurveTo(s.x,s.y,h.x,h.y)}t.closePath()}return t}function Ot(e,t){if(t.isComposite)for(var i=0;i<t.components.length;i+=1){var r=t.components[i],n=e.get(r.glyphIndex);if(n.getPath(),n.points){var o=void 0;if(void 0===r.matchedPoints)o=It(n.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>n.points.length-1)throw Error("Matched points out of range in "+t.name);var s=t.points[r.matchedPoints[0]],a=n.points[r.matchedPoints[1]],c={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=It([a],c)[0],c.dx=s.x-a.x,c.dy=s.y-a.y,o=It(n.points,c)}t.points=t.points.concat(o)}}return Pt(t.points)}function Dt(e,t,i,r){for(var n=new Vn.GlyphSet(r),o=0;o<i.length-1;o+=1){var s=i[o];s!==i[o+1]?n.push(o,Vn.ttfGlyphLoader(r,o,$t,e,t+s,Ot)):n.push(o,Vn.glyphLoader(r,o))}return n}function Ft(e){this.font=e,this.getCommands=function(e){return _o.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Bt(e){return e}function Nt(e){return Math.sign(e)*Math.round(Math.abs(e))}function Gt(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function jt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Wt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Ht(e){return Math.sign(e)*Math.floor(Math.abs(e))}function Vt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function zt(e,t){var i=Math.sqrt(e*e+t*t);return e/=i,t/=i,1===e&&0===t?Co:0===e&&1===t?Mo:new Vt(e,t)}function Xt(e,t,i,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=i,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}function Yt(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Co,this.round=Nt}}function qt(e){for(var t=e.tZone=new Array(e.gZone.length),i=0;i<t.length;i++)t[i]=new Xt(0,0)}function Kt(e,t){var i,r=e.prog,n=e.ip,o=1;do{if(88===(i=r[++n]))o++;else if(89===i)o--;else if(64===i)n+=r[n+1]+1;else if(65===i)n+=2*r[n+1]+1;else if(i>=176&&i<=183)n+=i-176+1;else if(i>=184&&i<=191)n+=2*(i-184+1);else if(t&&1===o&&27===i)break}while(o>0);e.ip=n}function Zt(e,i){t.DEBUG&&console.log(i.step,"SVTCA["+e.axis+"]"),i.fv=i.pv=i.dpv=e}function Qt(e,i){t.DEBUG&&console.log(i.step,"SPVTCA["+e.axis+"]"),i.pv=i.dpv=e}function Jt(e,i){t.DEBUG&&console.log(i.step,"SFVTCA["+e.axis+"]"),i.fv=e}function ei(e,i){var r,n,o=i.stack,s=o.pop(),a=o.pop(),c=i.z2[s],l=i.z1[a];t.DEBUG&&console.log("SPVTL["+e+"]",s,a),e?(r=c.y-l.y,n=l.x-c.x):(r=l.x-c.x,n=l.y-c.y),i.pv=i.dpv=zt(r,n)}function ti(e,i){var r,n,o=i.stack,s=o.pop(),a=o.pop(),c=i.z2[s],l=i.z1[a];t.DEBUG&&console.log("SFVTL["+e+"]",s,a),e?(r=c.y-l.y,n=l.x-c.x):(r=l.x-c.x,n=l.y-c.y),i.fv=zt(r,n)}function ii(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=zt(n,r)}function ri(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=zt(n,r)}function ni(e){var i=e.stack,r=e.pv;t.DEBUG&&console.log(e.step,"GPV[]"),i.push(16384*r.x),i.push(16384*r.y)}function oi(e){var i=e.stack,r=e.fv;t.DEBUG&&console.log(e.step,"GFV[]"),i.push(16384*r.x),i.push(16384*r.y)}function si(e){e.fv=e.pv,t.DEBUG&&console.log(e.step,"SFVTPV[]")}function ai(e){var i=e.stack,r=i.pop(),n=i.pop(),o=i.pop(),s=i.pop(),a=i.pop(),c=e.z0,l=e.z1,h=c[r],u=c[n],d=l[o],f=l[s],p=e.z2[a];t.DEBUG&&console.log("ISECT[], ",r,n,o,s,a);var g=h.x,m=h.y,v=u.x,y=u.y,b=d.x,w=d.y,x=f.x,_=f.y,S=(g-v)*(w-_)-(m-y)*(b-x),C=g*y-m*v,M=b*_-w*x;p.x=(C*(b-x)-M*(g-v))/S,p.y=(C*(w-_)-M*(m-y))/S}function ci(e){e.rp0=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function li(e){e.rp1=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function hi(e){e.rp2=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function ui(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP0[]",i),e.zp0=i,i){case 0:e.tZone||qt(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function di(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP1[]",i),e.zp1=i,i){case 0:e.tZone||qt(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function fi(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP2[]",i),e.zp2=i,i){case 0:e.tZone||qt(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function pi(e){var i=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZPS[]",i),e.zp0=e.zp1=e.zp2=i,i){case 0:e.tZone||qt(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function gi(e){e.loop=e.stack.pop(),t.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function mi(e){t.DEBUG&&console.log(e.step,"RTG[]"),e.round=Nt}function vi(e){t.DEBUG&&console.log(e.step,"RTHG[]"),e.round=jt}function yi(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SMD[]",i),e.minDis=i/64}function bi(e){t.DEBUG&&console.log(e.step,"ELSE[]"),Kt(e,!1)}function wi(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"JMPR[]",i),e.ip+=i-1}function xi(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SCVTCI[]",i),e.cvCutIn=i/64}function _i(e){var i=e.stack;t.DEBUG&&console.log(e.step,"DUP[]"),i.push(i[i.length-1])}function Si(e){t.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Ci(e){t.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function Mi(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"SWAP[]"),i.push(r),i.push(n)}function Ti(e){var i=e.stack;t.DEBUG&&console.log(e.step,"DEPTH[]"),i.push(i.length)}function Ri(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var o=e.ip,s=e.prog;e.prog=e.funcs[r];for(var a=0;a<n;a++)bo(e),t.DEBUG&&console.log(++e.step,a+1<n?"next loopcall":"done loopcall",a);e.ip=o,e.prog=s}function Ei(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"CALL[]",i);var r=e.ip,n=e.prog;e.prog=e.funcs[i],bo(e),e.ip=r,e.prog=n,t.DEBUG&&console.log(++e.step,"returning from",i)}function ki(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"CINDEX[]",r),i.push(i[i.length-r])}function Li(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"MINDEX[]",r),i.push(i.splice(i.length-r,1)[0])}function Ai(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var i=e.stack,r=e.prog,n=e.ip,o=i.pop(),s=n;for(t.DEBUG&&console.log(e.step,"FDEF[]",o);45!==r[++n];);e.ip=n,e.funcs[o]=r.slice(s+1,n)}function $i(e,i){var r=i.stack.pop(),n=i.z0[r],o=i.fv,s=i.pv;t.DEBUG&&console.log(i.step,"MDAP["+e+"]",r);var a=s.distance(n,To);e&&(a=i.round(a)),o.setRelative(n,To,a,s),o.touch(n),i.rp0=i.rp1=r}function Ii(e,i){var r,n,o,s=i.z2,a=s.length-2;t.DEBUG&&console.log(i.step,"IUP["+e.axis+"]");for(var c=0;c<a;c++)r=s[c],e.touched(r)||(n=r.prevTouched(e))!==r&&(o=r.nextTouched(e),n===o&&e.setRelative(r,r,e.distance(n,n,!1,!0),e,!0),e.interpolate(r,n,o,e))}function Ui(e,i){for(var r=i.stack,n=e?i.rp1:i.rp2,o=(e?i.z0:i.z1)[n],s=i.fv,a=i.pv,c=i.loop,l=i.z2;c--;){var h=r.pop(),u=l[h],d=a.distance(o,o,!1,!0);s.setRelative(u,u,d,a),s.touch(u),t.DEBUG&&console.log(i.step,(i.loop>1?"loop "+(i.loop-c)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",h)}i.loop=1}function Pi(e,i){var r=i.stack,n=e?i.rp1:i.rp2,o=(e?i.z0:i.z1)[n],s=i.fv,a=i.pv,c=r.pop(),l=i.z2[i.contours[c]],h=l;t.DEBUG&&console.log(i.step,"SHC["+e+"]",c);var u=a.distance(o,o,!1,!0);do{h!==o&&s.setRelative(h,h,u,a),h=h.nextPointOnContour}while(h!==l)}function Oi(e,i){var r,n=i.stack,o=e?i.rp1:i.rp2,s=(e?i.z0:i.z1)[o],a=i.fv,c=i.pv,l=n.pop();switch(t.DEBUG&&console.log(i.step,"SHZ["+e+"]",l),l){case 0:r=i.tZone;break;case 1:r=i.gZone;break;default:throw new Error("Invalid zone")}for(var h,u=c.distance(s,s,!1,!0),d=r.length-2,f=0;f<d;f++)h=r[f],a.setRelative(h,h,u,c)}function Di(e){for(var i=e.stack,r=e.loop,n=e.fv,o=i.pop()/64,s=e.z2;r--;){var a=i.pop(),c=s[a];t.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",a,o),n.setRelative(c,c,o),n.touch(c)}e.loop=1}function Fi(e){for(var i=e.stack,r=e.rp1,n=e.rp2,o=e.loop,s=e.z0[r],a=e.z1[n],c=e.fv,l=e.dpv,h=e.z2;o--;){var u=i.pop(),d=h[u];t.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"IP[]",u,r,"<->",n),c.interpolate(d,s,a,l),c.touch(d)}e.loop=1}function Bi(e,i){var r=i.stack,n=r.pop()/64,o=r.pop(),s=i.z1[o],a=i.z0[i.rp0],c=i.fv,l=i.pv;c.setRelative(s,a,n,l),c.touch(s),t.DEBUG&&console.log(i.step,"MSIRP["+e+"]",n,o),i.rp1=i.rp0,i.rp2=o,e&&(i.rp0=o)}function Ni(e){for(var i=e.stack,r=e.rp0,n=e.z0[r],o=e.loop,s=e.fv,a=e.pv,c=e.z1;o--;){var l=i.pop(),h=c[l];t.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"ALIGNRP[]",l),s.setRelative(h,n,0,a),s.touch(h)}e.loop=1}function Gi(e){t.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Gt}function ji(e,i){var r=i.stack,n=r.pop(),o=r.pop(),s=i.z0[o],a=i.fv,c=i.pv,l=i.cvt[n];t.DEBUG&&console.log(i.step,"MIAP["+e+"]",n,"(",l,")",o);var h=c.distance(s,To);e&&(Math.abs(h-l)<i.cvCutIn&&(h=l),h=i.round(h)),a.setRelative(s,To,h,c),0===i.zp0&&(s.xo=s.x,s.yo=s.y),a.touch(s),i.rp0=i.rp1=o}function Wi(e){var i=e.prog,r=e.ip,n=e.stack,o=i[++r];t.DEBUG&&console.log(e.step,"NPUSHB[]",o);for(var s=0;s<o;s++)n.push(i[++r]);e.ip=r}function Hi(e){var i=e.ip,r=e.prog,n=e.stack,o=r[++i];t.DEBUG&&console.log(e.step,"NPUSHW[]",o);for(var s=0;s<o;s++){var a=r[++i]<<8|r[++i];32768&a&&(a=-(1+(65535^a))),n.push(a)}e.ip=i}function Vi(e){var i=e.stack,r=e.store;r||(r=e.store=[]);var n=i.pop(),o=i.pop();t.DEBUG&&console.log(e.step,"WS",n,o),r[o]=n}function zi(e){var i=e.stack,r=e.store,n=i.pop();t.DEBUG&&console.log(e.step,"RS",n);var o=r&&r[n]||0;i.push(o)}function Xi(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64}function Yi(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"RCVT",r),i.push(64*e.cvt[r])}function qi(e,i){var r=i.stack,n=r.pop(),o=i.z2[n];t.DEBUG&&console.log(i.step,"GC["+e+"]",n),r.push(64*i.dpv.distance(o,To,e,!1))}function Ki(e,i){var r=i.stack,n=r.pop(),o=r.pop(),s=i.z1[n],a=i.z0[o],c=i.dpv.distance(a,s,e,e);t.DEBUG&&console.log(i.step,"MD["+e+"]",n,o,"->",c),i.stack.push(Math.round(64*c))}function Zi(e){t.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function Qi(e){t.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function Ji(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"LT[]",r,n),i.push(n<r?1:0)}function er(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"LTEQ[]",r,n),i.push(n<=r?1:0)}function tr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"GT[]",r,n),i.push(n>r?1:0)}function ir(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"GTEQ[]",r,n),i.push(n>=r?1:0)}function rr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"EQ[]",r,n),i.push(r===n?1:0)}function nr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"NEQ[]",r,n),i.push(r!==n?1:0)}function or(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"ODD[]",r),i.push(Math.trunc(r)%2?1:0)}function sr(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"EVEN[]",r),i.push(Math.trunc(r)%2?0:1)}function ar(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"IF[]",i),i||(Kt(e,!0),t.DEBUG&&console.log(e.step,"EIF[]"))}function cr(e){t.DEBUG&&console.log(e.step,"EIF[]")}function lr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"AND[]",r,n),i.push(r&&n?1:0)}function hr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"OR[]",r,n),i.push(r||n?1:0)}function ur(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"NOT[]",r),i.push(r?0:1)}function dr(e,i){var r=i.stack,n=r.pop(),o=i.fv,s=i.pv,a=i.ppem,c=i.deltaBase+16*(e-1),l=i.deltaShift,h=i.z0;t.DEBUG&&console.log(i.step,"DELTAP["+e+"]",n,r);for(var u=0;u<n;u++){var d=r.pop(),f=r.pop();if(c+((240&f)>>4)===a){var p=(15&f)-8;p>=0&&p++,t.DEBUG&&console.log(i.step,"DELTAPFIX",d,"by",p*l);var g=h[d];o.setRelative(g,g,p*l,s)}}}function fr(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r}function pr(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)}function gr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"ADD[]",r,n),i.push(n+r)}function mr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"SUB[]",r,n),i.push(n-r)}function vr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"DIV[]",r,n),i.push(64*n/r)}function yr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"MUL[]",r,n),i.push(n*r/64)}function br(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"ABS[]",r),i.push(Math.abs(r))}function wr(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"NEG[]",r),i.push(-r)}function xr(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"FLOOR[]",r),i.push(64*Math.floor(r/64))}function _r(e){var i=e.stack,r=i.pop();t.DEBUG&&console.log(e.step,"CEILING[]",r),i.push(64*Math.ceil(r/64))}function Sr(e,i){var r=i.stack,n=r.pop();t.DEBUG&&console.log(i.step,"ROUND[]"),r.push(64*i.round(n/64))}function Cr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm}function Mr(e,i){var r=i.stack,n=r.pop(),o=i.ppem,s=i.deltaBase+16*(e-1),a=i.deltaShift;t.DEBUG&&console.log(i.step,"DELTAC["+e+"]",n,r);for(var c=0;c<n;c++){var l=r.pop(),h=r.pop();if(s+((240&h)>>4)===o){var u=(15&h)-8;u>=0&&u++;var d=u*a;t.DEBUG&&console.log(i.step,"DELTACFIX",l,"by",d),i.cvt[l]+=d}}}function Tr(e){var i,r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=So,192&r){case 0:i=.5;break;case 64:i=1;break;case 128:i=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=i,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*i;break;case 32:e.srPhase=.5*i;break;case 48:e.srPhase=.75*i;break;default:throw new Error("invalid SROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*i}function Rr(e){var i,r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=So,192&r){case 0:i=Math.sqrt(2)/2;break;case 64:i=Math.sqrt(2);break;case 128:i=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=i,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*i;break;case 32:e.srPhase=.5*i;break;case 48:e.srPhase=.75*i;break;default:throw new Error("invalid S45ROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*i}function Er(e){t.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Bt}function kr(e){t.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Wt}function Lr(e){t.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Ht}function Ar(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANCTRL[]",i)}function $r(e,i){var r,n,o=i.stack,s=o.pop(),a=o.pop(),c=i.z2[s],l=i.z1[a];t.DEBUG&&console.log(i.step,"SDPVTL["+e+"]",s,a),e?(r=c.y-l.y,n=l.x-c.x):(r=l.x-c.x,n=l.y-c.y),i.dpv=zt(r,n)}function Ir(e){var i=e.stack,r=i.pop(),n=0;t.DEBUG&&console.log(e.step,"GETINFO[]",r),1&r&&(n=35),32&r&&(n|=4096),i.push(n)}function Ur(e){var i=e.stack,r=i.pop(),n=i.pop(),o=i.pop();t.DEBUG&&console.log(e.step,"ROLL[]"),i.push(n),i.push(r),i.push(o)}function Pr(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"MAX[]",r,n),i.push(Math.max(n,r))}function Or(e){var i=e.stack,r=i.pop(),n=i.pop();t.DEBUG&&console.log(e.step,"MIN[]",r,n),i.push(Math.min(n,r))}function Dr(e){var i=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANTYPE[]",i)}function Fr(e){var i=e.stack.pop(),r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"INSTCTRL[]",i,r),i){case 1:return void(e.inhibitGridFit=!!r);case 2:return void(e.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}}function Br(e,i){var r=i.stack,n=i.prog,o=i.ip;t.DEBUG&&console.log(i.step,"PUSHB["+e+"]");for(var s=0;s<e;s++)r.push(n[++o]);i.ip=o}function Nr(e,i){var r=i.ip,n=i.prog,o=i.stack;t.DEBUG&&console.log(i.ip,"PUSHW["+e+"]");for(var s=0;s<e;s++){var a=n[++r]<<8|n[++r];32768&a&&(a=-(1+(65535^a))),o.push(a)}i.ip=r}function Gr(e,i,r,n,o,s){var a,c,l,h,u=s.stack,d=e&&u.pop(),f=u.pop(),p=s.rp0,g=s.z0[p],m=s.z1[f],v=s.minDis,y=s.fv,b=s.dpv;c=a=b.distance(m,g,!0,!0),l=c>=0?1:-1,c=Math.abs(c),e&&(h=s.cvt[d],n&&Math.abs(c-h)<s.cvCutIn&&(c=h)),r&&c<v&&(c=v),n&&(c=s.round(c)),y.setRelative(m,g,l*c,b),y.touch(m),t.DEBUG&&console.log(s.step,(e?"MIRP[":"MDRP[")+(i?"M":"m")+(r?">":"_")+(n?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",e?d+"("+s.cvt[d]+","+h+")":"",f,"(d =",a,"->",l*c,")"),s.rp1=s.rp0,s.rp2=f,i&&(s.rp0=f)}function jr(e){e=e||{},e.empty||(Lt(e.familyName,"When creating a new Font object, familyName is required."),Lt(e.styleName,"When creating a new Font object, styleName is required."),Lt(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Lt(e.ascender,"When creating a new Font object, ascender is required."),Lt(e.descender,"When creating a new Font object, descender is required."),Lt(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Vn.GlyphSet(this,e.glyphs||[]),this.encoding=new q(this),this.position=new St(this),this.substitution=new Ct(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new Ft(this):void 0}})}function Wr(e,t){var i=JSON.stringify(e),r=256;for(var n in t){var o=parseInt(n);if(o&&!(o<256)){if(JSON.stringify(t[n])===i)return o;r<=o&&(r=o+1)}}return t[r]=e,r}function Hr(e,t,i){var r=Wr(t.name,i);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:r}]}function Vr(e,t,i){var r={},n=new Fn.Parser(e,t);return r.tag=n.parseTag(),r.minValue=n.parseFixed(),r.defaultValue=n.parseFixed(),r.maxValue=n.parseFixed(),n.skip("uShort",1),r.name=i[n.parseUShort()]||{},r}function zr(e,t,i,r){for(var n=Wr(t.name,r),o=[{name:"nameID_"+e,type:"USHORT",value:n},{name:"flags_"+e,type:"USHORT",value:0}],s=0;s<i.length;++s){var a=i[s].tag;o.push({name:"axis_"+e+" "+a,type:"FIXED",value:t.coordinates[a]<<16})}return o}function Xr(e,t,i,r){var n={},o=new Fn.Parser(e,t);n.name=r[o.parseUShort()]||{},o.skip("uShort",1),n.coordinates={};for(var s=0;s<i.length;++s)n.coordinates[i[s].tag]=o.parseFixed();return n}function Yr(e,t){var i=new Pn.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);i.offsetToData=i.sizeOf();for(var r=0;r<e.axes.length;r++)i.fields=i.fields.concat(Hr(r,e.axes[r],t));for(var n=0;n<e.instances.length;n++)i.fields=i.fields.concat(zr(n,e.instances[n],e.axes,t));return i}function qr(e,t,i){var r=new Fn.Parser(e,t),n=r.parseULong();Cn.argument(65536===n,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var s=r.parseUShort(),a=r.parseUShort(),c=r.parseUShort(),l=r.parseUShort(),h=[],u=0;u<s;u++)h.push(Vr(e,t+o+u*a,i));for(var d=[],f=t+o+s*a,p=0;p<c;p++)d.push(Xr(e,f+p*l,h,i));return{axes:h,instances:d}}function Kr(e,t){t=t||0;var i=new j(e,t),r=i.parseVersion(1);return Cn.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(Lo)}:{version:r,scripts:i.parseScriptList(),features:i.parseFeatureList(),lookups:i.parseLookupList(Lo),variations:i.parseFeatureVariationsList()}}function Zr(e){return new Pn.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pn.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Pn.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Pn.LookupList(e.lookups,Ao)}])}function Qr(e){var t={};e.skip("uShort");var i=e.parseUShort();Cn.argument(0===i,"Unsupported kern sub-table version."),e.skip("uShort",2);var r=e.parseUShort();e.skip("uShort",3);for(var n=0;n<r;n+=1){var o=e.parseUShort(),s=e.parseUShort(),a=e.parseShort();t[o+","+s]=a}return t}function Jr(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var i=e.parseUShort(),r=255&i;if(e.skip("uShort"),0===r){var n=e.parseUShort();e.skip("uShort",3);for(var o=0;o<n;o+=1){var s=e.parseUShort(),a=e.parseUShort(),c=e.parseShort();t[s+","+a]=c}}return t}function en(e,t){var i=new Fn.Parser(e,t),r=i.parseUShort();if(0===r)return Qr(i);if(1===r)return Jr(i);throw new Error("Unsupported kern table version ("+r+").")}function tn(e,t,i,r){for(var n=new Fn.Parser(e,t),o=r?n.parseUShort:n.parseULong,s=[],a=0;a<i+1;a+=1){var c=o.call(n);r&&(c*=2),s.push(c)}return s}function rn(t,i){e("fs").readFile(t,function(e,t){if(e)return i(e.message);i(null,Et(t))})}function nn(e,t){var i=new XMLHttpRequest;i.open("get",e,!0),i.responseType="arraybuffer",i.onload=function(){return i.response?t(null,i.response):t("Font could not be loaded: "+i.statusText)},i.onerror=function(){t("Font could not be loaded")},i.send()}function on(e,t){for(var i=[],r=12,n=0;n<t;n+=1){var o=Fn.getTag(e,r),s=Fn.getULong(e,r+4),a=Fn.getULong(e,r+8),c=Fn.getULong(e,r+12);i.push({tag:o,checksum:s,offset:a,length:c,compression:!1}),r+=16}return i}function sn(e,t){for(var i=[],r=44,n=0;n<t;n+=1){var o=Fn.getTag(e,r),s=Fn.getULong(e,r+4),a=Fn.getULong(e,r+8),c=Fn.getULong(e,r+12),l=void 0;l=a<c&&"WOFF",i.push({tag:o,offset:s,compression:l,compressedLength:a,length:c}),r+=20}return i}function an(e,t){if("WOFF"===t.compression){var i=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.length);if(Sn(i,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:e,offset:t.offset}}function cn(e){var t,i,r,n=new jr({empty:!0}),o=new DataView(e,0),s=[],a=Fn.getTag(o,0);if(a===String.fromCharCode(0,1,0,0)||"true"===a||"typ1"===a)n.outlinesFormat="truetype",r=Fn.getUShort(o,4),s=on(o,r);else if("OTTO"===a)n.outlinesFormat="cff",r=Fn.getUShort(o,4),s=on(o,r);else{if("wOFF"!==a)throw new Error("Unsupported OpenType signature "+a);var c=Fn.getTag(o,4);if(c===String.fromCharCode(0,1,0,0))n.outlinesFormat="truetype";else{if("OTTO"!==c)throw new Error("Unsupported OpenType flavor "+a);n.outlinesFormat="cff"}r=Fn.getUShort(o,12),s=sn(o,r)}for(var l,h,u,d,f,p,g,m,v,y,b,w=0;w<r;w+=1){var x=s[w],_=void 0;switch(x.tag){case"cmap":_=an(o,x),n.tables.cmap=Bn.parse(_.data,_.offset),n.encoding=new K(n.tables.cmap);break;case"cvt ":_=an(o,x),b=new Fn.Parser(_.data,_.offset),n.tables.cvt=b.parseShortList(x.length/2);break;case"fvar":h=x;break;case"fpgm":_=an(o,x),b=new Fn.Parser(_.data,_.offset),n.tables.fpgm=b.parseByteList(x.length);break;case"head":_=an(o,x),n.tables.head=qn.parse(_.data,_.offset),n.unitsPerEm=n.tables.head.unitsPerEm,t=n.tables.head.indexToLocFormat;break;case"hhea":_=an(o,x),n.tables.hhea=Kn.parse(_.data,_.offset),n.ascender=n.tables.hhea.ascender,n.descender=n.tables.hhea.descender,n.numberOfHMetrics=n.tables.hhea.numberOfHMetrics;break;case"hmtx":p=x;break;case"ltag":_=an(o,x),i=Qn.parse(_.data,_.offset);break;case"maxp":_=an(o,x),n.tables.maxp=Jn.parse(_.data,_.offset),n.numGlyphs=n.tables.maxp.numGlyphs;break;case"name":v=x;break;case"OS/2":_=an(o,x),n.tables.os2=lo.parse(_.data,_.offset);break;case"post":_=an(o,x),n.tables.post=ho.parse(_.data,_.offset),n.glyphNames=new Q(n.tables.post);break;case"prep":_=an(o,x),b=new Fn.Parser(_.data,_.offset),n.tables.prep=b.parseByteList(x.length);break;case"glyf":u=x;break;case"loca":m=x;break;case"CFF ":l=x;break;case"kern":g=x;break;case"GPOS":d=x;break;case"GSUB":f=x;break;case"meta":y=x}}var S=an(o,v);if(n.tables.name=ao.parse(S.data,S.offset,i),n.names=n.tables.name,u&&m){var C=0===t,M=an(o,m),T=Uo.parse(M.data,M.offset,n.numGlyphs,C),R=an(o,u);n.glyphs=_o.parse(R.data,R.offset,T,n)}else{if(!l)throw new Error("Font doesn't contain TrueType or CFF outlines.");var E=an(o,l);Yn.parse(E.data,E.offset,n)}var k=an(o,p);if(Zn.parse(k.data,k.offset,n.numberOfHMetrics,n.numGlyphs,n.glyphs),J(n),g){var L=an(o,g);n.kerningPairs=Io.parse(L.data,L.offset)}else n.kerningPairs={};if(d){var A=an(o,d);n.tables.gpos=$o.parse(A.data,A.offset),n.position.init()}if(f){var $=an(o,f);n.tables.gsub=go.parse($.data,$.offset)}if(h){var I=an(o,h);n.tables.fvar=ko.parse(I.data,I.offset,n.names)}if(y){var U=an(o,y);n.tables.meta=mo.parse(U.data,U.offset),n.metas=n.tables.meta}return n}function ln(e,t){("undefined"==typeof window?rn:nn)(e,function(e,i){if(e)return t(e);var r;try{r=cn(i)}catch(e){return t(e,null)}return t(null,r)})}function hn(t){return cn(Et(e("fs").readFileSync(t)))}String.prototype.codePointAt||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t=function(e){if(null==this)throw TypeError();var t=String(this),i=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0||r>=i)){var n,o=t.charCodeAt(r);return o>=55296&&o<=56319&&i>r+1&&(n=t.charCodeAt(r+1))>=56320&&n<=57343?1024*(o-55296)+n-56320+65536:o}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();var un=0,dn=-3,fn=new i,pn=new i,gn=new Uint8Array(30),mn=new Uint16Array(30),vn=new Uint8Array(30),yn=new Uint16Array(30),bn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wn=new i,xn=new Uint8Array(320),_n=new Uint16Array(16);s(fn,pn),o(gn,mn,4,3),o(vn,yn,2,1),gn[28]=0,mn[28]=258;var Sn=p;m.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},m.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},m.prototype.addX=function(e){this.addPoint(e,null)},m.prototype.addY=function(e){this.addPoint(null,e)},m.prototype.addBezier=function(e,t,i,r,n,o,s,a){var c=this,l=[e,t],h=[i,r],u=[n,o],d=[s,a];this.addPoint(e,t),this.addPoint(s,a);for(var f=0;f<=1;f++){var p=6*l[f]-12*h[f]+6*u[f],m=-3*l[f]+9*h[f]-9*u[f]+3*d[f],v=3*h[f]-3*l[f];if(0!==m){var y=Math.pow(p,2)-4*v*m;if(!(y<0)){var b=(-p+Math.sqrt(y))/(2*m);0<b&&b<1&&(0===f&&c.addX(g(l[f],h[f],u[f],d[f],b)),1===f&&c.addY(g(l[f],h[f],u[f],d[f],b)));var w=(-p-Math.sqrt(y))/(2*m);0<w&&w<1&&(0===f&&c.addX(g(l[f],h[f],u[f],d[f],w)),1===f&&c.addY(g(l[f],h[f],u[f],d[f],w)))}}else{if(0===p)continue;var x=-v/p;0<x&&x<1&&(0===f&&c.addX(g(l[f],h[f],u[f],d[f],x)),1===f&&c.addY(g(l[f],h[f],u[f],d[f],x)))}}},m.prototype.addQuad=function(e,t,i,r,n,o){var s=e+2/3*(i-e),a=t+2/3*(r-t),c=s+1/3*(n-e),l=a+1/3*(o-t);this.addBezier(e,t,s,a,c,l,n,o)},v.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},v.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},v.prototype.curveTo=v.prototype.bezierCurveTo=function(e,t,i,r,n,o){this.commands.push({type:"C",x1:e,y1:t,x2:i,y2:r,x:n,y:o})},v.prototype.quadTo=v.prototype.quadraticCurveTo=function(e,t,i,r){this.commands.push({type:"Q",x1:e,y1:t,x:i,y:r})},v.prototype.close=v.prototype.closePath=function(){this.commands.push({type:"Z"})},v.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof m){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},v.prototype.getBoundingBox=function(){for(var e=this,t=new m,i=0,r=0,n=0,o=0,s=0;s<this.commands.length;s++){var a=e.commands[s];switch(a.type){case"M":t.addPoint(a.x,a.y),i=n=a.x,r=o=a.y;break;case"L":t.addPoint(a.x,a.y),n=a.x,o=a.y;break;case"Q":t.addQuad(n,o,a.x1,a.y1,a.x,a.y),n=a.x,o=a.y;break;case"C":t.addBezier(n,o,a.x1,a.y1,a.x2,a.y2,a.x,a.y),n=a.x,o=a.y;break;case"Z":n=i,o=r;break;default:throw new Error("Unexpected path command "+a.type)}}return t.isEmpty()&&t.addPoint(0,0),t},v.prototype.draw=function(e){var t=this;e.beginPath();for(var i=0;i<this.commands.length;i+=1){var r=t.commands[i];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},v.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function i(){for(var e=arguments,i="",r=0;r<arguments.length;r+=1){var n=e[r];n>=0&&r>0&&(i+=" "),i+=t(n)}return i}var r=this;e=void 0!==e?e:2;for(var n="",o=0;o<this.commands.length;o+=1){var s=r.commands[o];"M"===s.type?n+="M"+i(s.x,s.y):"L"===s.type?n+="L"+i(s.x,s.y):"C"===s.type?n+="C"+i(s.x1,s.y1,s.x2,s.y2,s.x,s.y):"Q"===s.type?n+="Q"+i(s.x1,s.y1,s.x,s.y):"Z"===s.type&&(n+="Z")}return n},v.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},v.prototype.toDOMElement=function(e){var t=this.toPathData(e),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),i};var Cn={fail:y,argument:b,assert:b},Mn=32768,Tn=2147483648,Rn={},En={},kn={};En.BYTE=function(e){return Cn.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},kn.BYTE=w(1),En.CHAR=function(e){return[e.charCodeAt(0)]},kn.CHAR=w(1),En.CHARARRAY=function(e){for(var t=[],i=0;i<e.length;i+=1)t[i]=e.charCodeAt(i);return t},kn.CHARARRAY=function(e){return e.length},En.USHORT=function(e){return[e>>8&255,255&e]},kn.USHORT=w(2),En.SHORT=function(e){return e>=Mn&&(e=-(2*Mn-e)),[e>>8&255,255&e]},kn.SHORT=w(2),En.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},kn.UINT24=w(3),En.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},kn.ULONG=w(4),En.LONG=function(e){return e>=Tn&&(e=-(2*Tn-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},kn.LONG=w(4),En.FIXED=En.ULONG,kn.FIXED=kn.ULONG,En.FWORD=En.SHORT,kn.FWORD=kn.SHORT,En.UFWORD=En.USHORT,kn.UFWORD=kn.USHORT,En.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},kn.LONGDATETIME=w(8),En.TAG=function(e){return Cn.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},kn.TAG=w(4),En.Card8=En.BYTE,kn.Card8=kn.BYTE,En.Card16=En.USHORT,kn.Card16=kn.USHORT,En.OffSize=En.BYTE,kn.OffSize=kn.BYTE,En.SID=En.USHORT,kn.SID=kn.USHORT,En.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e-=108,[247+(e>>8),255&e]):e>=-1131&&e<=-108?(e=-e-108,[251+(e>>8),255&e]):e>=-32768&&e<=32767?En.NUMBER16(e):En.NUMBER32(e)},kn.NUMBER=function(e){return En.NUMBER(e).length},En.NUMBER16=function(e){return[28,e>>8&255,255&e]},kn.NUMBER16=w(3),En.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},kn.NUMBER32=w(5),En.REAL=function(e){var t=e.toString(),i=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(i){var r=parseFloat("1e"+((i[2]?+i[2]:0)+i[1].length));t=(Math.round(e*r)/r).toString()}for(var n="",o=0,s=t.length;o<s;o+=1){var a=t[o];n+="e"===a?"-"===t[++o]?"c":"b":"."===a?"a":"-"===a?"e":a}n+=1&n.length?"f":"ff";for(var c=[30],l=0,h=n.length;l<h;l+=2)c.push(parseInt(n.substr(l,2),16));return c},kn.REAL=function(e){return En.REAL(e).length},En.NAME=En.CHARARRAY,kn.NAME=kn.CHARARRAY,En.STRING=En.CHARARRAY,kn.STRING=kn.CHARARRAY,Rn.UTF8=function(e,t,i){for(var r=[],n=i,o=0;o<n;o++,t+=1)r[o]=e.getUint8(t);return String.fromCharCode.apply(null,r)},Rn.UTF16=function(e,t,i){for(var r=[],n=i/2,o=0;o<n;o++,t+=2)r[o]=e.getUint16(t);return String.fromCharCode.apply(null,r)},En.UTF16=function(e){for(var t=[],i=0;i<e.length;i+=1){var r=e.charCodeAt(i);t[t.length]=r>>8&255,t[t.length]=255&r}return t},kn.UTF16=function(e){return 2*e.length};var Ln={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Rn.MACSTRING=function(e,t,i,r){var n=Ln[r];if(void 0!==n){for(var o="",s=0;s<i;s++){var a=e.getUint8(t+s);o+=a<=127?String.fromCharCode(a):n[127&a]}return o}};var An,$n="function"==typeof WeakMap&&new WeakMap,In=function(e){if(!An)for(var t in An={},Ln)An[t]=new String(t);var i=An[e];if(void 0!==i){if($n){var r=$n.get(i);if(void 0!==r)return r}var n=Ln[e];if(void 0!==n){for(var o={},s=0;s<n.length;s++)o[n.charCodeAt(s)]=s+128;return $n&&$n.set(i,o),o}}};En.MACSTRING=function(e,t){var i=In(t);if(void 0!==i){for(var r=[],n=0;n<e.length;n++){var o=e.charCodeAt(n);if(o>=128&&void 0===(o=i[o]))return;r[n]=o}return r}},kn.MACSTRING=function(e,t){var i=En.MACSTRING(e,t);return void 0!==i?i.length:0},En.VARDELTAS=function(e){for(var t=0,i=[];t<e.length;){var r=e[t];t=0===r?_(e,t,i):r>=-128&&r<=127?S(e,t,i):C(e,t,i)}return i},En.INDEX=function(e){for(var t=1,i=[t],r=[],n=0;n<e.length;n+=1){var o=En.OBJECT(e[n]);Array.prototype.push.apply(r,o),t+=o.length,i.push(t)}if(0===r.length)return[0,0];for(var s=[],a=1+Math.floor(Math.log(t)/Math.log(2))/8|0,c=[void 0,En.BYTE,En.USHORT,En.UINT24,En.ULONG][a],l=0;l<i.length;l+=1){var h=c(i[l]);Array.prototype.push.apply(s,h)}return Array.prototype.concat(En.Card16(e.length),En.OffSize(a),s,r)},kn.INDEX=function(e){return En.INDEX(e).length},En.DICT=function(e){for(var t=[],i=Object.keys(e),r=i.length,n=0;n<r;n+=1){var o=parseInt(i[n],0),s=e[o];t=t.concat(En.OPERAND(s.value,s.type)),t=t.concat(En.OPERATOR(o))}return t},kn.DICT=function(e){return En.DICT(e).length},En.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},En.OPERAND=function(e,t){var i=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)Cn.argument(e.length===t.length,"Not enough arguments given for type"+t),i=i.concat(En.OPERAND(e[r],t[r]));else if("SID"===t)i=i.concat(En.NUMBER(e));else if("offset"===t)i=i.concat(En.NUMBER32(e));else if("number"===t)i=i.concat(En.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);i=i.concat(En.REAL(e))}return i},En.OP=En.BYTE,kn.OP=kn.BYTE;var Un="function"==typeof WeakMap&&new WeakMap;En.CHARSTRING=function(e){if(Un){var t=Un.get(e);if(void 0!==t)return t}for(var i=[],r=e.length,n=0;n<r;n+=1){var o=e[n];i=i.concat(En[o.type](o.value))}return Un&&Un.set(e,i),i},kn.CHARSTRING=function(e){return En.CHARSTRING(e).length},En.OBJECT=function(e){var t=En[e.type];return Cn.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},kn.OBJECT=function(e){var t=kn[e.type];return Cn.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},En.TABLE=function(e){for(var t=[],i=e.fields.length,r=[],n=[],o=0;o<i;o+=1){var s=e.fields[o],a=En[s.type];Cn.argument(void 0!==a,"No encoding function for field type "+s.type+" ("+s.name+")");var c=e[s.name];void 0===c&&(c=s.value);var l=a(c);"TABLE"===s.type?(n.push(t.length),t=t.concat([0,0]),r.push(l)):t=t.concat(l)}for(var h=0;h<r.length;h+=1){var u=n[h],d=t.length;Cn.argument(d<65536,"Table "+e.tableName+" too big."),t[u]=d>>8,t[u+1]=255&d,t=t.concat(r[h])}return t},kn.TABLE=function(e){for(var t=0,i=e.fields.length,r=0;r<i;r+=1){var n=e.fields[r],o=kn[n.type];Cn.argument(void 0!==o,"No sizeOf function for field type "+n.type+" ("+n.name+")");var s=e[n.name];void 0===s&&(s=n.value),t+=o(s),"TABLE"===n.type&&(t+=2)}return t},En.RECORD=En.TABLE,kn.RECORD=kn.TABLE,En.LITERAL=function(e){return e},kn.LITERAL=function(e){return e.length},M.prototype.encode=function(){return En.TABLE(this)},M.prototype.sizeOf=function(){return kn.TABLE(this)},k.prototype=Object.create(M.prototype),k.prototype.constructor=k,L.prototype=Object.create(M.prototype),L.prototype.constructor=L,A.prototype=Object.create(M.prototype),A.prototype.constructor=A,$.prototype=Object.create(M.prototype),$.prototype.constructor=$;var Pn={Table:M,Record:M,Coverage:k,ScriptList:L,FeatureList:A,LookupList:$,ushortList:T,tableList:R,recordList:E},On={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};j.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},j.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},j.prototype.parseCard8=j.prototype.parseByte,j.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},j.prototype.parseCard16=j.prototype.parseUShort,j.prototype.parseSID=j.prototype.parseUShort,j.prototype.parseOffset16=j.prototype.parseUShort,j.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},j.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},j.prototype.parseULong=function(){var e=O(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},j.prototype.parseOffset32=j.prototype.parseULong,j.prototype.parseFixed=function(){var e=D(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},j.prototype.parseString=function(e){var t=this.data,i=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var n=0;n<e;n++)r+=String.fromCharCode(t.getUint8(i+n));return r},j.prototype.parseTag=function(){return this.parseString(4)},j.prototype.parseLongDateTime=function(){var e=O(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},j.prototype.parseVersion=function(e){var t=U(this.data,this.offset+this.relativeOffset),i=U(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+i/e/10},j.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=On[e]*t},j.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),i=this.data,r=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=i.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},j.prototype.parseOffset16List=j.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),i=this.data,r=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=i.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},j.prototype.parseShortList=function(e){for(var t=new Array(e),i=this.data,r=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=i.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},j.prototype.parseByteList=function(e){for(var t=new Array(e),i=this.data,r=this.offset+this.relativeOffset,n=0;n<e;n++)t[n]=i.getUint8(r++);return this.relativeOffset+=e,t},j.prototype.parseList=function(e,t){var i=this;t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(i);return r},j.prototype.parseList32=function(e,t){var i=this;t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(i);return r},j.prototype.parseRecordList=function(e,t){var i=this;t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),o=0;o<e;o++){for(var s={},a=0;a<n.length;a++){var c=n[a],l=t[c];s[c]=l.call(i)}r[o]=s}return r},j.prototype.parseRecordList32=function(e,t){var i=this;t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),o=0;o<e;o++){for(var s={},a=0;a<n.length;a++){var c=n[a],l=t[c];s[c]=l.call(i)}r[o]=s}return r},j.prototype.parseStruct=function(e){var t=this;if("function"==typeof e)return e.call(this);for(var i=Object.keys(e),r={},n=0;n<i.length;n++){var o=i[n],s=e[o];r[o]=s.call(t)}return r},j.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},j.prototype.parseValueRecordList=function(){for(var e=this,t=this.parseUShort(),i=this.parseUShort(),r=new Array(i),n=0;n<i;n++)r[n]=e.parseValueRecord(t);return r},j.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new j(this.data,this.offset+t).parseStruct(e)},j.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new j(this.data,this.offset+t).parseStruct(e)},j.prototype.parseListOfLists=function(e){for(var t=this,i=this.parseOffset16List(),r=i.length,n=this.relativeOffset,o=new Array(r),s=0;s<r;s++){var a=i[s];if(0!==a)if(t.relativeOffset=a,e){for(var c=t.parseOffset16List(),l=new Array(c.length),h=0;h<c.length;h++)t.relativeOffset=a+c[h],l[h]=e.call(t);o[s]=l}else o[s]=t.parseUShortList();else o[s]=void 0}return this.relativeOffset=n,o},j.prototype.parseCoverage=function(){var e=this,t=this.offset+this.relativeOffset,i=this.parseUShort(),r=this.parseUShort();if(1===i)return{format:1,glyphs:this.parseUShortList(r)};if(2===i){for(var n=new Array(r),o=0;o<r;o++)n[o]={start:e.parseUShort(),end:e.parseUShort(),index:e.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")},j.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:j.uShort,end:j.uShort,classId:j.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},j.list=function(e,t){return function(){return this.parseList(e,t)}},j.list32=function(e,t){return function(){return this.parseList32(e,t)}},j.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},j.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},j.pointer=function(e){return function(){return this.parsePointer(e)}},j.pointer32=function(e){return function(){return this.parsePointer32(e)}},j.tag=j.prototype.parseTag,j.byte=j.prototype.parseByte,j.uShort=j.offset16=j.prototype.parseUShort,j.uShortList=j.prototype.parseUShortList,j.uLong=j.offset32=j.prototype.parseULong,j.uLongList=j.prototype.parseULongList,j.struct=j.prototype.parseStruct,j.coverage=j.prototype.parseCoverage,j.classDef=j.prototype.parseClassDef;var Dn={reserved:j.uShort,reqFeatureIndex:j.uShort,featureIndexes:j.uShortList};j.prototype.parseScriptList=function(){return this.parsePointer(j.recordList({tag:j.tag,script:j.pointer({defaultLangSys:j.pointer(Dn),langSysRecords:j.recordList({tag:j.tag,langSys:j.pointer(Dn)})})}))||[]},j.prototype.parseFeatureList=function(){return this.parsePointer(j.recordList({tag:j.tag,feature:j.pointer({featureParams:j.offset16,lookupListIndexes:j.uShortList})}))||[]},j.prototype.parseLookupList=function(e){return this.parsePointer(j.list(j.pointer(function(){var t=this.parseUShort();Cn.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var i=this.parseUShort(),r=16&i;return{lookupType:t,lookupFlag:i,subtables:this.parseList(j.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}})))||[]},j.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();return Cn.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:j.offset32,featureTableSubstitutionOffset:j.offset32})})||[]};var Fn={getByte:I,getCard8:I,getUShort:U,getCard16:U,getShort:P,getULong:O,getFixed:D,getTag:F,getOffset:B,getBytes:N,bytesToString:G,Parser:j},Bn={parse:V,make:Y},Nn=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Gn=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],jn=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Wn=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];q.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),i=this.font.glyphs;if(i)for(var r=0;r<i.length;r+=1)for(var n=i.get(r),o=0;o<n.unicodes.length;o+=1)if(n.unicodes[o]===t)return r;return null},K.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},Z.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),i=this.encoding[t];return this.charset.indexOf(i)},Q.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},Q.prototype.glyphIndexToName=function(e){return this.names[e]};var Hn={line:ee};ie.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",te(this,e.path))},ie.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ie.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ie.prototype.getPath=function(e,t,i,r,n){var o,s;e=void 0!==e?e:0,t=void 0!==t?t:0,i=void 0!==i?i:72,r||(r={});var a=r.xScale,c=r.yScale;if(r.hinting&&n&&n.hinting&&(s=this.path&&n.hinting.exec(this,i)),s)o=n.hinting.getCommands(s),e=Math.round(e),t=Math.round(t),a=c=1;else{o=this.path.commands;var l=1/this.path.unitsPerEm*i;void 0===a&&(a=l),void 0===c&&(c=l)}for(var h=new v,u=0;u<o.length;u+=1){var d=o[u];"M"===d.type?h.moveTo(e+d.x*a,t+-d.y*c):"L"===d.type?h.lineTo(e+d.x*a,t+-d.y*c):"Q"===d.type?h.quadraticCurveTo(e+d.x1*a,t+-d.y1*c,e+d.x*a,t+-d.y*c):"C"===d.type?h.curveTo(e+d.x1*a,t+-d.y1*c,e+d.x2*a,t+-d.y2*c,e+d.x*a,t+-d.y*c):"Z"===d.type&&h.closePath()}return h},ie.prototype.getContours=function(){var e=this;if(void 0===this.points)return[];for(var t=[],i=[],r=0;r<this.points.length;r+=1){var n=e.points[r];i.push(n),n.lastPointOfContour&&(t.push(i),i=[])}return Cn.argument(0===i.length,"There are still points left in the current contour."),t},ie.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],i=[],r=0;r<e.length;r+=1){var n=e[r];"Z"!==n.type&&(t.push(n.x),i.push(n.y)),"Q"!==n.type&&"C"!==n.type||(t.push(n.x1),i.push(n.y1)),"C"===n.type&&(t.push(n.x2),i.push(n.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,i),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,i),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},ie.prototype.draw=function(e,t,i,r,n){this.getPath(t,i,r,n).draw(e)},ie.prototype.drawPoints=function(e,t,i,r){function n(t,i,r,n){var o=2*Math.PI;e.beginPath();for(var s=0;s<t.length;s+=1)e.moveTo(i+t[s].x*n,r+t[s].y*n),e.arc(i+t[s].x*n,r+t[s].y*n,2,0,o,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,i=void 0!==i?i:0,r=void 0!==r?r:24;for(var o=1/this.path.unitsPerEm*r,s=[],a=[],c=this.path,l=0;l<c.commands.length;l+=1){var h=c.commands[l];void 0!==h.x&&s.push({x:h.x,y:-h.y}),void 0!==h.x1&&a.push({x:h.x1,y:-h.y1}),void 0!==h.x2&&a.push({x:h.x2,y:-h.y2})}e.fillStyle="blue",n(s,t,i,o),e.fillStyle="red",n(a,t,i,o)},ie.prototype.drawMetrics=function(e,t,i,r){var n;t=void 0!==t?t:0,i=void 0!==i?i:0,r=void 0!==r?r:24,n=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",Hn.line(e,t,-1e4,t,1e4),Hn.line(e,-1e4,i,1e4,i);var o=this.xMin||0,s=this.yMin||0,a=this.xMax||0,c=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",Hn.line(e,t+o*n,-1e4,t+o*n,1e4),Hn.line(e,t+a*n,-1e4,t+a*n,1e4),Hn.line(e,-1e4,i+-s*n,1e4,i+-s*n),Hn.line(e,-1e4,i+-c*n,1e4,i+-c*n),e.strokeStyle="green",Hn.line(e,t+l*n,-1e4,t+l*n,1e4)},ne.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},ne.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var Vn={GlyphSet:ne,glyphLoader:oe,ttfGlyphLoader:se,cffGlyphLoader:ae},zn=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Xn=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],Yn={parse:Me,make:Fe},qn={parse:Be,make:Ne},Kn={parse:Ge,make:je},Zn={parse:We,make:He},Qn={make:Ve,parse:ze},Jn={parse:Xe,make:Ye},eo=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],to={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},io={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ro={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},no="utf-16",oo={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},so={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},ao={parse:Ze,make:it},co=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],lo={parse:nt,make:ot,unicodeRanges:co,getUnicodeRange:rt},ho={parse:st,make:at},uo=new Array(9);uo[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(j.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(j.coverage),substitute:this.parseOffset16List()}:void Cn.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},uo[2]=function(){var e=this.parseUShort();return Cn.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(j.coverage),sequences:this.parseListOfLists()}},uo[3]=function(){var e=this.parseUShort();return Cn.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(j.coverage),alternateSets:this.parseListOfLists()}},uo[4]=function(){var e=this.parseUShort();return Cn.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(j.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var fo={sequenceIndex:j.uShort,lookupListIndex:j.uShort};uo[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(j.coverage),ruleSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,fo)}})};if(2===t)return{substFormat:t,coverage:this.parsePointer(j.coverage),classDef:this.parsePointer(j.classDef),classSets:this.parseListOfLists(function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,fo)}})};if(3===t){var i=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(i,j.pointer(j.coverage)),lookupRecords:this.parseRecordList(r,fo)}}Cn.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},uo[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(j.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(fo)}})}:2===t?{substFormat:2,coverage:this.parsePointer(j.coverage),backtrackClassDef:this.parsePointer(j.classDef),inputClassDef:this.parsePointer(j.classDef),lookaheadClassDef:this.parsePointer(j.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(fo)}})}:3===t?{substFormat:3,backtrackCoverage:this.parseList(j.pointer(j.coverage)),inputCoverage:this.parseList(j.pointer(j.coverage)),lookaheadCoverage:this.parseList(j.pointer(j.coverage)),lookupRecords:this.parseRecordList(fo)}:void Cn.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},uo[7]=function(){var e=this.parseUShort();Cn.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),i=new j(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:uo[t].call(i)}},uo[8]=function(){var e=this.parseUShort();return Cn.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(j.coverage),backtrackCoverage:this.parseList(j.pointer(j.coverage)),lookaheadCoverage:this.parseList(j.pointer(j.coverage)),substitutes:this.parseUShortList()}};var po=new Array(9);po[1]=function(e){return 1===e.substFormat?new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Pn.Coverage(e.coverage)}].concat(Pn.ushortList("substitute",e.substitute)))},po[3]=function(e){return Cn.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(e.coverage)}].concat(Pn.tableList("altSet",e.alternateSets,function(e){return new Pn.Table("alternateSetTable",Pn.ushortList("alternate",e))})))},po[4]=function(e){return Cn.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Pn.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pn.Coverage(e.coverage)}].concat(Pn.tableList("ligSet",e.ligatureSets,function(e){return new Pn.Table("ligatureSetTable",Pn.tableList("ligature",e,function(e){return new Pn.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Pn.ushortList("component",e.components,e.components.length+1)))}))})))};var go={parse:ct,make:lt},mo={parse:ht,make:ut},vo={make:gt,fontToTable:yt,computeCheckSum:ft};_t.prototype={searchTag:bt,binSearch:wt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,i=0;i<e.scripts.length;i++){var r=e.scripts[i].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var i=this.getTable(t);if(i){e=e||"DFLT";var r=i.scripts,n=bt(i.scripts,e);if(n>=0)return r[n].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-n,0,o),o.script}}},getLangSysTable:function(e,t,i){var r=this.getScriptTable(e,i);if(r){if(!t||"dflt"===t||"DFLT"===t)return r.defaultLangSys;var n=bt(r.langSysRecords,t);if(n>=0)return r.langSysRecords[n].langSys;if(i){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-n,0,o),o.langSys}}},getFeatureTable:function(e,t,i,r){var n=this.getLangSysTable(e,t,r);if(n){for(var o,s=n.featureIndexes,a=this.font.tables[this.tableName].features,c=0;c<s.length;c++)if(o=a[s[c]],o.tag===i)return o.feature;if(r){var l=a.length;return Cn.assert(0===l||i>=a[l-1].tag,"Features must be added in alphabetical order."),o={tag:i,feature:{params:0,lookupListIndexes:[]}},a.push(o),s.push(l),o.feature}}},getLookupTables:function(e,t,i,r,n){var o=this.getFeatureTable(e,t,i,n),s=[];if(o){for(var a,c=o.lookupListIndexes,l=this.font.tables[this.tableName].lookups,h=0;h<c.length;h++)a=l[c[h]],a.lookupType===r&&s.push(a);if(0===s.length&&n){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var u=l.length;return l.push(a),c.push(u),[a]}}return s},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var i=xt(e.ranges,t);return i?i.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var i=wt(e.glyphs,t);return i>=0?i:-1;case 2:var r=xt(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],i=e.ranges,r=0;r<i.length;r++)for(var n=i[r],o=n.start,s=n.end,a=o;a<=s;a++)t.push(a);return t}},St.prototype=_t.prototype,St.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},St.prototype.getKerningValue=function(e,t,i){for(var r=this,n=0;n<e.length;n++)for(var o=e[n].subtables,s=0;s<o.length;s++){var a=o[s],c=r.getCoverageIndex(a.coverage,t);if(!(c<0))switch(a.posFormat){case 1:for(var l=a.pairSets[c],h=0;h<l.length;h++){var u=l[h];if(u.secondGlyph===i)return u.value1&&u.value1.xAdvance||0}break;case 2:var d=r.getGlyphClass(a.classDef1,t),f=r.getGlyphClass(a.classDef2,i),p=a.classRecords[d][f];return p.value1&&p.value1.xAdvance||0}}return 0},St.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},Ct.prototype=_t.prototype,Ct.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ct.prototype.getSingle=function(e,t,i){for(var r=this,n=[],o=this.getLookupTables(t,i,e,1),s=0;s<o.length;s++)for(var a=o[s].subtables,c=0;c<a.length;c++){var l=a[c],h=r.expandCoverage(l.coverage),u=void 0;if(1===l.substFormat){var d=l.deltaGlyphId;for(u=0;u<h.length;u++){var f=h[u];n.push({sub:f,by:f+d})}}else{var p=l.substitute;for(u=0;u<h.length;u++)n.push({sub:h[u],by:p[u]})}}return n},Ct.prototype.getAlternates=function(e,t,i){for(var r=this,n=[],o=this.getLookupTables(t,i,e,3),s=0;s<o.length;s++)for(var a=o[s].subtables,c=0;c<a.length;c++)for(var l=a[c],h=r.expandCoverage(l.coverage),u=l.alternateSets,d=0;d<h.length;d++)n.push({sub:h[d],by:u[d]});return n},Ct.prototype.getLigatures=function(e,t,i){for(var r=this,n=[],o=this.getLookupTables(t,i,e,4),s=0;s<o.length;s++)for(var a=o[s].subtables,c=0;c<a.length;c++)for(var l=a[c],h=r.expandCoverage(l.coverage),u=l.ligatureSets,d=0;d<h.length;d++)for(var f=h[d],p=u[d],g=0;g<p.length;g++){var m=p[g];n.push({sub:[f].concat(m.components),by:m.ligGlyph})}return n},Ct.prototype.addSingle=function(e,t,i,r){var n=this.getLookupTables(i,r,e,1,!0)[0],o=Tt(n,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Cn.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=t.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.substitute.splice(a,0,0)),o.substitute[a]=t.by},Ct.prototype.addAlternate=function(e,t,i,r){var n=this.getLookupTables(i,r,e,3,!0)[0],o=Tt(n,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Cn.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=t.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=t.by},Ct.prototype.addLigature=function(e,t,i,r){var n=this.getLookupTables(i,r,e,4,!0)[0],o=n.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},n.subtables[0]=o),Cn.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=t.sub[0],a=t.sub.slice(1),c={ligGlyph:t.by,components:a},l=this.binSearch(o.coverage.glyphs,s);if(l>=0){for(var h=o.ligatureSets[l],u=0;u<h.length;u++)if(Mt(h[u].components,a))return;h.push(c)}else l=-1-l,o.coverage.glyphs.splice(l,0,s),o.ligatureSets.splice(l,0,[c])},Ct.prototype.getFeature=function(e,t,i){if(/ss\d\d/.test(e))return this.getSingle(e,t,i);switch(e){case"aalt":case"salt":return this.getSingle(e,t,i).concat(this.getAlternates(e,t,i));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,i)}},Ct.prototype.add=function(e,t,i,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,i,r);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,i,r):this.addAlternate(e,t,i,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,i,r)}};var yo,bo,wo,xo,_o={getPath:Pt,parse:Dt},So=function(e){var t=this.srPeriod,i=this.srPhase,r=this.srThreshold,n=1;return e<0&&(e=-e,n=-1),e+=r-i,e=Math.trunc(e/t)*t,e+=i,e<0?i*n:e*n},Co={x:1,y:0,axis:"x",distance:function(e,t,i,r){return(i?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,i,r){var n,o,s,a,c,l,h;return r&&r!==this?(n=r.distance(e,t,!0,!0),o=r.distance(e,i,!0,!0),c=r.distance(t,t,!1,!0),l=r.distance(i,i,!1,!0),s=Math.abs(n),a=Math.abs(o),0===(h=s+a)?void Co.setRelative(e,e,(c+l)/2,r,!0):void Co.setRelative(e,e,(c*a+l*s)/h,r,!0)):(n=e.xo-t.xo,o=e.xo-i.xo,c=t.x-t.xo,l=i.x-i.xo,s=Math.abs(n),a=Math.abs(o),0===(h=s+a)?void(e.x=e.xo+(c+l)/2):void(e.x=e.xo+(c*a+l*s)/h))},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,i,r,n){if(r&&r!==this){var o=n?t.xo:t.x,s=n?t.yo:t.y,a=o+i*r.x,c=s+i*r.y;e.x=a+(e.y-c)/r.normalSlope}else e.x=(n?t.xo:t.x)+i},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Mo={x:0,y:1,axis:"y",distance:function(e,t,i,r){return(i?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,i,r){var n,o,s,a,c,l,h;return r&&r!==this?(n=r.distance(e,t,!0,!0),o=r.distance(e,i,!0,!0),c=r.distance(t,t,!1,!0),l=r.distance(i,i,!1,!0),s=Math.abs(n),a=Math.abs(o),0===(h=s+a)?void Mo.setRelative(e,e,(c+l)/2,r,!0):void Mo.setRelative(e,e,(c*a+l*s)/h,r,!0)):(n=e.yo-t.yo,o=e.yo-i.yo,c=t.y-t.yo,l=i.y-i.yo,s=Math.abs(n),a=Math.abs(o),0===(h=s+a)?void(e.y=e.yo+(c+l)/2):void(e.y=e.yo+(c*a+l*s)/h))},normalSlope:0,setRelative:function(e,t,i,r,n){if(r&&r!==this){var o=n?t.xo:t.x,s=n?t.yo:t.y,a=o+i*r.x,c=s+i*r.y;e.y=c+r.normalSlope*(e.x-a)}else e.y=(n?t.yo:t.y)+i},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(Co),Object.freeze(Mo),Vt.prototype.distance=function(e,t,i,r){return this.x*Co.distance(e,t,i,r)+this.y*Mo.distance(e,t,i,r)},Vt.prototype.interpolate=function(e,t,i,r){var n,o,s,a,c,l,h;s=r.distance(e,t,!0,!0),a=r.distance(e,i,!0,!0),n=r.distance(t,t,!1,!0),o=r.distance(i,i,!1,!0),c=Math.abs(s),l=Math.abs(a),0!==(h=c+l)?this.setRelative(e,e,(n*l+o*c)/h,r,!0):this.setRelative(e,e,(n+o)/2,r,!0)},Vt.prototype.setRelative=function(e,t,i,r,n){r=r||this;var o=n?t.xo:t.x,s=n?t.yo:t.y,a=o+i*r.x,c=s+i*r.y,l=r.normalSlope,h=this.slope,u=e.x,d=e.y;e.x=(h*u-l*a+c-d)/(h-l),e.y=h*(e.x-u)+d},Vt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Xt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Xt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var To=Object.freeze(new Xt(0,0)),Ro={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};Ft.prototype.exec=function(e,i){if("number"!=typeof i)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==i){var o=this._fpgmState;if(!o){Yt.prototype=Ro,o=this._fpgmState=new Yt("fpgm",r.tables.fpgm),o.funcs=[],o.font=r,t.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{bo(o)}catch(t){return console.log("Hinting error in FPGM:"+t),void(this._errorState=3)}}Yt.prototype=o,n=this._prepState=new Yt("prep",r.tables.prep),n.ppem=i;var s=r.tables.cvt;if(s)for(var a=n.cvt=new Array(s.length),c=i/r.unitsPerEm,l=0;l<s.length;l++)a[l]=s[l]*c;else n.cvt=[];t.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{bo(n)}catch(t){this._errorState<2&&console.log("Hinting error in PREP:"+t),this._errorState=2}}if(!(this._errorState>1))try{return wo(e,n)}catch(t){return this._errorState<1&&(console.log("Hinting error:"+t),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},wo=function(e,i){var r,n,o,s=i.ppem/i.font.unitsPerEm,a=s,c=e.components;if(Yt.prototype=i,c){var l=i.font;n=[],r=[];for(var h=0;h<c.length;h++){var u=c[h],d=l.glyphs.get(u.glyphIndex);o=new Yt("glyf",d.instructions),t.DEBUG&&(console.log("---EXEC COMP "+h+"---"),o.step=-1),xo(d,o,s,a);for(var f=Math.round(u.dx*s),p=Math.round(u.dy*a),g=o.gZone,m=o.contours,v=0;v<g.length;v++){var y=g[v];y.xTouched=y.yTouched=!1,y.xo=y.x=y.x+f,y.yo=y.y=y.y+p}var b=n.length;n.push.apply(n,g);for(var w=0;w<m.length;w++)r.push(m[w]+b)}e.instructions&&!o.inhibitGridFit&&(o=new Yt("glyf",e.instructions),o.gZone=o.z0=o.z1=o.z2=n,o.contours=r,n.push(new Xt(0,0),new Xt(Math.round(e.advanceWidth*s),0)),t.DEBUG&&(console.log("---EXEC COMPOSITE---"),o.step=-1),bo(o),n.length-=2)}else o=new Yt("glyf",e.instructions),t.DEBUG&&(console.log("---EXEC GLYPH---"),o.step=-1),xo(e,o,s,a),n=o.gZone;return n},xo=function(e,i,r,n){for(var o,s=e.points||[],a=s.length,c=i.gZone=i.z0=i.z1=i.z2=[],l=i.contours=[],h=0;h<a;h++)o=s[h],c[h]=new Xt(o.x*r,o.y*n,o.lastPointOfContour,o.onCurve);for(var u,d,f=0;f<a;f++)o=c[f],u||(u=o,l.push(f)),o.lastPointOfContour?(o.nextPointOnContour=u,u.prevPointOnContour=o,u=void 0):(d=c[f+1],o.nextPointOnContour=d,d.prevPointOnContour=o);if(!i.inhibitGridFit){if(t.DEBUG){console.log("PROCESSING GLYPH",i.stack);for(var p=0;p<a;p++)console.log(p,c[p].x,c[p].y)}if(c.push(new Xt(0,0),new Xt(Math.round(e.advanceWidth*r),0)),bo(i),c.length-=2,t.DEBUG){console.log("FINISHED GLYPH",i.stack);for(var g=0;g<a;g++)console.log(g,c[g].x,c[g].y)}}},bo=function(e){var i=e.prog;if(i){var r,n=i.length;for(e.ip=0;e.ip<n;e.ip++){if(t.DEBUG&&e.step++,!(r=yo[i[e.ip]]))throw new Error("unknown instruction: 0x"+Number(i[e.ip]).toString(16));r(e)}}},yo=[Zt.bind(void 0,Mo),Zt.bind(void 0,Co),Qt.bind(void 0,Mo),Qt.bind(void 0,Co),Jt.bind(void 0,Mo),Jt.bind(void 0,Co),ei.bind(void 0,0),ei.bind(void 0,1),ti.bind(void 0,0),ti.bind(void 0,1),ii,ri,ni,oi,si,ai,ci,li,hi,ui,di,fi,pi,gi,mi,vi,yi,bi,wi,xi,void 0,void 0,_i,Si,Ci,Mi,Ti,ki,Li,void 0,void 0,void 0,Ri,Ei,Ai,void 0,$i.bind(void 0,0),$i.bind(void 0,1),Ii.bind(void 0,Mo),Ii.bind(void 0,Co),Ui.bind(void 0,0),Ui.bind(void 0,1),Pi.bind(void 0,0),Pi.bind(void 0,1),Oi.bind(void 0,0),Oi.bind(void 0,1),Di,Fi,Bi.bind(void 0,0),Bi.bind(void 0,1),Ni,Gi,ji.bind(void 0,0),ji.bind(void 0,1),Wi,Hi,Vi,zi,Xi,Yi,qi.bind(void 0,0),qi.bind(void 0,1),void 0,Ki.bind(void 0,0),Ki.bind(void 0,1),Zi,void 0,Qi,void 0,void 0,Ji,er,tr,ir,rr,nr,or,sr,ar,cr,lr,hr,ur,dr.bind(void 0,1),fr,pr,gr,mr,vr,yr,br,wr,xr,_r,Sr.bind(void 0,0),Sr.bind(void 0,1),Sr.bind(void 0,2),Sr.bind(void 0,3),void 0,void 0,void 0,void 0,Cr,dr.bind(void 0,2),dr.bind(void 0,3),Mr.bind(void 0,1),Mr.bind(void 0,2),Mr.bind(void 0,3),Tr,Rr,void 0,void 0,Er,void 0,kr,Lr,Si,Si,void 0,void 0,void 0,void 0,void 0,Ar,$r.bind(void 0,0),$r.bind(void 0,1),Ir,void 0,Ur,Pr,Or,Dr,Fr,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Br.bind(void 0,1),Br.bind(void 0,2),Br.bind(void 0,3),Br.bind(void 0,4),Br.bind(void 0,5),Br.bind(void 0,6),Br.bind(void 0,7),Br.bind(void 0,8),Nr.bind(void 0,1),Nr.bind(void 0,2),Nr.bind(void 0,3),Nr.bind(void 0,4),Nr.bind(void 0,5),Nr.bind(void 0,6),Nr.bind(void 0,7),Nr.bind(void 0,8),Gr.bind(void 0,0,0,0,0,0),Gr.bind(void 0,0,0,0,0,1),Gr.bind(void 0,0,0,0,0,2),Gr.bind(void 0,0,0,0,0,3),Gr.bind(void 0,0,0,0,1,0),Gr.bind(void 0,0,0,0,1,1),Gr.bind(void 0,0,0,0,1,2),Gr.bind(void 0,0,0,0,1,3),Gr.bind(void 0,0,0,1,0,0),Gr.bind(void 0,0,0,1,0,1),Gr.bind(void 0,0,0,1,0,2),Gr.bind(void 0,0,0,1,0,3),Gr.bind(void 0,0,0,1,1,0),Gr.bind(void 0,0,0,1,1,1),Gr.bind(void 0,0,0,1,1,2),Gr.bind(void 0,0,0,1,1,3),Gr.bind(void 0,0,1,0,0,0),Gr.bind(void 0,0,1,0,0,1),Gr.bind(void 0,0,1,0,0,2),Gr.bind(void 0,0,1,0,0,3),Gr.bind(void 0,0,1,0,1,0),Gr.bind(void 0,0,1,0,1,1),Gr.bind(void 0,0,1,0,1,2),Gr.bind(void 0,0,1,0,1,3),Gr.bind(void 0,0,1,1,0,0),Gr.bind(void 0,0,1,1,0,1),Gr.bind(void 0,0,1,1,0,2),Gr.bind(void 0,0,1,1,0,3),Gr.bind(void 0,0,1,1,1,0),Gr.bind(void 0,0,1,1,1,1),Gr.bind(void 0,0,1,1,1,2),Gr.bind(void 0,0,1,1,1,3),Gr.bind(void 0,1,0,0,0,0),Gr.bind(void 0,1,0,0,0,1),Gr.bind(void 0,1,0,0,0,2),Gr.bind(void 0,1,0,0,0,3),Gr.bind(void 0,1,0,0,1,0),Gr.bind(void 0,1,0,0,1,1),Gr.bind(void 0,1,0,0,1,2),Gr.bind(void 0,1,0,0,1,3),Gr.bind(void 0,1,0,1,0,0),Gr.bind(void 0,1,0,1,0,1),Gr.bind(void 0,1,0,1,0,2),Gr.bind(void 0,1,0,1,0,3),Gr.bind(void 0,1,0,1,1,0),Gr.bind(void 0,1,0,1,1,1),Gr.bind(void 0,1,0,1,1,2),Gr.bind(void 0,1,0,1,1,3),Gr.bind(void 0,1,1,0,0,0),Gr.bind(void 0,1,1,0,0,1),Gr.bind(void 0,1,1,0,0,2),Gr.bind(void 0,1,1,0,0,3),Gr.bind(void 0,1,1,0,1,0),Gr.bind(void 0,1,1,0,1,1),Gr.bind(void 0,1,1,0,1,2),Gr.bind(void 0,1,1,0,1,3),Gr.bind(void 0,1,1,1,0,0),Gr.bind(void 0,1,1,1,0,1),Gr.bind(void 0,1,1,1,0,2),Gr.bind(void 0,1,1,1,0,3),Gr.bind(void 0,1,1,1,1,0),Gr.bind(void 0,1,1,1,1,1),Gr.bind(void 0,1,1,1,1,2),Gr.bind(void 0,1,1,1,1,3)];var Eo=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};jr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},jr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},jr.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),i=this.glyphs.get(t);return i||(i=this.glyphs.get(0)),i},jr.prototype.stringToGlyphs=function(e,t){var i=this;t=t||this.defaultRenderOptions;for(var r=Eo(e),n=[],o=0;o<r.length;o+=1){var s=r[o];n.push(i.charToGlyphIndex(s))}var a=n.length;if(t.features){var c=t.script||this.substitution.getDefaultScriptName(),l=[];t.features.liga&&(l=l.concat(this.substitution.getFeature("liga",c,t.language))),t.features.rlig&&(l=l.concat(this.substitution.getFeature("rlig",c,t.language)));for(var h=0;h<a;h+=1)for(var u=0;u<l.length;u++){for(var d=l[u],f=d.sub,p=f.length,g=0;g<p&&f[g]===n[h+g];)g++;g===p&&(n.splice(h,p,d.by),a=a-p+1)}}for(var m=new Array(a),v=this.glyphs.get(0),y=0;y<a;y+=1)m[y]=i.glyphs.get(n[y])||v;return m},jr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},jr.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),i=this.glyphs.get(t);return i||(i=this.glyphs.get(0)),i},jr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},jr.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var i=this.position.defaultKerningTables;return i?this.position.getKerningValue(i,e,t):this.kerningPairs[e+","+t]||0},jr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},jr.prototype.forEachGlyph=function(e,t,i,r,n,o){var s=this;t=void 0!==t?t:0,i=void 0!==i?i:0,r=void 0!==r?r:72,n=n||this.defaultRenderOptions;var a,c=1/this.unitsPerEm*r,l=this.stringToGlyphs(e,n);if(n.kerning){var h=n.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(h,n.language)}for(var u=0;u<l.length;u+=1){var d=l[u];o.call(s,d,t,i,r,n),d.advanceWidth&&(t+=d.advanceWidth*c),n.kerning&&u<l.length-1&&(t+=(a?s.position.getKerningValue(a,d.index,l[u+1].index):s.getKerningValue(d,l[u+1]))*c),n.letterSpacing?t+=n.letterSpacing*r:n.tracking&&(t+=n.tracking/1e3*r)}return t},jr.prototype.getPath=function(e,t,i,r,n){var o=new v;return this.forEachGlyph(e,t,i,r,n,function(e,t,i,r){var s=e.getPath(t,i,r,n,this);o.extend(s)}),o},jr.prototype.getPaths=function(e,t,i,r,n){var o=[];return this.forEachGlyph(e,t,i,r,n,function(e,t,i,r){var s=e.getPath(t,i,r,n,this);o.push(s)}),o},jr.prototype.getAdvanceWidth=function(e,t,i){return this.forEachGlyph(e,0,0,t,i,function(){})},jr.prototype.draw=function(e,t,i,r,n,o){this.getPath(t,i,r,n,o).draw(e)},jr.prototype.drawPoints=function(e,t,i,r,n,o){this.forEachGlyph(t,i,r,n,o,function(t,i,r,n){t.drawPoints(e,i,r,n)})},jr.prototype.drawMetrics=function(e,t,i,r,n,o){this.forEachGlyph(t,i,r,n,o,function(t,i,r,n){t.drawMetrics(e,i,r,n)})},jr.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},jr.prototype.validate=function(){function e(e,t){}function t(t){var r=i.getEnglishName(t);e(r&&r.trim().length>0,"No English "+t+" specified.")}var i=this;t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),e(this.unitsPerEm>0,"No unitsPerEm specified.")},jr.prototype.toTables=function(){return vo.fontToTable(this)},jr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},jr.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),i=new ArrayBuffer(t.length),r=new Uint8Array(i),n=0;n<t.length;n++)r[n]=t[n];return i},jr.prototype.download=function(t){var i=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");t=t||i.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if(Rt())window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,n.byteLength,function(e){e.root.getFile(t,{create:!0},function(e){e.createWriter(function(t){var i=new DataView(n),r=new Blob([i],{type:"font/opentype"});t.write(r),t.addEventListener("writeend",function(){location.href=e.toURL()},!1)})})},function(e){throw new Error(e.name+": "+e.message)});else{var o=e("fs"),s=kt(n);o.writeFileSync(t,s)}},jr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},jr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},jr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ko={make:Yr,parse:qr},Lo=new Array(10);Lo[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(j.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(j.coverage),values:this.parseValueRecordList()}:void Cn.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Lo[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();Cn.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var i=this.parsePointer(j.coverage),r=this.parseUShort(),n=this.parseUShort();if(1===t)return{posFormat:t,coverage:i,valueFormat1:r,valueFormat2:n,pairSets:this.parseList(j.pointer(j.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(n)}})))};if(2===t){var o=this.parsePointer(j.classDef),s=this.parsePointer(j.classDef),a=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:i,valueFormat1:r,valueFormat2:n,classDef1:o,classDef2:s,class1Count:a,class2Count:c,classRecords:this.parseList(a,j.list(c,function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(n)}}))}}},Lo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Lo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Lo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Lo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Lo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Lo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Lo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Ao=new Array(10),$o={parse:Kr,make:Zr},Io={parse:en},Uo={parse:tn};t.Font=jr,t.Glyph=ie,t.Path=v,t.BoundingBox=m,t._parse=Fn,t.parse=cn,t.load=ln,t.loadSync=hn,Object.defineProperty(t,"__esModule",{value:!0})})}).call(this,e("buffer").Buffer)},{buffer:3,fs:2}],11:[function(e,t,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function s(e){if(d===clearTimeout)return clearTimeout(e);if((d===n||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?g=p.concat(g):v=-1,g.length&&c())}function c(){if(!m){var e=o(a);m=!0;for(var t=g.length;t;){for(p=g,g=[];++v<t;)p&&p[v].run();v=-1,t=g.length}p=null,m=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function h(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{d="function"==typeof clearTimeout?clearTimeout:n}catch(e){d=n}}();var p,g=[],m=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];g.push(new l(e,t)),1!==g.length||m||o(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=h,f.addListener=h,f.once=h,f.off=h,f.removeListener=h,f.removeAllListeners=h,f.emit=h,f.prependListener=h,f.prependOnceListener=h,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],12:[function(e,t,i){!function(e){function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function a(e){var t=new FileReader,i=s(t);return t.readAsArrayBuffer(e),i}function c(e){var t=new FileReader,i=s(t);return t.readAsText(e),i}function l(e){for(var t=new Uint8Array(e),i=new Array(t.length),r=0;r<t.length;r++)i[r]=String.fromCharCode(t[r]);return i.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return x.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var i=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),r=i.shift().replace(/\+/g," "),n=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(n))}}),t}function g(e){var t=new n;return e.split(/\r?\n/).forEach(function(e){var i=e.split(":"),r=i.shift().trim();if(r){var n=i.join(":").trim();t.append(r,n)}}),t}function m(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,r){e=t(e),r=i(r);var n=this.map[e];this.map[e]=n?n+","+r:r},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,r){this.map[t(e)]=i(r)},n.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),r(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),r(e)},v.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},u.call(f.prototype),u.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];m.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=f,e.Response=m,e.fetch=function(e,t){return new Promise(function(i,r){var n=new f(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:g(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;i(new m(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(n.method,n.url,!0),"include"===n.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),n.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],13:[function(e,t,i){var r=e("./core/main");e("./core/constants"),e("./core/environment"),e("./core/error_helpers"),e("./core/helpers"),e("./core/legacy"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),t.exports=r},{"./color/color_conversion":14,"./color/creating_reading":15,"./color/p5.Color":16,"./color/setting":17,"./core/constants":18,"./core/environment":19,"./core/error_helpers":20,"./core/helpers":21,"./core/init":22,"./core/legacy":23,"./core/main":24,"./core/p5.Element":25,"./core/p5.Graphics":26,"./core/p5.Renderer":27,"./core/p5.Renderer2D":28,"./core/rendering":29,"./core/shape/2d_primitives":30,"./core/shape/attributes":31,"./core/shape/curves":32,"./core/shape/vertex":33,"./core/shim":34,"./core/structure":35,"./core/transform":36,"./data/p5.TypedDict":37,"./events/acceleration":38,"./events/keyboard":39,"./events/mouse":40,"./events/touch":41,"./image/filters":42,"./image/image":43,"./image/loading_displaying":44,"./image/p5.Image":45,"./image/pixels":46,"./io/files":47,"./io/p5.Table":48,"./io/p5.TableRow":49,"./io/p5.XML":50,"./math/calculation":51,"./math/math":52,"./math/noise":53,"./math/p5.Vector":54,"./math/random":55,"./math/trigonometry":56,"./typography/attributes":57,"./typography/loading_displaying":58,"./typography/p5.Font":59,"./utilities/array_functions":60,"./utilities/conversion":61,"./utilities/string_functions":62,"./utilities/time_date":63,"./webgl/3d_primitives":64,"./webgl/interaction":65,"./webgl/light":66,"./webgl/loading":67,"./webgl/material":68,"./webgl/p5.Camera":69,"./webgl/p5.Geometry":70,"./webgl/p5.Matrix":71,"./webgl/p5.RendererGL":74,"./webgl/p5.RendererGL.Immediate":72,"./webgl/p5.RendererGL.Retained":73,"./webgl/p5.Shader":75,"./webgl/p5.Texture":76,"./webgl/text":77}],14:[function(e,t,i){var r=e("../core/main");r.ColorConversion={},r.ColorConversion._hsbaToHSLA=function(e){var t=e[0],i=e[1],r=e[2],n=(2-i)*r/2;return 0!==n&&(1===n?i=0:n<.5?i/=2-i:i=i*r/(2-2*n)),[t,i,n,e[3]]},r.ColorConversion._hsbaToRGBA=function(e){var t=6*e[0],i=e[1],r=e[2],n=[];if(0===i)n=[r,r,r,e[3]];else{var o,s,a,c=Math.floor(t),l=r*(1-i),h=r*(1-i*(t-c)),u=r*(1-i*(1+c-t));1===c?(o=h,s=r,a=l):2===c?(o=l,s=r,a=u):3===c?(o=l,s=h,a=r):4===c?(o=u,s=l,a=r):5===c?(o=r,s=l,a=h):(o=r,s=u,a=l),n=[o,s,a,e[3]]}return n},r.ColorConversion._hslaToHSBA=function(e){var t,i=e[0],r=e[1],n=e[2];return t=n<.5?(1+r)*n:n+r-n*r,r=2*(t-n)/t,[i,r,t,e[3]]},r.ColorConversion._hslaToRGBA=function(e){var t=6*e[0],i=e[1],r=e[2],n=[];if(0===i)n=[r,r,r,e[3]];else{var o;o=r<.5?(1+i)*r:r+i-r*i;var s=2*r-o,a=function(e,t,i){return e<0?e+=6:e>=6&&(e-=6),e<1?t+(i-t)*e:e<3?i:e<4?t+(i-t)*(4-e):t};n=[a(t+2,s,o),a(t,s,o),a(t-2,s,o),e[3]]}return n},r.ColorConversion._rgbaToHSBA=function(e){var t,i,r=e[0],n=e[1],o=e[2],s=Math.max(r,n,o),a=s-Math.min(r,n,o);return 0===a?(t=0,i=0):(i=a/s,r===s?t=(n-o)/a:n===s?t=2+(o-r)/a:o===s&&(t=4+(r-n)/a),t<0?t+=6:t>=6&&(t-=6)),[t/6,i,s,e[3]]},r.ColorConversion._rgbaToHSLA=function(e){var t,i,r=e[0],n=e[1],o=e[2],s=Math.max(r,n,o),a=Math.min(r,n,o),c=s+a,l=s-a;return 0===l?(t=0,i=0):(i=c<1?l/c:l/(2-c),r===s?t=(n-o)/l:n===s?t=2+(o-r)/l:o===s&&(t=4+(r-n)/l),t<0?t+=6:t>=6&&(t-=6)),[t/6,i,c/2,e[3]]},t.exports=r.ColorConversion},{"../core/main":24}],15:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");e("./p5.Color"),e("../core/error_helpers"),r.prototype.alpha=function(e){return r._validateParameters("alpha",arguments),this.color(e)._getAlpha()},r.prototype.blue=function(e){return r._validateParameters("blue",arguments),this.color(e)._getBlue()},r.prototype.brightness=function(e){return r._validateParameters("brightness",arguments),this.color(e)._getBrightness()},r.prototype.color=function(){if(r._validateParameters("color",arguments),arguments[0]instanceof r.Color)return arguments[0];var e=arguments[0]instanceof Array?arguments[0]:arguments;return new r.Color(this,e)},r.prototype.green=function(e){return r._validateParameters("green",arguments),this.color(e)._getGreen()},r.prototype.hue=function(e){return r._validateParameters("hue",arguments),this.color(e)._getHue()},r.prototype.lerpColor=function(e,t,i){r._validateParameters("lerpColor",arguments);var o,s,a,c,l,h,u=this._colorMode,d=this._colorMaxes;if(u===n.RGB)l=e.levels.map(function(e){return e/255}),h=t.levels.map(function(e){return e/255});else if(u===n.HSB)e._getBrightness(),t._getBrightness(),l=e.hsba,h=t.hsba;else{if(u!==n.HSL)throw new Error(u+"cannot be used for interpolation.");e._getLightness(),t._getLightness(),l=e.hsla,h=t.hsla}return i=Math.max(Math.min(i,1),0),void 0===this.lerp&&(this.lerp=function(e,t,i){return i*(t-e)+e}),o=this.lerp(l[0],h[0],i),s=this.lerp(l[1],h[1],i),a=this.lerp(l[2],h[2],i),c=this.lerp(l[3],h[3],i),o*=d[u][0],s*=d[u][1],a*=d[u][2],c*=d[u][3],this.color(o,s,a,c)},r.prototype.lightness=function(e){return r._validateParameters("lightness",arguments),this.color(e)._getLightness()},r.prototype.red=function(e){return r._validateParameters("red",arguments),this.color(e)._getRed()},r.prototype.saturation=function(e){return r._validateParameters("saturation",arguments),this.color(e)._getSaturation()},t.exports=r},{"../core/constants":18,"../core/error_helpers":20,"../core/main":24,"./p5.Color":16}],16:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants"),o=e("./color_conversion");r.Color=function(e,t){if(this._storeModeAndMaxes(e._colorMode,e._colorMaxes),this.mode!==n.RGB&&this.mode!==n.HSL&&this.mode!==n.HSB)throw new Error(this.mode+" is an invalid colorMode.");return this._array=r.Color._parseInputs.apply(this,t),this._calculateLevels(),this},r.Color.prototype.toString=function(e){this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsla||(this.hsla=o._rgbaToHSLA(this._array));var t=this.levels,i=this._array,r=i[3];switch(e){case"#rrggbb":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16));case"#rrggbbaa":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16),t[3]<16?"0".concat(t[2].toString(16)):t[3].toString(16));case"#rgb":return"#".concat(Math.round(15*i[0]).toString(16),Math.round(15*i[1]).toString(16),Math.round(15*i[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*i[0]).toString(16),Math.round(15*i[1]).toString(16),Math.round(15*i[2]).toString(16),Math.round(15*i[3]).toString(16));case"rgb":return"rgb(".concat(t[0],", ",t[1],", ",t[2],")");case"rgb%":return"rgb(".concat((100*i[0]).toPrecision(3),"%, ",(100*i[1]).toPrecision(3),"%, ",(100*i[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*i[0]).toPrecision(3),"%, ",(100*i[1]).toPrecision(3),"%, ",(100*i[2]).toPrecision(3),"%, ",(100*i[3]).toPrecision(3),"%)");case"hsb":case"hsv":return"hsb(".concat(this.hsba[0]*this.maxes[n.HSB][0],", ",this.hsba[1]*this.maxes[n.HSB][1],", ",this.hsba[2]*this.maxes[n.HSB][2],")");case"hsb%":case"hsv%":return"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return"hsba(".concat(this.hsba[0]*this.maxes[n.HSB][0],", ",this.hsba[1]*this.maxes[n.HSB][1],", ",this.hsba[2]*this.maxes[n.HSB][2],", ",r,")");case"hsba%":case"hsva%":return"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");case"hsl":return"hsl(".concat(this.hsla[0]*this.maxes[n.HSL][0],", ",this.hsla[1]*this.maxes[n.HSL][1],", ",this.hsla[2]*this.maxes[n.HSL][2],")");case"hsl%":return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return"hsla(".concat(this.hsla[0]*this.maxes[n.HSL][0],", ",this.hsla[1]*this.maxes[n.HSL][1],", ",this.hsla[2]*this.maxes[n.HSL][2],", ",r,")");case"hsla%":return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");case"rgba":default:return"rgba("+t[0]+","+t[1]+","+t[2]+","+r+")"}},r.Color.prototype.setRed=function(e){this._array[0]=e/this.maxes[n.RGB][0],this._calculateLevels()},r.Color.prototype.setGreen=function(e){this._array[1]=e/this.maxes[n.RGB][1],this._calculateLevels()},r.Color.prototype.setBlue=function(e){this._array[2]=e/this.maxes[n.RGB][2],this._calculateLevels()},r.Color.prototype.setAlpha=function(e){this._array[3]=e/this.maxes[this.mode][3],this._calculateLevels()},r.Color.prototype._calculateLevels=function(){for(var e=this._array,t=this.levels=new Array(e.length),i=e.length-1;i>=0;--i)t[i]=Math.round(255*e[i])},r.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},r.Color.prototype._storeModeAndMaxes=function(e,t){this.mode=e,this.maxes=t},r.Color.prototype._getMode=function(){return this.mode},r.Color.prototype._getMaxes=function(){return this.maxes},r.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[n.RGB][2]},r.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[n.HSB][2]},r.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[n.RGB][1]},r.Color.prototype._getHue=function(){return this.mode===n.HSB?(this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[n.HSB][0]):(this.hsla||(this.hsla=o._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[n.HSL][0])},r.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=o._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[n.HSL][2]},r.Color.prototype._getRed=function(){return this._array[0]*this.maxes[n.RGB][0]},r.Color.prototype._getSaturation=function(){return this.mode===n.HSB?(this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[n.HSB][1]):(this.hsla||(this.hsla=o._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[n.HSL][1])};var s={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},a=/\s*/,c=/(\d{1,3})/,l=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp(l.source+"%"),u={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",c.source,",",c.source,",",c.source,"\\)$"].join(a.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(a.source),"i"),RGBA:new RegExp(["^rgba\\(",c.source,",",c.source,",",c.source,",",l.source,"\\)$"].join(a.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",l.source,"\\)$"].join(a.source),"i"),HSL:new RegExp(["^hsl\\(",c.source,",",h.source,",",h.source,"\\)$"].join(a.source),"i"),HSLA:new RegExp(["^hsla\\(",c.source,",",h.source,",",h.source,",",l.source,"\\)$"].join(a.source),"i"),HSB:new RegExp(["^hsb\\(",c.source,",",h.source,",",h.source,"\\)$"].join(a.source),"i"),HSBA:new RegExp(["^hsba\\(",c.source,",",h.source,",",h.source,",",l.source,"\\)$"].join(a.source),"i")};r.Color._parseInputs=function(e,t,i,a){var c,l=arguments.length,h=this.mode,d=this.maxes[h],f=[];if(l>=3){for(f[0]=e/d[0],f[1]=t/d[1],f[2]=i/d[2],f[3]="number"==typeof a?a/d[3]:1,c=f.length-1;c>=0;--c){var p=f[c];p<0?f[c]=0:p>1&&(f[c]=1)}return h===n.HSL?o._hslaToRGBA(f):h===n.HSB?o._hsbaToRGBA(f):f}if(1===l&&"string"==typeof e){var g=e.trim().toLowerCase();if(s[g])return r.Color._parseInputs.call(this,s[g]);if(u.HEX3.test(g))return f=u.HEX3.exec(g).slice(1).map(function(e){return parseInt(e+e,16)/255}),f[3]=1,f;if(u.HEX6.test(g))return f=u.HEX6.exec(g).slice(1).map(function(e){return parseInt(e,16)/255}),f[3]=1,f;if(u.HEX4.test(g))return u.HEX4.exec(g).slice(1).map(function(e){return parseInt(e+e,16)/255});if(u.HEX8.test(g))return u.HEX8.exec(g).slice(1).map(function(e){return parseInt(e,16)/255});if(u.RGB.test(g))return f=u.RGB.exec(g).slice(1).map(function(e){return e/255}),f[3]=1,f;if(u.RGB_PERCENT.test(g))return f=u.RGB_PERCENT.exec(g).slice(1).map(function(e){return parseFloat(e)/100}),f[3]=1,f;if(u.RGBA.test(g))return u.RGBA.exec(g).slice(1).map(function(e,t){return 3===t?parseFloat(e):e/255});if(u.RGBA_PERCENT.test(g))return u.RGBA_PERCENT.exec(g).slice(1).map(function(e,t){return 3===t?parseFloat(e):parseFloat(e)/100});if(u.HSL.test(g)?(f=u.HSL.exec(g).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100}),f[3]=1):u.HSLA.test(g)&&(f=u.HSLA.exec(g).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100})),f=f.map(function(e){return Math.max(Math.min(e,1),0)}),f.length)return o._hslaToRGBA(f);if(u.HSB.test(g)?(f=u.HSB.exec(g).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100}),f[3]=1):u.HSBA.test(g)&&(f=u.HSBA.exec(g).slice(1).map(function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100})),f.length){for(c=f.length-1;c>=0;--c)f[c]=Math.max(Math.min(f[c],1),0);return o._hsbaToRGBA(f)}f=[1,1,1,1]}else{if(1!==l&&2!==l||"number"!=typeof e)throw new Error(arguments+"is not a valid color representation.");f[0]=e/d[2],f[1]=e/d[2],f[2]=e/d[2],f[3]="number"==typeof t?t/d[3]:1,f=f.map(function(e){return Math.max(Math.min(e,1),0)})}return f},t.exports=r.Color},{"../core/constants":18,"../core/main":24,"./color_conversion":14}],17:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");e("./p5.Color"),r.prototype.background=function(){return arguments[0]instanceof r.Image?this.image(arguments[0],0,0,this.width,this.height):this._renderer.background.apply(this._renderer,arguments),this},r.prototype.clear=function(){return this._renderer.clear(),this},r.prototype.colorMode=function(e,t,i,o,s){if(r._validateParameters("colorMode",arguments),e===n.RGB||e===n.HSB||e===n.HSL){this._colorMode=e;var a=this._colorMaxes[e];2===arguments.length?(a[0]=t,a[1]=t,a[2]=t,a[3]=t):4===arguments.length?(a[0]=t,a[1]=i,a[2]=o):5===arguments.length&&(a[0]=t,a[1]=i,a[2]=o,a[3]=s)}return this},r.prototype.fill=function(){return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),this._renderer.fill.apply(this._renderer,arguments),this},r.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},r.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},r.prototype.stroke=function(){return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),this._renderer.stroke.apply(this._renderer,arguments),this},t.exports=r},{"../core/constants":18,"../core/main":24,"./p5.Color":16}],18:[function(e,t,i){var r=Math.PI;t.exports={P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:r/2,PI:r,QUARTER_PI:r/4,TAU:2*r,TWO_PI:2*r,DEGREES:"degrees",RADIANS:"radians",DEG_TO_RAD:r/180,RAD_TO_DEG:180/r,CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:0,LINES:1,LINE_STRIP:3,LINE_LOOP:2,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"source-over",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"copy",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",STROKE:"stroke",FILL:"fill",TEXTURE:"texture",IMMEDIATE:"immediate",NEAREST:"nearest",REPEAT:"repeat",CLAMP:"clamp",MIRROR:"mirror",LANDSCAPE:"landscape",PORTRAIT:"portrait",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF",GRID:"grid",AXES:"axes"}},{}],19:[function(e,t,i){function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function n(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}function o(e){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function s(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}var a=e("./main"),c=e("./constants"),l=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT];a.prototype._frameRate=0,a.prototype._lastFrameTime=window.performance.now(),a.prototype._targetFrameRate=60;var h=window.print;a.prototype.print=function(){arguments.length?console.log.apply(console,arguments):h()},a.prototype.frameCount=0,a.prototype.focused=document.hasFocus(),a.prototype.cursor=function(e,t,i){var r="auto",n=this._curElement.elt;if(l.indexOf(e)>-1)r=e;else if("string"==typeof e){var o="";t&&i&&"number"==typeof t&&"number"==typeof i&&(o=t+" "+i),r="http://"===e.substring(0,7)||"https://"===e.substring(0,8)?"url("+e+") "+o+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url("+e+") "+o+", auto":e}n.style.cursor=r},a.prototype.frameRate=function(e){return a._validateParameters("frameRate",arguments),"number"!=typeof e||e<0?this._frameRate:(this._setProperty("_targetFrameRate",e),this._runFrames(),this)},a.prototype.getFrameRate=function(){return this.frameRate()},a.prototype.setFrameRate=function(e){return this.frameRate(e)},a.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},a.prototype.displayWidth=screen.width,a.prototype.displayHeight=screen.height,a.prototype.windowWidth=r(),a.prototype.windowHeight=n(),a.prototype._onresize=function(e){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",n());var t,i=this._isGlobal?window:this;"function"==typeof i.windowResized&&(void 0===(t=i.windowResized(e))||t||e.preventDefault())},a.prototype.width=0,a.prototype.height=0,a.prototype.fullscreen=function(e){if(a._validateParameters("fullscreen",arguments),void 0===e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;e?o(document.documentElement):s()},a.prototype.pixelDensity=function(e){var t;return a._validateParameters("pixelDensity",arguments),"number"==typeof e?(e!==this._pixelDensity&&(this._pixelDensity=e,this._pixelsDirty=!0),t=this,this.resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},a.prototype.displayDensity=function(){return window.devicePixelRatio},a.prototype.getURL=function(){return location.href},a.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(e){return""!==e})},a.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,i={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,i[e[1]]=e[2];return i},t.exports=a},{"./constants":18,"./main":24}],20:[function(e,t,i){var r=e("./main");e("./constants"),r._validateParameters=r._friendlyFileLoadError=function(){};var n=null,o="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup",s=function(){var t={},i=function(e){return Object.getOwnPropertyNames(e).filter(function(e){return"_"!==e[0]&&!(e in t)&&(t[e]=!0,!0)}).map(function(t){var i;return i="function"==typeof e[t]?"function":t===t.toUpperCase()?"constant":"variable",{name:t,type:i}})};n=[].concat(i(r.prototype),i(e("./constants"))),n.sort(function(e,t){return t.name.length-e.name.length})},a=function(e,t){t||(t=console.log.bind(console)),n||s(),n.some(function(i){if(e.message&&null!==e.message.match("\\W?"+i.name+"\\W"))return t("Did you just try to use p5.js's "+i.name+("function"===i.type?"() ":" ")+i.type+"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: "+o),!0})};r.prototype._helpForMisusedAtTopLevelCode=a,"complete"!==document.readyState&&(window.addEventListener("error",a,!1),window.addEventListener("load",function(){window.removeEventListener("error",a,!1)})),t.exports=r},{"../../docs/reference/data.json":void 0,"./constants":18,"./main":24}],21:[function(e,t,i){var r=e("./constants");t.exports={modeAdjust:function(e,t,i,n,o){return o===r.CORNER?{x:e,y:t,w:i,h:n}:o===r.CORNERS?{x:e,y:t,w:i-e,h:n-t}:o===r.RADIUS?{x:e-i,y:t-n,w:2*i,h:2*n}:o===r.CENTER?{x:e-.5*i,y:t-.5*n,w:i,h:n}:void 0}}},{"./constants":18}],22:[function(e,t,i){var r=e("../core/main"),n=function(){window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!r.instance&&new r};"complete"===document.readyState?n():window.addEventListener("load",n,!1)},{"../core/main":24}],23:[function(e,t,i){var r=e("./main");r.prototype.exit=function(){throw new Error("exit() not implemented, see remove()")},r.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.prototype.size=function(){var e="size() is not a valid p5 function, to set the size of the ";throw e+="drawing canvas, please use createCanvas() instead",new Error(e)},t.exports=r},{"./main":24}],24:[function(e,t,i){e("./shim");var r=e("./constants"),n=function(e,t,i){"boolean"==typeof t&&void 0===i&&(i=t,t=void 0),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=t,this._curElement=null,this._elements=[],this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};for(var r=Object.getOwnPropertyNames(n.prototype._registeredMethods),o=0;o<r.length;o++){var s=r[o];this._registeredMethods[s]=n.prototype._registeredMethods[s].slice()}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode));var e=this._isGlobal?window:this,t=e.preload;if(t){var i=document.getElementById(this._loadingScreenId);i||(i=document.createElement("div"),i.innerHTML="Loading...",i.style.position="absolute",i.id=this._loadingScreenId,(this._userNode||document.body).appendChild(i));var r=this._preloadMethods;for(var o in r){r[o]=r[o]||n;var s=r[o];s!==n.prototype&&s!==n||(this._isGlobal&&(window[o]=this._wrapPreload(this,o)),s=this),this._registeredPreloadMethods[o]=s[o],s[o]=this._wrapPreload(s,o)}t(),this._runIfPreloadsAreDone()}else this._setup(),this._runFrames(),this._draw()}.bind(this),this._runIfPreloadsAreDone=function(){var e=this._isGlobal?window:this;if(0===e._preloadCount){var t=document.getElementById(e._loadingScreenId);t&&t.parentNode.removeChild(t),e._setup(),e._runFrames(),e._draw()}},this._decrementPreload=function(){var e=this._isGlobal?window:this;"function"==typeof e.preload&&(e._setProperty("_preloadCount",e._preloadCount-1),e._runIfPreloadsAreDone())},this._wrapPreload=function(e,t){return function(){return this._incrementPreload(),this._registeredPreloadMethods[t].apply(e,arguments)}.bind(this)},this._incrementPreload=function(){var e=this._isGlobal?window:this;e._setProperty("_preloadCount",e._preloadCount+1)},this._setup=function(){this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d");var e=this._isGlobal?window:this;if("function"==typeof e.preload)for(var t in this._preloadMethods)e[t]=this._preloadMethods[t][t],e[t]&&this&&(e[t]=e[t].bind(this));"function"==typeof e.setup&&e.setup();for(var i=document.getElementsByTagName("canvas"),r=0;r<i.length;r++){var n=i[r];"true"===n.dataset.hidden&&(n.style.visibility="",delete n.dataset.hidden)}this._setupDone=!0}.bind(this),this._draw=function(){var e=window.performance.now(),t=e-this._lastFrameTime,i=1e3/this._targetFrameRate;(!this._loop||t>=i-5)&&(this.redraw(),this._frameRate=1e3/(e-this._lastFrameTime),this._lastFrameTime=e,void 0!==this._updateMouseCoords&&this._updateMouseCoords()),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(e,t){this[e]=t,this._isGlobal&&(window[e]=t)}.bind(this),this.remove=function(){var e=document.getElementById(this._loadingScreenId);if(e&&(e.parentNode.removeChild(e),this._incrementPreload()),this._curElement){for(var t in this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._events)window.removeEventListener(t,this._events[t]);for(var i=0;i<this._elements.length;i++){var r=this._elements[i];for(var o in r.elt.parentNode&&r.elt.parentNode.removeChild(r.elt),r._events)r.elt.removeEventListener(o,r._events[o])}var s=this;this._registeredMethods.remove.forEach(function(e){void 0!==e&&e.call(s)})}if(this._isGlobal){for(var a in n.prototype)try{delete window[a]}catch(e){window[a]=void 0}for(var c in this)if(this.hasOwnProperty(c))try{delete window[c]}catch(e){window[c]=void 0}n.instance=null}}.bind(this),this._registeredMethods.init.forEach(function(e){void 0!==e&&e.call(this)},this);var a=this._createFriendlyGlobalFunctionBinder();if(e)e(this);else{for(var c in this._isGlobal=!0,n.instance=this,n.prototype)if("function"==typeof n.prototype[c]){var l=c.substring(2);this._events.hasOwnProperty(l)||(Math.hasOwnProperty(c)&&Math[c]===n.prototype[c]?a(c,n.prototype[c]):a(c,n.prototype[c].bind(this)))}else a(c,n.prototype[c]);for(var h in this)this.hasOwnProperty(h)&&a(h,this[h])}for(var u in this._events){var d=this["_on"+u];if(d){var f=d.bind(this);window.addEventListener(u,f,{passive:!1}),this._events[u]=f}}var p=function(){this._setProperty("focused",!0)}.bind(this),g=function(){this._setProperty("focused",!1)}.bind(this);window.addEventListener("focus",p),window.addEventListener("blur",g),this.registerMethod("remove",function(){window.removeEventListener("focus",p),window.removeEventListener("blur",g)}),i?this._start():"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};for(var o in n.prototype._initializeInstanceVariables=function(){this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=r.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._pixelsDirty=!0},n.instance=null,n.disableFriendlyErrors=!1,r)n.prototype[o]=r[o];n.prototype._preloadMethods={loadJSON:n.prototype,loadImage:n.prototype,loadStrings:n.prototype,loadXML:n.prototype,loadBytes:n.prototype,loadTable:n.prototype,loadFont:n.prototype,loadModel:n.prototype,loadShader:n.prototype},n.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},n.prototype._registeredPreloadMethods={},n.prototype.registerPreloadMethod=function(e,t){n.prototype._preloadMethods.hasOwnProperty(e)||(n.prototype._preloadMethods[e]=t)},n.prototype.registerMethod=function(e,t){var i=this||n.prototype;i._registeredMethods.hasOwnProperty(e)||(i._registeredMethods[e]=[]),i._registeredMethods[e].push(t)},n.prototype._createFriendlyGlobalFunctionBinder=function(e){e=e||{};var t=e.globalObject||window;e.log||console.log.bind(console);return function(e,i){t[e]=i}},t.exports=n},{"./constants":18,"./shim":34}],25:[function(e,t,i){function r(e,t,i){return!1===t?o(e,i):n(e,t,i),this}function n(e,t,i){i._events[e]&&o(e,i);var r=t.bind(i);i.elt.addEventListener(e,r,!1),i._events[e]=r}function o(e,t){var i=t._events[e];t.elt.removeEventListener(e,i,!1),t._events[e]=null}var s=e("./main");s.Element=function(e,t){this.elt=e,this._pInst=t,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},s.Element.prototype.parent=function(e){return void 0===e?this.elt.parentNode:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof s.Element&&(e=e.elt),e.appendChild(this.elt),this)},s.Element.prototype.id=function(e){return void 0===e?this.elt.id:(this.elt.id=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},s.Element.prototype.class=function(e){return void 0===e?this.elt.className:(this.elt.className=e,this)},s.Element.prototype.mousePressed=function(e){return r("mousedown",function(t){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(t),e()},this),this},s.Element.prototype.doubleClicked=function(e){return r("dblclick",e,this),this},s.Element.prototype.mouseWheel=function(e){return r("wheel",e,this),this},s.Element.prototype.mouseReleased=function(e){return r("mouseup",e,this),this},s.Element.prototype.mouseClicked=function(e){return r("click",e,this),this},s.Element.prototype.mouseMoved=function(e){return r("mousemove",e,this),this},s.Element.prototype.mouseOver=function(e){return r("mouseover",e,this),this},s.Element.prototype.changed=function(e){return r("change",e,this),this},s.Element.prototype.input=function(e){return r("input",e,this),this},s.Element.prototype.mouseOut=function(e){return r("mouseout",e,this),this},s.Element.prototype.touchStarted=function(e){return r("touchstart",e,this),this},s.Element.prototype.touchMoved=function(e){return r("touchmove",e,this),this},s.Element.prototype.touchEnded=function(e){return r("touchend",e,this),this},s.Element.prototype.dragOver=function(e){return r("dragover",e,this),this},s.Element.prototype.dragLeave=function(e){return r("dragleave",e,this),this},s.Element.prototype.drop=function(e,t){function i(t){var i=new s.File(t);return function(t){i.data=t.target.result,e(i)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(n("dragover",function(e){e.stopPropagation(),e.preventDefault()},this),n("dragleave",function(e){e.stopPropagation(),e.preventDefault()},this),void 0!==t&&n("drop",t,this),n("drop",function(e){e.stopPropagation(),e.preventDefault();for(var t=e.dataTransfer.files,r=0;r<t.length;r++){var n=t[r],o=new FileReader;o.onload=i(n),n.type.indexOf("text")>-1?o.readAsText(n):o.readAsDataURL(n)}},this)):console.log("The File APIs are not fully supported in this browser."),this},s.Element.prototype._setProperty=function(e,t){this[e]=t},t.exports=s.Element},{"./main":24}],26:[function(e,t,i){var r=e("./main"),n=e("./constants");r.Graphics=function(e,t,i,o){var s=i||n.P2D;for(var a in this.canvas=document.createElement("canvas"),(o._userNode||document.body).appendChild(this.canvas),r.Element.call(this,this.canvas,o,!1),r.prototype)this[a]||("function"==typeof r.prototype[a]?this[a]=r.prototype[a].bind(this):this[a]=r.prototype[a]);return r.prototype._initializeInstanceVariables.apply(this),this.width=e,this.height=t,this._pixelDensity=o._pixelDensity,s===n.WEBGL?this._renderer=new r.RendererGL(this.canvas,this,!1):this._renderer=new r.Renderer2D(this.canvas,this,!1),o._elements.push(this),this._renderer.resize(e,t),this._renderer._applyDefaults(),this},r.Graphics.prototype=Object.create(r.Element.prototype),r.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var e=this._pInst._elements.indexOf(this);for(var t in-1!==e&&this._pInst._elements.splice(e,1),this._events)this.elt.removeEventListener(t,this._events[t])},t.exports=r.Graphics},{"./constants":18,"./main":24}],27:[function(e,t,i){function r(e){var t=0,i=0;if(e.offsetParent)do{t+=e.offsetLeft,i+=e.offsetTop}while(e=e.offsetParent);else t+=e.offsetLeft,i+=e.offsetTop;return[t,i]}var n=e("./main"),o=e("../core/constants");n.Renderer=function(e,t,i){n.Element.call(this,e,t),this.canvas=e,i?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=o.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=o.LEFT,this._textBaseline=o.BASELINE,this._rectMode=o.CORNER,this._ellipseMode=o.CENTER,this._curveTightness=0,this._imageMode=o.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},n.Renderer.prototype=Object.create(n.Element.prototype),n.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle}}},n.Renderer.prototype.pop=function(e){e.properties&&Object.assign(this,e.properties)},n.Renderer.prototype.resize=function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width=e+"px",this.elt.style.height=t+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},n.Renderer.prototype.textLeading=function(e){return"number"==typeof e?(this._setProperty("_textLeading",e),this._pInst):this._textLeading},n.Renderer.prototype.textSize=function(e){return"number"==typeof e?(this._setProperty("_textSize",e),this._setProperty("_textLeading",e*o._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},n.Renderer.prototype.textStyle=function(e){return e?(e!==o.NORMAL&&e!==o.ITALIC&&e!==o.BOLD||this._setProperty("_textStyle",e),this._applyTextProperties()):this._textStyle},n.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},n.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},n.Renderer.prototype.textAlign=function(e,t){return void 0!==e?(this._setProperty("_textAlign",e),void 0!==t&&this._setProperty("_textBaseline",t),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},n.Renderer.prototype.text=function(e,t,i,r,n){var s,a,c,l,h,u,d,f,p,g=this._pInst,m=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==e){if("string"!=typeof e&&(e=e.toString()),e=e.replace(/(\t)/g,"  "),s=e.split("\n"),void 0!==r){for(p=0,c=0;c<s.length;c++)for(h="",f=s[c].split(" "),a=0;a<f.length;a++)u=h+f[a]+" ",d=this.textWidth(u),d>r?(h=f[a]+" ",p+=g.textLeading()):h=u;switch(this._rectMode===o.CENTER&&(t-=r/2,i-=n/2),this._textAlign){case o.CENTER:t+=r/2;break;case o.RIGHT:t+=r}var v=!1;if(void 0!==n){switch(this._textBaseline){case o.BOTTOM:i+=n-p;break;case o.CENTER:i+=(n-p)/2;break;case o.BASELINE:v=!0,this._textBaseline=o.TOP}m=i+n-g.textAscent()}for(c=0;c<s.length;c++){for(h="",f=s[c].split(" "),a=0;a<f.length;a++)u=h+f[a]+" ",d=this.textWidth(u),d>r&&h.length>0?(this._renderText(g,h,t,i,m),h=f[a]+" ",i+=g.textLeading()):h=u;this._renderText(g,h,t,i,m),i+=g.textLeading(),v&&(this._textBaseline=o.BASELINE)}}else{var y=0,b=g.textAlign().vertical;for(b===o.CENTER?y=(s.length-1)*g.textLeading()/2:b===o.BOTTOM&&(y=(s.length-1)*g.textLeading()),l=0;l<s.length;l++)this._renderText(g,s[l],t,i-y,m),i+=g.textLeading()}return g}},n.Renderer.prototype._applyDefaults=function(){return this},n.Renderer.prototype._isOpenType=function(e){return"object"==typeof(e=e||this._textFont)&&e.font&&e.font.supported},n.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var e=document.createElement("span");e.style.fontFamily=this._textFont,e.style.fontSize=this._textSize+"px",e.innerHTML="ABCjgq|";var t=document.createElement("div");t.style.display="inline-block",t.style.width="1px",t.style.height="0px";var i=document.createElement("div");i.appendChild(e),i.appendChild(t),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),t.style.verticalAlign="baseline";var n=r(t),o=r(e),s=n[1]-o[1];t.style.verticalAlign="bottom",n=r(t),o=r(e);var a=n[1]-o[1],c=a-s;return document.body.removeChild(i),this._setProperty("_textAscent",s),this._setProperty("_textDescent",c),this},t.exports=n.Renderer},{"../core/constants":18,"./main":24}],28:[function(e,t,i){var r=e("./main"),n=e("./constants"),o=e("../image/filters");e("./p5.Renderer");var s="rgba(0,0,0,0)";r.Renderer2D=function(e,t,i){return r.Renderer.call(this,e,t,i),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},r.Renderer2D.prototype=Object.create(r.Renderer.prototype),r.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._setFill(n._DEFAULT_FILL),this._setStroke(n._DEFAULT_STROKE),this.drawingContext.lineCap=n.ROUND,this.drawingContext.font="normal 12px sans-serif"},r.Renderer2D.prototype.resize=function(e,t){r.Renderer.prototype.resize.call(this,e,t),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},r.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.resetMatrix(),arguments[0]instanceof r.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var e=this._getFill(),t=this._pInst.color.apply(this._pInst,arguments),i=t.toString();this._setFill(i),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e)}this.drawingContext.restore(),this._pInst._pixelsDirty=!0},r.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore(),this._pInst._pixelsDirty=!0},r.Renderer2D.prototype.fill=function(){var e=this._pInst.color.apply(this._pInst,arguments);this._setFill(e.toString())},r.Renderer2D.prototype.stroke=function(){var e=this._pInst.color.apply(this._pInst,arguments);this._setStroke(e.toString())},r.Renderer2D.prototype.image=function(e,t,i,n,o,s,a,c,l){var h;try{this._tint&&(r.MediaElement&&e instanceof r.MediaElement&&e.loadPixels(),e.canvas&&(h=this._getTintedImageCanvas(e))),h||(h=e.canvas||e.elt);var u=1;e.width&&e.width>0&&(u=h.width/e.width),this.drawingContext.drawImage(h,u*t,u*i,u*n,u*o,s,a,c,l)}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e}this._pInst._pixelsDirty=!0},r.Renderer2D.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=o._toPixels(e.canvas),i=document.createElement("canvas");i.width=e.canvas.width,i.height=e.canvas.height;for(var r=i.getContext("2d"),n=r.createImageData(e.canvas.width,e.canvas.height),s=n.data,a=0;a<t.length;a+=4){var c=t[a],l=t[a+1],h=t[a+2],u=t[a+3];s[a]=c*this._tint[0]/255,s[a+1]=l*this._tint[1]/255,s[a+2]=h*this._tint[2]/255,s[a+3]=u*this._tint[3]/255}return r.putImageData(n,0,0),i},r.Renderer2D.prototype.blendMode=function(e){this.drawingContext.globalCompositeOperation=e},r.Renderer2D.prototype.blend=function(){var e=this.drawingContext.globalCompositeOperation,t=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=t,this._pInst?this._pInst.copy.apply(this._pInst,i):this.copy.apply(this,i),this.drawingContext.globalCompositeOperation=e},r.Renderer2D.prototype.copy=function(){var e,t,i,n,o,s,a,c,l;if(9===arguments.length)e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],s=arguments[5],a=arguments[6],c=arguments[7],l=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=this._pInst,t=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5],c=arguments[6],l=arguments[7]}r.Renderer2D._copyHelper(this,e,t,i,n,o,s,a,c,l),this._pInst._pixelsDirty=!0},r.Renderer2D._copyHelper=function(e,t,i,r,n,o,s,a,c,l){t.loadPixels();var h=t.canvas.width/t.width;e.drawingContext.drawImage(t.canvas,h*i,h*r,h*n,h*o,s,a,c,l)},r.Renderer2D.prototype.get=function(e,t,i,n){if(void 0===i&&void 0===n&&(void 0===e&&void 0===t?(e=t=0,i=this.width,n=this.height):i=n=1),e+i<0||t+n<0||e>=this.width||t>=this.height)return[0,0,0,255];var o=this._pInst||this,s=o._pixelDensity;e=Math.floor(e),t=Math.floor(t),i=Math.floor(i),n=Math.floor(n);var a,c,l=e*s,h=t*s;if(1!==i||1!==n||this instanceof r.RendererGL){var u=Math.min(i,o.width),d=Math.min(n,o.height),f=u*s,p=d*s,g=new r.Image(u,d);return g.canvas.getContext("2d").drawImage(this.canvas,l,h,f,p,0,0,u,d),g}return o._pixelsDirty?(a=this.drawingContext.getImageData(l,h,1,1).data,c=0):(a=o.pixels,c=4*(l+h*this.width*s)),[a[c+0],a[c+1],a[c+2],a[c+3]]},r.Renderer2D.prototype.loadPixels=function(){var e=this._pInst||this;if(e._pixelsDirty){e._pixelsDirty=!1;var t=e._pixelDensity,i=this.width*t,r=this.height*t,n=this.drawingContext.getImageData(0,0,i,r);e._setProperty("imageData",n),e._setProperty("pixels",n.data)}},r.Renderer2D.prototype.set=function(e,t,i){e=Math.floor(e),t=Math.floor(t);var n=this._pInst||this;if(i instanceof r.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(n._pixelDensity,n._pixelDensity),this.drawingContext.drawImage(i.canvas,e,t),this.drawingContext.restore(),n._pixelsDirty=!0;else{var o=0,s=0,a=0,c=0,l=4*(t*n._pixelDensity*(this.width*n._pixelDensity)+e*n._pixelDensity);if(n.imageData&&!n._pixelsDirty||n.loadPixels.call(n),"number"==typeof i)l<n.pixels.length&&(o=i,s=i,a=i,c=255);else if(i instanceof Array){if(i.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");l<n.pixels.length&&(o=i[0],s=i[1],a=i[2],c=i[3])}else i instanceof r.Color&&l<n.pixels.length&&(o=i.levels[0],s=i.levels[1],a=i.levels[2],c=i.levels[3]);for(var h=0;h<n._pixelDensity;h++)for(var u=0;u<n._pixelDensity;u++)l=4*((t*n._pixelDensity+u)*this.width*n._pixelDensity+(e*n._pixelDensity+h)),n.pixels[l]=o,n.pixels[l+1]=s,n.pixels[l+2]=a,n.pixels[l+3]=c}},r.Renderer2D.prototype.updatePixels=function(e,t,i,r){var n=this._pInst||this,o=n._pixelDensity;void 0===e&&void 0===t&&void 0===i&&void 0===r&&(e=0,t=0,i=this.width,r=this.height),i*=o,r*=o,this.drawingContext.putImageData(n.imageData,e,t,0,0,i,r),0===e&&0===t&&i===this.width&&r===this.height||(n._pixelsDirty=!0)},r.Renderer2D.prototype._acuteArcToBezier=function(e,t){var i=t/2,r=Math.cos(i),n=Math.sin(i),o=1/Math.tan(i),s=e+i,a=Math.cos(s),c=Math.sin(s),l=(4-r)/3,h=n+(r-l)*o;return{ax:Math.cos(e),ay:Math.sin(e),bx:l*a+h*c,by:l*c-h*a,cx:l*a-h*c,cy:l*c+h*a,dx:Math.cos(e+t),dy:Math.sin(e+t)}},r.Renderer2D.prototype.arc=function(e,t,i,r,o,s,a){var c=this.drawingContext,l=i/2,h=r/2,u=1e-5,d=0,f=[];for(e+=l,t+=h;s-o>u;)d=Math.min(s-o,n.HALF_PI),f.push(this._acuteArcToBezier(o,d)),o+=d;return this._doFill&&(c.beginPath(),f.forEach(function(i,r){0===r&&c.moveTo(e+i.ax*l,t+i.ay*h),c.bezierCurveTo(e+i.bx*l,t+i.by*h,e+i.cx*l,t+i.cy*h,e+i.dx*l,t+i.dy*h)}),a!==n.PIE&&null!=a||c.lineTo(e,t),c.closePath(),c.fill()),this._doStroke&&(c.beginPath(),f.forEach(function(i,r){0===r&&c.moveTo(e+i.ax*l,t+i.ay*h),c.bezierCurveTo(e+i.bx*l,t+i.by*h,e+i.cx*l,t+i.cy*h,e+i.dx*l,t+i.dy*h)}),a===n.PIE?(c.lineTo(e,t),c.closePath()):a===n.CHORD&&c.closePath(),c.stroke()),this},r.Renderer2D.prototype.ellipse=function(e){var t=this.drawingContext,i=this._doFill,r=this._doStroke,n=e[0],o=e[1],a=e[2],c=e[3];if(i&&!r){if(this._getFill()===s)return this}else if(!i&&r&&this._getStroke()===s)return this;var l=.5522847498,h=a/2*l,u=c/2*l,d=n+a,f=o+c,p=n+a/2,g=o+c/2;t.beginPath(),t.moveTo(n,g),t.bezierCurveTo(n,g-u,p-h,o,p,o),t.bezierCurveTo(p+h,o,d,g-u,d,g),t.bezierCurveTo(d,g+u,p+h,f,p,f),t.bezierCurveTo(p-h,f,n,g+u,n,g),t.closePath(),i&&t.fill(),r&&t.stroke()},r.Renderer2D.prototype.line=function(e,t,i,r){var n=this.drawingContext;return this._doStroke?this._getStroke()===s?this:(n.lineWidth%2==1&&n.translate(.5,.5),n.beginPath(),n.moveTo(e,t),n.lineTo(i,r),n.stroke(),n.lineWidth%2==1&&n.translate(-.5,-.5),this):this},r.Renderer2D.prototype.point=function(e,t){var i=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===s)return this;var r=this._getStroke(),o=this._getFill();e=Math.round(e),t=Math.round(t),this._setFill(r),i.lineWidth>1?(i.beginPath(),i.arc(e,t,i.lineWidth/2,0,n.TWO_PI,!1),i.fill()):i.fillRect(e,t,1,1),this._setFill(o)},r.Renderer2D.prototype.quad=function(e,t,i,r,n,o,a,c){var l=this.drawingContext,h=this._doFill,u=this._doStroke;if(h&&!u){if(this._getFill()===s)return this}else if(!h&&u&&this._getStroke()===s)return this;return l.beginPath(),l.moveTo(e,t),l.lineTo(i,r),l.lineTo(n,o),l.lineTo(a,c),l.closePath(),h&&l.fill(),u&&l.stroke(),this},r.Renderer2D.prototype.rect=function(e){var t=e[0],i=e[1],r=e[2],n=e[3],o=e[4],a=e[5],c=e[6],l=e[7],h=this.drawingContext,u=this._doFill,d=this._doStroke;if(u&&!d){if(this._getFill()===s)return this}else if(!u&&d&&this._getStroke()===s)return this;if(this._doStroke&&h.lineWidth%2==1&&h.translate(.5,.5),h.beginPath(),void 0===o)h.rect(t,i,r,n);else{void 0===a&&(a=o),void 0===c&&(c=a),void 0===l&&(l=c);var f=r/2,p=n/2;r<2*o&&(o=f),n<2*o&&(o=p),r<2*a&&(a=f),n<2*a&&(a=p),r<2*c&&(c=f),n<2*c&&(c=p),r<2*l&&(l=f),n<2*l&&(l=p),h.beginPath(),h.moveTo(t+o,i),h.arcTo(t+r,i,t+r,i+n,a),h.arcTo(t+r,i+n,t,i+n,c),h.arcTo(t,i+n,t,i,l),h.arcTo(t,i,t+r,i,o),h.closePath()}return this._doFill&&h.fill(),this._doStroke&&h.stroke(),this._doStroke&&h.lineWidth%2==1&&h.translate(-.5,-.5),this},r.Renderer2D.prototype.triangle=function(e){var t=this.drawingContext,i=this._doFill,r=this._doStroke,n=e[0],o=e[1],a=e[2],c=e[3],l=e[4],h=e[5];if(i&&!r){if(this._getFill()===s)return this}else if(!i&&r&&this._getStroke()===s)return this;t.beginPath(),t.moveTo(n,o),t.lineTo(a,c),t.lineTo(l,h),t.closePath(),i&&t.fill(),r&&t.stroke()},r.Renderer2D.prototype.endShape=function(e,t,i,r,o,s,a){if(0===t.length)return this;if(!this._doStroke&&!this._doFill)return this;var c,l=e===n.CLOSE;l&&!s&&t.push(t[0]);var h,u,d=t.length;if(!i||a!==n.POLYGON&&null!==a)if(!r||a!==n.POLYGON&&null!==a)if(!o||a!==n.POLYGON&&null!==a)if(a===n.POINTS)for(h=0;h<d;h++)c=t[h],this._doStroke&&this._pInst.stroke(c[6]),this._pInst.point(c[0],c[1]);else if(a===n.LINES)for(h=0;h+1<d;h+=2)c=t[h],this._doStroke&&this._pInst.stroke(t[h+1][6]),this._pInst.line(c[0],c[1],t[h+1][0],t[h+1][1]);else if(a===n.TRIANGLES)for(h=0;h+2<d;h+=3)c=t[h],this.drawingContext.beginPath(),this.drawingContext.moveTo(c[0],c[1]),this.drawingContext.lineTo(t[h+1][0],t[h+1][1]),this.drawingContext.lineTo(t[h+2][0],t[h+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(t[h+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(t[h+2][6]),this.drawingContext.stroke());else if(a===n.TRIANGLE_STRIP)for(h=0;h+1<d;h++)c=t[h],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[h+1][0],t[h+1][1]),this.drawingContext.lineTo(c[0],c[1]),this._doStroke&&this._pInst.stroke(t[h+1][6]),this._doFill&&this._pInst.fill(t[h+1][5]),h+2<d&&(this.drawingContext.lineTo(t[h+2][0],t[h+2][1]),this._doStroke&&this._pInst.stroke(t[h+2][6]),this._doFill&&this._pInst.fill(t[h+2][5])),this._doFillStrokeClose();else if(a===n.TRIANGLE_FAN){if(d>2){for(this.drawingContext.beginPath(),h=2;h<d;h++)c=t[h],this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[h-1][0],t[h-1][1]),this.drawingContext.lineTo(c[0],c[1]),this.drawingContext.lineTo(t[0][0],t[0][1]),h<d-1&&(this._doFill&&c[5]!==t[h+1][5]||this._doStroke&&c[6]!==t[h+1][6])&&(this._doFill&&(this._pInst.fill(c[5]),this.drawingContext.fill(),this._pInst.fill(t[h+1][5])),this._doStroke&&(this._pInst.stroke(c[6]),this.drawingContext.stroke(),this._pInst.stroke(t[h+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose()}}else if(a===n.QUADS)for(h=0;h+3<d;h+=4){for(c=t[h],this.drawingContext.beginPath(),this.drawingContext.moveTo(c[0],c[1]),u=1;u<4;u++)this.drawingContext.lineTo(t[h+u][0],t[h+u][1]);this.drawingContext.lineTo(c[0],c[1]),this._doFill&&this._pInst.fill(t[h+3][5]),this._doStroke&&this._pInst.stroke(t[h+3][6]),this._doFillStrokeClose()}else if(a===n.QUAD_STRIP){if(d>3)for(h=0;h+1<d;h+=2)c=t[h],this.drawingContext.beginPath(),h+3<d?(this.drawingContext.moveTo(t[h+2][0],t[h+2][1]),this.drawingContext.lineTo(c[0],c[1]),this.drawingContext.lineTo(t[h+1][0],t[h+1][1]),this.drawingContext.lineTo(t[h+3][0],t[h+3][1]),this._doFill&&this._pInst.fill(t[h+3][5]),this._doStroke&&this._pInst.stroke(t[h+3][6])):(this.drawingContext.moveTo(c[0],c[1]),this.drawingContext.lineTo(t[h+1][0],t[h+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),h=1;h<d;h++)c=t[h],c.isVert&&(c.moveTo?this.drawingContext.moveTo(c[0],c[1]):this.drawingContext.lineTo(c[0],c[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),h=0;h<d;h++)t[h].isVert?t[h].moveTo?this.drawingContext.moveTo([0],t[h][1]):this.drawingContext.lineTo(t[h][0],t[h][1]):this.drawingContext.quadraticCurveTo(t[h][0],t[h][1],t[h][2],t[h][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),h=0;h<d;h++)t[h].isVert?t[h].moveTo?this.drawingContext.moveTo(t[h][0],t[h][1]):this.drawingContext.lineTo(t[h][0],t[h][1]):this.drawingContext.bezierCurveTo(t[h][0],t[h][1],t[h][2],t[h][3],t[h][4],t[h][5]);this._doFillStrokeClose()}else if(d>3){var f=[],p=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),h=1;h+2<d;h++)c=t[h],f[0]=[c[0],c[1]],f[1]=[c[0]+(p*t[h+1][0]-p*t[h-1][0])/6,c[1]+(p*t[h+1][1]-p*t[h-1][1])/6],f[2]=[t[h+1][0]+(p*t[h][0]-p*t[h+2][0])/6,t[h+1][1]+(p*t[h][1]-p*t[h+2][1])/6],f[3]=[t[h+1][0],t[h+1][1]],this.drawingContext.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);l&&this.drawingContext.lineTo(t[h+1][0],t[h+1][1]),this._doFillStrokeClose()}return i=!1,r=!1,o=!1,s=!1,l&&t.pop(),this._pInst._pixelsDirty=!0,this},r.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},r.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},r.Renderer2D.prototype.strokeCap=function(e){return e!==n.ROUND&&e!==n.SQUARE&&e!==n.PROJECT||(this.drawingContext.lineCap=e),this},r.Renderer2D.prototype.strokeJoin=function(e){return e!==n.ROUND&&e!==n.BEVEL&&e!==n.MITER||(this.drawingContext.lineJoin=e),this},r.Renderer2D.prototype.strokeWeight=function(e){return this.drawingContext.lineWidth=void 0===e||0===e?1e-4:e,this},r.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},r.Renderer2D.prototype._setFill=function(e){e!==this._cachedFillStyle&&(this.drawingContext.fillStyle=e,this._cachedFillStyle=e)},r.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},r.Renderer2D.prototype._setStroke=function(e){e!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=e,this._cachedStrokeStyle=e)},r.Renderer2D.prototype.bezier=function(e,t,i,r,n,o,s,a){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(i,r,n,o,s,a),this._pInst.endShape(),this},r.Renderer2D.prototype.curve=function(e,t,i,r,n,o,s,a){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(i,r),this._pInst.curveVertex(n,o),this._pInst.curveVertex(s,a),this._pInst.endShape(),this},r.Renderer2D.prototype._doFillStrokeClose=function(){this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath(),this._pInst._pixelsDirty=!0},r.Renderer2D.prototype.applyMatrix=function(e,t,i,r,n,o){this.drawingContext.transform(e,t,i,r,n,o)},r.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},r.Renderer2D.prototype.rotate=function(e){this.drawingContext.rotate(e)},r.Renderer2D.prototype.scale=function(e,t){return this.drawingContext.scale(e,t),this},r.Renderer2D.prototype.shearX=function(e){return this.drawingContext.transform(1,0,Math.tan(e),1,0,0),this},r.Renderer2D.prototype.shearY=function(e){return this.drawingContext.transform(1,Math.tan(e),0,1,0,0),this},r.Renderer2D.prototype.translate=function(e,t){return e instanceof r.Vector&&(t=e.y,e=e.x),this.drawingContext.translate(e,t),this},r.Renderer2D.prototype.text=function(e,t,i,o,s){var a;void 0!==o&&void 0!==s&&this.drawingContext.textBaseline===n.BASELINE&&(a=!0,this.drawingContext.textBaseline=n.TOP);var c=r.Renderer.prototype.text.apply(this,arguments);return a&&(this.drawingContext.textBaseline=n.BASELINE),c},r.Renderer2D.prototype._renderText=function(e,t,i,r,o){if(!(r>=o))return e.push(),this._isOpenType()?this._textFont._renderPath(t,i,r,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(t,i,r),this._doFill&&(this._fillSet||this._setFill(n._DEFAULT_TEXT_FILL),this.drawingContext.fillText(t,i,r))),e.pop(),this._pInst._pixelsDirty=!0,e},r.Renderer2D.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):this.drawingContext.measureText(e).width},r.Renderer2D.prototype._applyTextProperties=function(){var e,t=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),e=this._textFont,this._isOpenType()&&(e=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font=(this._textStyle||"normal")+" "+(this._textSize||12)+"px "+(e||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===n.CENTER?this.drawingContext.textBaseline=n._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,t},r.Renderer2D.prototype.push=function(){return this.drawingContext.save(),r.Renderer.prototype.push.apply(this)},r.Renderer2D.prototype.pop=function(e){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r.Renderer.prototype.pop.call(this,e)},t.exports=r.Renderer2D},{"../image/filters":42,"./constants":18,"./main":24,"./p5.Renderer":27}],29:[function(e,t,i){var r=e("./main"),n=e("./constants");e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var o="defaultCanvas0",s="p5Canvas";r.prototype.createCanvas=function(e,t,i){r._validateParameters("createCanvas",arguments);var a,c=i||n.P2D;if(c===n.WEBGL){if(a=document.getElementById(o)){a.parentNode.removeChild(a);var l=this._renderer;this._elements=this._elements.filter(function(e){return e!==l})}a=document.createElement("canvas"),a.id=o,a.classList.add(s)}else if(this._defaultGraphicsCreated)a=this.canvas;else{a=document.createElement("canvas");for(var h=0;document.getElementById("defaultCanvas"+h);)h++;o="defaultCanvas"+h,a.id=o,a.classList.add(s)}return this._setupDone||(a.dataset.hidden=!0,a.style.visibility="hidden"),this._userNode?this._userNode.appendChild(a):document.body.appendChild(a),c===n.WEBGL?(this._setProperty("_renderer",new r.RendererGL(a,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new r.Renderer2D(a,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(e,t),this._renderer._applyDefaults(),this._renderer},r.prototype.resizeCanvas=function(e,t,i){if(r._validateParameters("resizeCanvas",arguments),this._renderer){var n={};for(var o in this.drawingContext){var s=this.drawingContext[o];"object"!=typeof s&&"function"!=typeof s&&(n[o]=s)}for(var a in this._renderer.resize(e,t),this.width=e,this.height=t,n)try{this.drawingContext[a]=n[a]}catch(e){}i||this.redraw()}},r.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},r.prototype.createGraphics=function(e,t,i){return r._validateParameters("createGraphics",arguments),new r.Graphics(e,t,i,this)},r.prototype.blendMode=function(e){if(r._validateParameters("blendMode",arguments),e!==n.BLEND&&e!==n.DARKEST&&e!==n.LIGHTEST&&e!==n.DIFFERENCE&&e!==n.MULTIPLY&&e!==n.EXCLUSION&&e!==n.SCREEN&&e!==n.REPLACE&&e!==n.OVERLAY&&e!==n.HARD_LIGHT&&e!==n.SOFT_LIGHT&&e!==n.DODGE&&e!==n.BURN&&e!==n.ADD&&e!==n.NORMAL)throw new Error("Mode "+e+" not recognized.");this._renderer.blendMode(e)},t.exports=r},{"../webgl/p5.RendererGL":74,"./constants":18,"./main":24,"./p5.Graphics":26,"./p5.Renderer2D":28}],30:[function(e,t,i){var r=e("../main"),n=e("../constants"),o=e("../helpers");e("../error_helpers"),r.prototype.arc=function(e,t,i,s,a,c,l,h){if(r._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;for(a=this._toRadians(a),c=this._toRadians(c);a<0;)a+=n.TWO_PI;for(;c<0;)c+=n.TWO_PI;void 0!==a&&void 0!==c&&(c.toFixed(10)===a.toFixed(10)||Math.abs(c-a)===n.TWO_PI?(a%=n.TWO_PI,c%=n.TWO_PI,a+=n.TWO_PI):Math.abs(c-a)>n.TWO_PI&&(a%=n.TWO_PI,c%=n.TWO_PI,c+=n.TWO_PI)),a<=n.HALF_PI?a=Math.atan(i/s*Math.tan(a)):a>n.HALF_PI&&a<=3*n.HALF_PI&&(a=Math.atan(i/s*Math.tan(a))+n.PI),c<=n.HALF_PI?c=Math.atan(i/s*Math.tan(c)):c>n.HALF_PI&&c<=3*n.HALF_PI&&(c=Math.atan(i/s*Math.tan(c))+n.PI),a>c&&(c+=n.TWO_PI),i=Math.abs(i),s=Math.abs(s);var u=o.modeAdjust(e,t,i,s,this._renderer._ellipseMode);return this._renderer.arc(u.x,u.y,u.w,u.h,a,c,l,h),this},r.prototype.ellipse=function(e,t,i,n,s){if(r._validateParameters("ellipse",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;i<0&&(i=Math.abs(i)),void 0===n?n=i:n<0&&(n=Math.abs(n));var a=o.modeAdjust(e,t,i,n,this._renderer._ellipseMode);return this._renderer.ellipse([a.x,a.y,a.w,a.h,s]),this},r.prototype.line=function(){return r._validateParameters("line",arguments),this._renderer._doStroke&&this._renderer.line.apply(this._renderer,arguments),this},r.prototype.point=function(){return r._validateParameters("point",arguments),this._renderer._doStroke&&this._renderer.point.apply(this._renderer,arguments),this},r.prototype.quad=function(){return r._validateParameters("quad",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.quad.apply(this._renderer,arguments),this},r.prototype.rect=function(){if(r._validateParameters("rect",arguments),this._renderer._doStroke||this._renderer._doFill){for(var e=o.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),t=[e.x,e.y,e.w,e.h],i=4;i<arguments.length;i++)t[i]=arguments[i];this._renderer.rect(t)}return this},r.prototype.triangle=function(){return r._validateParameters("triangle",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(arguments),this},t.exports=r},{"../constants":18,"../error_helpers":20,"../helpers":21,"../main":24}],31:[function(e,t,i){var r=e("../main"),n=e("../constants");r.prototype.ellipseMode=function(e){return r._validateParameters("ellipseMode",arguments),e!==n.CORNER&&e!==n.CORNERS&&e!==n.RADIUS&&e!==n.CENTER||(this._renderer._ellipseMode=e),this},r.prototype.noSmooth=function(){return this._renderer.noSmooth(),this},r.prototype.rectMode=function(e){return r._validateParameters("rectMode",arguments),e!==n.CORNER&&e!==n.CORNERS&&e!==n.RADIUS&&e!==n.CENTER||(this._renderer._rectMode=e),this},r.prototype.smooth=function(){return this._renderer.smooth(),this},r.prototype.strokeCap=function(e){return r._validateParameters("strokeCap",arguments),e!==n.ROUND&&e!==n.SQUARE&&e!==n.PROJECT||this._renderer.strokeCap(e),this},r.prototype.strokeJoin=function(e){return r._validateParameters("strokeJoin",arguments),e!==n.ROUND&&e!==n.BEVEL&&e!==n.MITER||this._renderer.strokeJoin(e),this},r.prototype.strokeWeight=function(e){return r._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(e),this},t.exports=r},{"../constants":18,"../main":24}],32:[function(e,t,i){var r=e("../main");e("../error_helpers"),r.prototype.bezier=function(){return r._validateParameters("bezier",arguments),this._renderer._doStroke||this._renderer._doFill?(this._renderer.bezier.apply(this._renderer,arguments),this):this},r.prototype.bezierDetail=function(e){return r._validateParameters("bezierDetail",arguments),this._bezierDetail=e,this},r.prototype.bezierPoint=function(e,t,i,n,o){r._validateParameters("bezierPoint",arguments);var s=1-o;return Math.pow(s,3)*e+3*Math.pow(s,2)*o*t+3*s*Math.pow(o,2)*i+Math.pow(o,3)*n},r.prototype.bezierTangent=function(e,t,i,n,o){r._validateParameters("bezierTangent",arguments);var s=1-o;return 3*n*Math.pow(o,2)-3*i*Math.pow(o,2)+6*i*s*o-6*t*s*o+3*t*Math.pow(s,2)-3*e*Math.pow(s,2)},r.prototype.curve=function(){return r._validateParameters("curve",arguments),this._renderer._doStroke&&this._renderer.curve.apply(this._renderer,arguments),this},r.prototype.curveDetail=function(e){return r._validateParameters("curveDetail",arguments),this._curveDetail=e<3?3:e,this},r.prototype.curveTightness=function(e){return r._validateParameters("curveTightness",arguments),this._renderer._curveTightness=e,this},r.prototype.curvePoint=function(e,t,i,n,o){r._validateParameters("curvePoint",arguments);var s=o*o*o,a=o*o;return e*(-.5*s+a-.5*o)+t*(1.5*s-2.5*a+1)+i*(-1.5*s+2*a+.5*o)+n*(.5*s-.5*a)},r.prototype.curveTangent=function(e,t,i,n,o){r._validateParameters("curveTangent",arguments);var s=o*o;return e*(-3*s/2+2*o-.5)+t*(9*s/2-5*o)+i*(-9*s/2+4*o+.5)+n*(3*s/2-o)},t.exports=r},{"../error_helpers":20,"../main":24}],33:[function(e,t,i){var r=e("../main"),n=e("../constants"),o=null,s=[],a=[],c=!1,l=!1,h=!1,u=!1,d=!0;r.prototype.beginContour=function(){return a=[],u=!0,this},r.prototype.beginShape=function(e){return r._validateParameters("beginShape",arguments),this._renderer.isP3D?this._renderer.beginShape.apply(this._renderer,arguments):(o=e===n.POINTS||e===n.LINES||e===n.TRIANGLES||e===n.TRIANGLE_FAN||e===n.TRIANGLE_STRIP||e===n.QUADS||e===n.QUAD_STRIP?e:null,s=[],a=[]),this},r.prototype.bezierVertex=function(){if(r._validateParameters("bezierVertex",arguments),this._renderer.isP3D)this._renderer.bezierVertex.apply(this._renderer,arguments);else{if(0===s.length)throw"vertex() must be used once before calling bezierVertex()";c=!0;for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.isVert=!1,u?a.push(e):s.push(e)}return this},r.prototype.curveVertex=function(){return r._validateParameters("curveVertex",arguments),this._renderer.isP3D?this._renderer.curveVertex.apply(this._renderer,arguments):(l=!0,this.vertex(arguments[0],arguments[1])),this},r.prototype.endContour=function(){var e=a[0].slice();e.isVert=a[0].isVert,e.moveTo=!1,a.push(e),d&&(s.push(s[0]),d=!1);for(var t=0;t<a.length;t++)s.push(a[t]);return this},r.prototype.endShape=function(e){if(r._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(e,l,c,h,u,o);else{if(0===s.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var t=e===n.CLOSE;t&&!u&&s.push(s[0]),this._renderer.endShape(e,s,l,c,h,u,o),l=!1,c=!1,h=!1,u=!1,d=!0,t&&s.pop()}return this},r.prototype.quadraticVertex=function(){if(r._validateParameters("quadraticVertex",arguments),this._renderer.isP3D)this._renderer.quadraticVertex.apply(this._renderer,arguments);else{if(this._contourInited){var e={};return e.x=arguments[0],e.y=arguments[1],e.x3=arguments[2],e.y3=arguments[3],e.type=n.QUADRATIC,this._contourVertices.push(e),this}if(!(s.length>0))throw new Error("vertex() must be used once before calling quadraticVertex()");h=!0;for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];t.isVert=!1,u?a.push(t):s.push(t)}return this},r.prototype.vertex=function(e,t,i,r,n){if(this._renderer.isP3D)this._renderer.vertex.apply(this._renderer,arguments);else{var o=[];o.isVert=!0,o[0]=e,o[1]=t,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),i&&(o.moveTo=i),u?(0===a.length&&(o.moveTo=!0),a.push(o)):s.push(o)}return this},t.exports=r},{"../constants":18,"../main":24}],34:[function(e,t,i){window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),function(){"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1})}(),function(){if(!Object.assign){var e=Object.keys,t=Object.defineProperty,i=function(e){return void 0!==e&&null!==e},r="function"==typeof Symbol&&"symbol"==typeof Symbol(),n=Object.prototype.propertyIsEnumerable,o=function(e){return function(t){return n.call(e,t)}},s=function(t,n){if(!i(t))throw new TypeError("target must be an object");var s,a,c,l,h=Object(t);for(s=1;s<arguments.length;++s)for(a=Object(arguments[s]),l=e(a),r&&Object.getOwnPropertySymbols&&l.push.apply(l,Object.getOwnPropertySymbols(a).filter(o(a))),c=0;c<l.length;++c)h[l[c]]=a[l[c]];return h};t(Object,"assign",{value:s,configurable:!0,enumerable:!1,writable:!0})}}()},{}],35:[function(e,t,i){var r=e("./main");r.prototype.noLoop=function(){this._loop=!1},r.prototype.loop=function(){this._loop=!0,this._draw()},r.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.prototype.pop=function(){var e=this._styles.pop();e?(this._renderer.pop(e.renderer),Object.assign(this,e.props)):console.warn("pop() was called without matching push()")},r.prototype.redraw=function(e){var t=parseInt(e);(isNaN(t)||t<1)&&(t=1);var i=this._isGlobal?window:this,r=i.setup,n=i.draw;if("function"==typeof n){void 0===r&&i.scale(i._pixelDensity,i._pixelDensity);for(var o=function(e){e.call(i)},s=0;s<t;s++)i.resetMatrix(),i._renderer.isP3D&&i._renderer._update(),i._setProperty("frameCount",i.frameCount+1),i._registeredMethods.pre.forEach(o),n(),i._registeredMethods.post.forEach(o)}},t.exports=r},{"./main":24}],36:[function(e,t,i){var r=e("./main");r.prototype.applyMatrix=function(e,t,i,r,n,o){return this._renderer.applyMatrix(e,t,i,r,n,o),this},r.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},r.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},r.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},r.prototype.rotate=function(e,t){return r._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(e),t),this},r.prototype.rotateX=function(e){return this._assert3d("rotateX"),r._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(e)),this},r.prototype.rotateY=function(e){return this._assert3d("rotateY"),r._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(e)),this},r.prototype.rotateZ=function(e){return this._assert3d("rotateZ"),r._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(e)),this},r.prototype.scale=function(e,t,i){if(r._validateParameters("scale",arguments),e instanceof r.Vector){var n=e;e=n.x,t=n.y,i=n.z}else if(e instanceof Array){var o=e;e=o[0],t=o[1],i=o[2]||1}return isNaN(t)?t=i=e:isNaN(i)&&(i=1),this._renderer.scale.call(this._renderer,e,t,i),this},r.prototype.shearX=function(e){return r._validateParameters("shearX",arguments),this._renderer.shearX(this._toRadians(e)),this},r.prototype.shearY=function(e){return r._validateParameters("shearY",arguments),this._renderer.shearY(this._toRadians(e)),this},r.prototype.translate=function(e,t,i){return r._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(e,t,i):this._renderer.translate(e,t),this},t.exports=r},{"./main":24}],37:[function(e,t,i){var r=e("../core/main");r.prototype.createStringDict=function(e,t){return r._validateParameters("createStringDict",arguments),new r.StringDict(e,t)},r.prototype.createNumberDict=function(e,t){return r._validateParameters("createNumberDict",arguments),new r.NumberDict(e,t)},r.TypedDict=function(e,t){return e instanceof Object?this.data=e:(this.data={},this.data[e]=t),this},r.TypedDict.prototype.size=function(){return Object.keys(this.data).length},r.TypedDict.prototype.hasKey=function(e){return this.data.hasOwnProperty(e)},r.TypedDict.prototype.get=function(e){if(this.data.hasOwnProperty(e))return this.data[e];console.log(e+" does not exist in this Dictionary")},r.TypedDict.prototype.set=function(e,t){this._validate(t)?this.data[e]=t:console.log("Those values dont work for this dictionary type.")},r.TypedDict.prototype._addObj=function(e){for(var t in e)this.set(t,e[t])},r.TypedDict.prototype.create=function(e,t){e instanceof Object&&void 0===t?this._addObj(e):void 0!==e?this.set(e,t):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},r.TypedDict.prototype.clear=function(){this.data={}},r.TypedDict.prototype.remove=function(e){if(!this.data.hasOwnProperty(e))throw new Error(e+" does not exist in this Dictionary");delete this.data[e]},r.TypedDict.prototype.print=function(){for(var e in this.data)console.log("key:"+e+" value:"+this.data[e])},r.TypedDict.prototype.saveTable=function(e){var t="";for(var i in this.data)t+=i+","+this.data[i]+"\n";var n=new Blob([t],{type:"text/csv"});r.prototype.downloadFile(n,e||"mycsv","csv")},r.TypedDict.prototype.saveJSON=function(e,t){r.prototype.saveJSON(this.data,e,t)},r.TypedDict.prototype._validate=function(e){return!0},r.StringDict=function(){r.TypedDict.apply(this,arguments)},r.StringDict.prototype=Object.create(r.TypedDict.prototype),r.StringDict.prototype._validate=function(e){return"string"==typeof e},r.NumberDict=function(){r.TypedDict.apply(this,arguments)},r.NumberDict.prototype=Object.create(r.TypedDict.prototype),r.NumberDict.prototype._validate=function(e){return"number"==typeof e},r.NumberDict.prototype.add=function(e,t){this.data.hasOwnProperty(e)?this.data[e]+=t:console.log("The key - "+e+" does not exist in this dictionary.")},r.NumberDict.prototype.sub=function(e,t){this.add(e,-t)},r.NumberDict.prototype.mult=function(e,t){this.data.hasOwnProperty(e)?this.data[e]*=t:console.log("The key - "+e+" does not exist in this dictionary.")},r.NumberDict.prototype.div=function(e,t){this.data.hasOwnProperty(e)?this.data[e]/=t:console.log("The key - "+e+" does not exist in this dictionary.")},r.NumberDict.prototype._valueTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t=this.data[Object.keys(this.data)[0]];for(var i in this.data)this.data[i]*e<t*e&&(t=this.data[i]);return t},r.NumberDict.prototype.minValue=function(){return this._valueTest(1)},r.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},r.NumberDict.prototype._keyTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var t=Object.keys(this.data)[0],i=1;i<Object.keys(this.data).length;i++)Object.keys(this.data)[i]*e<t*e&&(t=Object.keys(this.data)[i]);return t},r.NumberDict.prototype.minKey=function(){return this._keyTest(1)},r.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},t.exports=r.TypedDict},{"../core/main":24}],38:[function(e,t,i){var r=e("../core/main");r.prototype.deviceOrientation=void 0,r.prototype.accelerationX=0,r.prototype.accelerationY=0,r.prototype.accelerationZ=0,r.prototype.pAccelerationX=0,r.prototype.pAccelerationY=0,r.prototype.pAccelerationZ=0,r.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},r.prototype.rotationX=0,r.prototype.rotationY=0,r.prototype.rotationZ=0,r.prototype.pRotationX=0,r.prototype.pRotationY=0,r.prototype.pRotationZ=0;var n,o,s,a=0,c=0,l=0,h="clockwise",u="clockwise",d="clockwise";r.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},r.prototype.turnAxis=void 0;var f=.5,p=30;r.prototype.setMoveThreshold=function(e){r._validateParameters("setMoveThreshold",arguments),f=e},r.prototype.setShakeThreshold=function(e){r._validateParameters("setShakeThreshold",arguments),p=e},r.prototype._ondeviceorientation=function(e){this._updatePRotations(),this._setProperty("rotationX",e.beta),this._setProperty("rotationY",e.gamma),this._setProperty("rotationZ",e.alpha),this._handleMotion()},r.prototype._ondevicemotion=function(e){this._updatePAccelerations(),this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},r.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e=this.deviceMoved||window.deviceMoved;"function"==typeof e&&(Math.abs(this.accelerationX-this.pAccelerationX)>f||Math.abs(this.accelerationY-this.pAccelerationY)>f||Math.abs(this.accelerationZ-this.pAccelerationZ)>f)&&e();var t=this.deviceTurned||window.deviceTurned;if("function"==typeof t){var i=this.rotationX+180,r=this.pRotationX+180,g=a+180;i-r>0&&i-r<270||i-r<-270?h="clockwise":(i-r<0||i-r>270)&&(h="counter-clockwise"),h!==n&&(g=i),Math.abs(i-g)>90&&Math.abs(i-g)<270&&(g=i,this._setProperty("turnAxis","X"),t()),n=h,a=g-180;var m=this.rotationY+180,v=this.pRotationY+180,y=c+180;m-v>0&&m-v<270||m-v<-270?u="clockwise":(m-v<0||m-this.pRotationY>270)&&(u="counter-clockwise"),u!==o&&(y=m),Math.abs(m-y)>90&&Math.abs(m-y)<270&&(y=m,this._setProperty("turnAxis","Y"),t()),o=u,c=y-180,this.rotationZ-this.pRotationZ>0&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?d="clockwise":(this.rotationZ-this.pRotationZ<0||this.rotationZ-this.pRotationZ>270)&&(d="counter-clockwise"),d!==s&&(l=this.rotationZ),Math.abs(this.rotationZ-l)>90&&Math.abs(this.rotationZ-l)<270&&(l=this.rotationZ,this._setProperty("turnAxis","Z"),t()),s=d,this._setProperty("turnAxis",void 0)}var b,w,x=this.deviceShaken||window.deviceShaken;"function"==typeof x&&(null!==this.pAccelerationX&&(b=Math.abs(this.accelerationX-this.pAccelerationX),w=Math.abs(this.accelerationY-this.pAccelerationY)),b+w>p&&x())},t.exports=r},{"../core/main":24}],39:[function(e,t,i){function r(){for(var e in o)if(o.hasOwnProperty(e)&&!0===o[e])return!0;return!1}var n=e("../core/main"),o={};n.prototype.isKeyPressed=!1,n.prototype.keyIsPressed=!1,n.prototype.key="",n.prototype.keyCode=0,n.prototype._onkeydown=function(e){if(!o[e.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),o[e.which]=!0,this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);var t=this.keyPressed||window.keyPressed;"function"!=typeof t||e.charCode||!1===t(e)&&e.preventDefault()}},n.prototype._onkeyup=function(e){var t=this.keyReleased||window.keyReleased;o[e.which]=!1,r()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),this._setProperty("keyCode",e.which),"function"==typeof t&&!1===t(e)&&e.preventDefault()},n.prototype._onkeypress=function(e){if(e.which!==this._lastKeyCodeTyped){this._setProperty("keyCode",e.which),this._setProperty("_lastKeyCodeTyped",e.which),this._setProperty("key",String.fromCharCode(e.which));var t=this.keyTyped||window.keyTyped;"function"==typeof t&&!1===t(e)&&e.preventDefault()}},n.prototype._onblur=function(e){o={}},n.prototype.keyIsDown=function(e){return n._validateParameters("keyIsDown",arguments),o[e]},t.exports=n},{"../core/main":24}],40:[function(e,t,i){function r(e,t,i,r){r&&!r.clientX&&(r.touches?r=r.touches[0]:r.changedTouches&&(r=r.changedTouches[0]));var n=e.getBoundingClientRect(),o=e.scrollWidth/t,s=e.scrollHeight/i;return{x:(r.clientX-n.left)/o,y:(r.clientY-n.top)/s,winX:r.clientX,winY:r.clientY,id:r.identifier}}var n=e("../core/main"),o=e("../core/constants");n.prototype._hasMouseInteracted=!1,n.prototype.mouseX=0,n.prototype.mouseY=0,n.prototype.pmouseX=0,n.prototype.pmouseY=0,n.prototype.winMouseX=0,n.prototype.winMouseY=0,n.prototype.pwinMouseX=0,n.prototype.pwinMouseY=0,n.prototype.mouseButton=0,n.prototype.mouseIsPressed=!1,n.prototype._updateNextMouseCoords=function(e){if(null!==this._curElement&&(!e.touches||e.touches.length>0)){var t=r(this._curElement.elt,this.width,this.height,e);this._setProperty("mouseX",t.x),this._setProperty("mouseY",t.y),this._setProperty("winMouseX",t.winX),this._setProperty("winMouseY",t.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},n.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},n.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",o.CENTER):2===e.button?this._setProperty("mouseButton",o.RIGHT):this._setProperty("mouseButton",o.LEFT)},n.prototype._onmousemove=function(e){var t=this._isGlobal?window:this;this._updateNextMouseCoords(e),this.mouseIsPressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(e)&&e.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(e)&&e.preventDefault()},n.prototype._onmousedown=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateNextMouseCoords(e),"function"==typeof t.mousePressed?!1===t.mousePressed(e)&&e.preventDefault():"function"==typeof t.touchStarted&&!1===t.touchStarted(e)&&e.preventDefault()},n.prototype._onmouseup=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(e)&&e.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(e)&&e.preventDefault()},n.prototype._ondragend=n.prototype._onmouseup,n.prototype._ondragover=n.prototype._onmousemove,n.prototype._onclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&!1===t.mouseClicked(e)&&e.preventDefault()},n.prototype._ondblclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.doubleClicked&&!1===t.doubleClicked(e)&&e.preventDefault()},n.prototype._mouseWheelDeltaY=0,n.prototype._pmouseWheelDeltaY=0,n.prototype._onwheel=function(e){var t=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",e.deltaY),"function"==typeof t.mouseWheel&&(e.delta=e.deltaY,!1===t.mouseWheel(e)&&e.preventDefault())},t.exports=n},{"../core/constants":18,"../core/main":24}],41:[function(e,t,i){function r(e,t,i,r,n){n=n||0;var o=e.getBoundingClientRect(),s=e.scrollWidth/t,a=e.scrollHeight/i,c=r.touches[n]||r.changedTouches[n];return{x:(c.clientX-o.left)/s,y:(c.clientY-o.top)/a,winX:c.clientX,winY:c.clientY,id:c.identifier}}var n=e("../core/main");n.prototype.touches=[],n.prototype._updateTouchCoords=function(e){if(null!==this._curElement){for(var t=[],i=0;i<e.touches.length;i++)t[i]=r(this._curElement.elt,this.width,this.height,e,i);this._setProperty("touches",t)}},n.prototype._ontouchstart=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(e),this._updateNextMouseCoords(e),this._updateMouseCoords(),"function"==typeof t.touchStarted?!1===t.touchStarted(e)&&e.preventDefault():"function"==typeof t.mousePressed&&!1===t.mousePressed(e)&&e.preventDefault()},n.prototype._ontouchmove=function(e){var t=this._isGlobal?window:this;this._updateTouchCoords(e),this._updateNextMouseCoords(e),"function"==typeof t.touchMoved?!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseDragged&&!1===t.mouseDragged(e)&&e.preventDefault()},n.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(e),this._updateNextMouseCoords(e);var t=this._isGlobal?window:this;"function"==typeof t.touchEnded?!1===t.touchEnded(e)&&e.preventDefault():"function"==typeof t.mouseReleased&&!1===t.mouseReleased(e)&&e.preventDefault()},t.exports=n},{"../core/main":24}],42:[function(e,t,i){function r(e){var t=3.5*e|0;if(t=t<1?1:t<248?t:248,o!==t){o=t,s=1+o<<1,a=new Int32Array(s),c=new Array(s);for(var i=0;i<s;i++)c[i]=new Int32Array(256);for(var r,n,l,h,u=1,d=t-1;u<t;u++){a[t+u]=a[d]=n=d*d,l=c[t+u],h=c[d--];for(var f=0;f<256;f++)l[f]=h[f]=n*f}r=a[t]=t*t,l=c[t];for(var p=0;p<256;p++)l[p]=r*p}}function n(e,t){for(var i=l._toPixels(e),n=e.width,h=e.height,u=n*h,d=new Int32Array(u),f=0;f<u;f++)d[f]=l._getARGB(i,f);var p,g,m,v,y,b,w,x,_,S,C,M,T,R,E=new Int32Array(u),k=new Int32Array(u),L=new Int32Array(u),A=new Int32Array(u),$=0;for(r(t),M=0;M<h;M++){for(C=0;C<n;C++){if(v=m=g=y=p=0,(b=C-o)<0)S=-b,b=0;else{if(b>=n)break;S=0}for(T=S;T<s&&!(b>=n);T++){var I=d[b+$];R=c[T],y+=R[(-16777216&I)>>>24],g+=R[(16711680&I)>>16],m+=R[(65280&I)>>8],v+=R[255&I],p+=a[T],b++}w=$+C,E[w]=y/p,k[w]=g/p,L[w]=m/p,A[w]=v/p}$+=n}for($=0,x=-o,_=x*n,M=0;M<h;M++){for(C=0;C<n;C++){if(v=m=g=y=p=0,x<0)S=w=-x,b=C;else{if(x>=h)break;S=0,w=x,b=C+_}for(T=S;T<s&&!(w>=h);T++)R=c[T],y+=R[E[b]],g+=R[k[b]],m+=R[L[b]],v+=R[A[b]],p+=a[T],w++,b+=n;d[C+$]=y/p<<24|g/p<<16|m/p<<8|v/p}$+=n,_+=n,x++}l._setPixels(i,d)}var o,s,a,c,l={};l._toPixels=function(e){return e instanceof ImageData?e.data:e.getContext("2d").getImageData(0,0,e.width,e.height).data},l._getARGB=function(e,t){var i=4*t;return e[i+3]<<24&4278190080|e[i]<<16&16711680|e[i+1]<<8&65280|255&e[i+2]},l._setPixels=function(e,t){for(var i=0,r=0,n=e.length;r<n;r++)i=4*r,e[i+0]=(16711680&t[r])>>>16,e[i+1]=(65280&t[r])>>>8,e[i+2]=255&t[r],e[i+3]=(4278190080&t[r])>>>24},l._toImageData=function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},l._createImageData=function(e,t){return l._tmpCanvas=document.createElement("canvas"),l._tmpCtx=l._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},l.apply=function(e,t,i){var r=e.getContext("2d"),n=r.getImageData(0,0,e.width,e.height),o=t(n,i);o instanceof ImageData?r.putImageData(o,0,0,0,0,e.width,e.height):r.putImageData(n,0,0,0,0,e.width,e.height)},l.threshold=function(e,t){var i=l._toPixels(e);void 0===t&&(t=.5);for(var r=Math.floor(255*t),n=0;n<i.length;n+=4){var o,s=i[n],a=i[n+1],c=i[n+2],h=.2126*s+.7152*a+.0722*c;o=h>=r?255:0,i[n]=i[n+1]=i[n+2]=o}},l.gray=function(e){for(var t=l._toPixels(e),i=0;i<t.length;i+=4){var r=t[i],n=t[i+1],o=t[i+2],s=.2126*r+.7152*n+.0722*o;t[i]=t[i+1]=t[i+2]=s}},l.opaque=function(e){for(var t=l._toPixels(e),i=0;i<t.length;i+=4)t[i+3]=255;return t},l.invert=function(e){for(var t=l._toPixels(e),i=0;i<t.length;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]},l.posterize=function(e,t){var i=l._toPixels(e);if(t<2||t>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=t-1,n=0;n<i.length;n+=4){var o=i[n],s=i[n+1],a=i[n+2];i[n]=255*(o*t>>8)/r,i[n+1]=255*(s*t>>8)/r,i[n+2]=255*(a*t>>8)/r}},l.dilate=function(e){for(var t,i,r,n,o,s,a,c,h,u,d,f,p,g,m,v,y,b=l._toPixels(e),w=0,x=b.length?b.length/4:0,_=new Int32Array(x);w<x;)for(t=w,i=w+e.width;w<i;)r=n=l._getARGB(b,w),a=w-1,s=w+1,c=w-e.width,h=w+e.width,a<t&&(a=w),s>=i&&(s=w),c<0&&(c=0),h>=x&&(h=w),f=l._getARGB(b,c),d=l._getARGB(b,a),p=l._getARGB(b,h),u=l._getARGB(b,s),o=77*(r>>16&255)+151*(r>>8&255)+28*(255&r),m=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),g=77*(u>>16&255)+151*(u>>8&255)+28*(255&u),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),m>o&&(n=d,o=m),g>o&&(n=u,o=g),v>o&&(n=f,o=v),y>o&&(n=p,o=y),_[w++]=n;l._setPixels(b,_)},l.erode=function(e){for(var t,i,r,n,o,s,a,c,h,u,d,f,p,g,m,v,y,b=l._toPixels(e),w=0,x=b.length?b.length/4:0,_=new Int32Array(x);w<x;)for(t=w,i=w+e.width;w<i;)r=n=l._getARGB(b,w),a=w-1,s=w+1,c=w-e.width,h=w+e.width,a<t&&(a=w),s>=i&&(s=w),c<0&&(c=0),h>=x&&(h=w),f=l._getARGB(b,c),d=l._getARGB(b,a),p=l._getARGB(b,h),u=l._getARGB(b,s),o=77*(r>>16&255)+151*(r>>8&255)+28*(255&r),m=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),g=77*(u>>16&255)+151*(u>>8&255)+28*(255&u),v=77*(f>>16&255)+151*(f>>8&255)+28*(255&f),y=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),m<o&&(n=d,o=m),g<o&&(n=u,o=g),v<o&&(n=f,o=v),y<o&&(n=p,o=y),_[w++]=n;l._setPixels(b,_)},l.blur=function(e,t){n(e,t)},t.exports=l},{}],43:[function(e,t,i){var r=e("../core/main"),n=[];r.prototype.createImage=function(e,t){return r._validateParameters("createImage",arguments),new r.Image(e,t)},r.prototype.saveCanvas=function(){r._validateParameters("saveCanvas",arguments);var e,t,i,n,o=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(e=arguments[0],o.shift()):arguments[0]instanceof r.Element?(e=arguments[0].elt,o.shift()):e=this._curElement&&this._curElement.elt,o.length>=1&&(t=o[0]),o.length>=2&&(i=o[1]),i=i||r.prototype._checkFileExtension(t,i)[1]||"png",i){default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}e.toBlob(function(e){r.prototype.downloadFile(e,t,i)},n)},r.prototype.saveFrames=function(e,t,i,o,s){r._validateParameters("saveFrames",arguments);var a=i||3;a=r.prototype.constrain(a,0,15),a*=1e3;var c=o||15;c=r.prototype.constrain(c,0,22);var l=0,h=r.prototype._makeFrame,u=this._curElement.elt,d=setInterval(function(){h(e+l,t,u),l++},1e3/c);setTimeout(function(){if(clearInterval(d),s)s(n);else for(var e=0;e<n.length;e++){var t=n[e];r.prototype.downloadFile(t.imageData,t.filename,t.ext)}n=[]},a+.01)},r.prototype._makeFrame=function(e,t,i){var r,o;if(r=this?this._curElement.elt:i,t)switch(t.toLowerCase()){case"png":o="image/png";break;case"jpeg":case"jpg":o="image/jpeg";break;default:o="image/png"}else t="png",o="image/png";var s=r.toDataURL(o);s=s.replace(o,"image/octet-stream");var a={};a.imageData=s,a.filename=e,a.ext=t,n.push(a)},t.exports=r},{"../core/main":24}],44:[function(e,t,i){function r(e,t){return e>0&&e<t?e:t}var n=e("../core/main"),o=e("./filters"),s=e("../core/helpers"),a=e("../core/constants");e("../core/error_helpers"),n.prototype.loadImage=function(e,t,i){n._validateParameters("loadImage",arguments);var r=new Image,o=new n.Image(1,1,this),s=this;return r.onload=function(){o.width=o.canvas.width=r.width,o.height=o.canvas.height=r.height,o.drawingContext.drawImage(r,0,0),o.modified=!0,"function"==typeof t&&t(o),s._decrementPreload()},r.onerror=function(e){n._friendlyFileLoadError(0,r.src),"function"==typeof i&&i(e)},0!==e.indexOf("data:image/")&&(r.crossOrigin="Anonymous"),r.src=e,o},n.prototype.image=function(e,t,i,o,a,c,l,h,u){n._validateParameters("image",arguments);var d=e.width,f=e.height;e.elt&&e.elt.videoWidth&&!e.canvas&&(d=e.elt.videoWidth,f=e.elt.videoHeight);var p=t,g=i,m=o||d,v=a||f,y=c||0,b=l||0,w=h||d,x=u||f;w=r(w,d),x=r(x,f);var _=1;e.elt&&!e.canvas&&e.elt.style.width&&(_=e.elt.videoWidth&&!o?e.elt.videoWidth:e.elt.width,_/=parseInt(e.elt.style.width,10)),y*=_,b*=_,x*=_,w*=_;var S=s.modeAdjust(p,g,m,v,this._renderer._imageMode);this._renderer.image(e,y,b,w,x,S.x,S.y,S.w,S.h)},n.prototype.tint=function(){n._validateParameters("tint",arguments);var e=this.color.apply(this,arguments);this._renderer._tint=e.levels},n.prototype.noTint=function(){this._renderer._tint=null},n.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;var t=o._toPixels(e.canvas),i=document.createElement("canvas");i.width=e.canvas.width,i.height=e.canvas.height;for(var r=i.getContext("2d"),n=r.createImageData(e.canvas.width,e.canvas.height),s=n.data,a=0;a<t.length;a+=4){var c=t[a],l=t[a+1],h=t[a+2],u=t[a+3];s[a]=c*this._renderer._tint[0]/255,s[a+1]=l*this._renderer._tint[1]/255,s[a+2]=h*this._renderer._tint[2]/255,s[a+3]=u*this._renderer._tint[3]/255}return r.putImageData(n,0,0),i},n.prototype.imageMode=function(e){n._validateParameters("imageMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.CENTER||(this._renderer._imageMode=e)},t.exports=n},{"../core/constants":18,"../core/error_helpers":20,"../core/helpers":21,"../core/main":24,"./filters":42}],45:[function(e,t,i){var r=e("../core/main"),n=e("./filters");r.Image=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelDensity=1,this._modified=!1,this._pixelsDirty=!0,this.pixels=[]},r.Image.prototype._setProperty=function(e,t){this[e]=t,this.setModified(!0)},r.Image.prototype.loadPixels=function(){r.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},r.Image.prototype.updatePixels=function(e,t,i,n){r.Renderer2D.prototype.updatePixels.call(this,e,t,i,n),this.setModified(!0)},r.Image.prototype.get=function(e,t,i,n){return r.Renderer2D.prototype.get.call(this,e,t,i,n)},r.Image.prototype.set=function(e,t,i){r.Renderer2D.prototype.set.call(this,e,t,i),this.setModified(!0)},r.Image.prototype.resize=function(e,t){0===e&&0===t?(e=this.canvas.width,t=this.canvas.height):0===e?e=this.canvas.width*t/this.canvas.height:0===t&&(t=this.canvas.height*e/this.canvas.width),e=Math.floor(e),t=Math.floor(t);var i=document.createElement("canvas");i.width=e,i.height=t,i.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,i.width,i.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(i,0,0,e,t,0,0,e,t),this.pixels.length>0&&this.loadPixels(),this.setModified(!0),this._pixelsDirty=!0},r.Image.prototype.copy=function(){var e,t,i,n,o,s,a,c,l;if(9===arguments.length)e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3],o=arguments[4],s=arguments[5],a=arguments[6],c=arguments[7],l=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");e=this,t=arguments[0],i=arguments[1],n=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5],c=arguments[6],l=arguments[7]}r.Renderer2D._copyHelper(this,e,t,i,n,o,s,a,c,l),this._pixelsDirty=!0},r.Image.prototype.mask=function(e){void 0===e&&(e=this);var t=this.drawingContext.globalCompositeOperation,i=1;e instanceof r.Renderer&&(i=e._pInst._pixelDensity);var n=[e,0,0,i*e.width,i*e.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",r.Image.prototype.copy.apply(this,n),this.drawingContext.globalCompositeOperation=t,this.setModified(!0)},r.Image.prototype.filter=function(e,t){n.apply(this.canvas,n[e.toLowerCase()],t),this.setModified(!0)},r.Image.prototype.blend=function(){r.prototype.blend.apply(this,arguments),this.setModified(!0)},r.Image.prototype.setModified=function(e){this._modified=e},r.Image.prototype.isModified=function(){return this._modified},r.Image.prototype.save=function(e,t){r.prototype.saveCanvas(this.canvas,e,t)},t.exports=r.Image},{"../core/main":24,"./filters":42}],46:[function(e,t,i){var r=e("../core/main"),n=e("./filters");e("../color/p5.Color"),r.prototype.pixels=[],r.prototype.blend=function(){r._validateParameters("blend",arguments),this._renderer?this._renderer.blend.apply(this._renderer,arguments):r.Renderer2D.prototype.blend.apply(this,arguments)},r.prototype.copy=function(){r._validateParameters("copy",arguments),r.Renderer2D.prototype.copy.apply(this._renderer,arguments)},r.prototype.filter=function(e,t){r._validateParameters("filter",arguments),void 0!==this.canvas?n.apply(this.canvas,n[e.toLowerCase()],t):n.apply(this.elt,n[e.toLowerCase()],t)},r.prototype.get=function(e,t,i,r){return this._renderer.get(e,t,i,r)},r.prototype.loadPixels=function(){r._validateParameters("loadPixels",arguments),this._renderer.loadPixels()},r.prototype.set=function(e,t,i){this._renderer.set(e,t,i)},r.prototype.updatePixels=function(e,t,i,n){r._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(e,t,i,n)},t.exports=r},{"../color/p5.Color":16,"../core/main":24,"./filters":42}],47:[function(e,t,i){function r(e,t){var i={};if(void 0===(t=t||[]))for(var r=0;r<e.length;r++)t[r.toString()]=r;for(var n=0;n<t.length;n++){var o=t[n],s=e[n];i[o]=s}return i}function n(e){var t=new c.XML,i=e.childNodes;if(i&&i.length){for(var r=0;r<i.length;r++){var o=n(i[r]);t.addChild(o)}t.setName(e.nodeName),t._setCont(e.textContent),t._setAttributes(e);for(var s=0;s<t.children.length;s++)t.children[s].parent=t;return t}return t.setName(e.nodeName),t._setCont(e.textContent),t._setAttributes(e),t}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function s(e,t){t&&!0!==t&&"true"!==t||(t=""),e||(e="untitled");var i="";return e&&e.indexOf(".")>-1&&(i=e.split(".").pop()),t&&i!==t&&(i=t,e=e+"."+i),[e,i]}function a(e){document.body.removeChild(e.target)}var c=e("../core/main");e("whatwg-fetch"),e("es6-promise").polyfill();var l=e("fetch-jsonp");e("../core/error_helpers"),c.prototype.loadJSON=function(){c._validateParameters("loadJSON",arguments);for(var e,t,i,r=arguments[0],n={},o="json",s=1;s<arguments.length;s++){var a=arguments[s];"string"==typeof a?"jsonp"!==a&&"json"!==a||(o=a):"function"==typeof a?e?t=a:e=a:"object"==typeof a&&a.hasOwnProperty("jsonpCallback")&&(o="jsonp",i=a)}var l=this;return this.httpDo(r,"GET",i,o,function(t){for(var i in t)n[i]=t[i];void 0!==e&&e(t),l._decrementPreload()},function(e){if(c._friendlyFileLoadError(5,r),!t)throw e;t(e)}),n},c.prototype.loadStrings=function(){c._validateParameters("loadStrings",arguments);for(var e,t,i=[],r=1;r<arguments.length;r++){var n=arguments[r];"function"==typeof n&&(void 0===e?e=n:void 0===t&&(t=n))}var o=this;return c.prototype.httpDo.call(this,arguments[0],"GET","text",function(t){var r=t.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/);Array.prototype.push.apply(i,r),void 0!==e&&e(i),o._decrementPreload()},function(e){if(c._friendlyFileLoadError(3,arguments[0]),!t)throw e;t(e)}),i},c.prototype.loadTable=function(e){var t,i,n=!1,o=e.substring(e.lastIndexOf(".")+1,e.length),s=",",a=!1;"tsv"===o&&(s="\t");for(var l=1;l<arguments.length;l++)if("function"==typeof arguments[l])void 0===t?t=arguments[l]:void 0===i&&(i=arguments[l]);else if("string"==typeof arguments[l])if("header"===arguments[l]&&(n=!0),"csv"===arguments[l]){if(a)throw new Error("Cannot set multiple separator types.");s=",",a=!0}else if("tsv"===arguments[l]){if(a)throw new Error("Cannot set multiple separator types.");s="\t",a=!0}var h=new c.Table,u=this;return this.httpDo(e,"GET","table",function(e){for(var i,o={},a=0,d=1,f=2,p=4,g='"',m="\r",v="\n",y=[],b=0,w=null,x=function(){o.currentState=a,o.token=""},_=function(){w.push(o.token),x()},S=function(){o.escaped=!1,w=[],x()},C=function(){o.currentState=p,y.push(w),w=null};;){if(null==(i=e[b++])){if(o.escaped)throw new Error("Unclosed quote in file.");if(w){_(),C();break}}if(null===w&&S(),o.currentState===a){if(i===g){o.escaped=!0,o.currentState=d;continue}o.currentState=d}if(o.currentState===d&&o.escaped)if(i===g)e[b]===g?(o.token+=g,b++):(o.escaped=!1,o.currentState=f);else{if(i===m)continue;o.token+=i}else i===m?(e[b]===v&&b++,_(),C()):i===v?(_(),C()):i===s?_():o.currentState===d&&(o.token+=i)}if(n)h.columns=y.shift();else for(l=0;l<y[0].length;l++)h.columns[l]="null";var M;for(l=0;l<y.length;l++)(1!==y[l].length||"undefined"!==y[l][0]&&""!==y[l][0])&&(M=new c.TableRow,M.arr=y[l],M.obj=r(y[l],h.columns),h.addRow(M));"function"==typeof t&&t(h),u._decrementPreload()},function(t){if(c._friendlyFileLoadError(2,e),!i)throw t;i(t)}),h},c.prototype.loadXML=function(){for(var e,t,i={},r=1;r<arguments.length;r++){var n=arguments[r];"function"==typeof n&&(void 0===e?e=n:void 0===t&&(t=n))}var o=this;return this.httpDo(arguments[0],"GET","xml",function(t){for(var r in t)i[r]=t[r];void 0!==e&&e(i),o._decrementPreload()},function(e){if(c._friendlyFileLoadError(1,arguments[0]),!t)throw e;t(e)}),i},c.prototype.loadBytes=function(e,t,i){var r={},n=this;return this.httpDo(e,"GET","arrayBuffer",function(e){r.bytes=new Uint8Array(e),"function"==typeof t&&t(r),n._decrementPreload()},function(t){if(c._friendlyFileLoadError(6,e),!i)throw t;i(t)}),r},c.prototype.httpGet=function(){c._validateParameters("httpGet",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"GET"),c.prototype.httpDo.apply(this,e)},c.prototype.httpPost=function(){c._validateParameters("httpPost",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"POST"),c.prototype.httpDo.apply(this,e)},c.prototype.httpDo=function(){for(var e,t,i,r,o,s={},a=0,h="text/plain",u=arguments.length-1;u>0&&"function"==typeof arguments[u];u--)a++;var d=arguments.length-a,f=arguments[0];if(2===d&&"string"==typeof f&&"object"==typeof arguments[1])r=new Request(f,arguments[1]),t=arguments[2],i=arguments[3];else{for(var p,g="GET",m=1;m<arguments.length;m++){var v=arguments[m];if("string"==typeof v)"GET"===v||"POST"===v||"PUT"===v||"DELETE"===v?g=v:"json"===v||"jsonp"===v||"binary"===v||"arrayBuffer"===v||"xml"===v||"text"===v||"table"===v?e=v:p=v;else if("number"==typeof v)p=v.toString();else if("object"==typeof v)if(v.hasOwnProperty("jsonpCallback"))for(var y in v)s[y]=v[y];else p=JSON.stringify(v),h="application/json";else"function"==typeof v&&(t?i=v:t=v)}r=new Request(f,{method:g,mode:"cors",body:p,headers:new Headers({"Content-Type":h})})}return e||(e=-1!==f.indexOf("json")?"json":-1!==f.indexOf("xml")?"xml":"text"),o="jsonp"===e?l(f,s):fetch(r),o=o.then(function(t){if(!t.ok){var i=new Error(t.body);throw i.status=t.status,i.ok=!1,i}var r=t.headers.get("content-length");switch(r&&r>64e6&&c._friendlyFileLoadError(7,f),e){case"json":case"jsonp":return t.json();case"binary":return t.blob();case"arrayBuffer":return t.arrayBuffer();case"xml":return t.text().then(function(e){return n((new DOMParser).parseFromString(e,"text/xml").documentElement)});default:return t.text()}}),o.then(t||function(){}),o.catch(i||console.error),o},window.URL=window.URL||window.webkitURL,c.prototype._pWriters=[],c.prototype.createWriter=function(e,t){var i;for(var r in c.prototype._pWriters)if(c.prototype._pWriters[r].name===e)return i=new c.PrintWriter(e+this.millis(),t),c.prototype._pWriters.push(i),i;return i=new c.PrintWriter(e,t),c.prototype._pWriters.push(i),i},c.PrintWriter=function(e,t){var i=this;this.name=e,this.content="",this.write=function(e){this.content+=e},this.print=function(e){this.content+=e+"\n"},this.clear=function(){this.content=""},this.close=function(){var r=[];for(var n in r.push(this.content),c.prototype.writeFile(r,e,t),c.prototype._pWriters)c.prototype._pWriters[n].name===this.name&&c.prototype._pWriters.splice(n,1);i.clear(),i={}}},c.prototype.save=function(e,t,i){var r=arguments,n=this._curElement.elt;if(0!==r.length)if(r[0]instanceof c.Renderer||r[0]instanceof c.Graphics)c.prototype.saveCanvas(r[0].elt,r[1],r[2]);else if(1===r.length&&"string"==typeof r[0])c.prototype.saveCanvas(n,r[0]);else switch(s(r[1],r[2])[1]){case"json":return void c.prototype.saveJSON(r[0],r[1],r[2]);case"txt":return void c.prototype.saveStrings(r[0],r[1],r[2]);default:r[0]instanceof Array?c.prototype.saveStrings(r[0],r[1],r[2]):r[0]instanceof c.Table?c.prototype.saveTable(r[0],r[1],r[2]):r[0]instanceof c.Image?c.prototype.saveCanvas(r[0].canvas,r[1]):r[0]instanceof c.SoundFile&&c.prototype.saveSound(r[0],r[1],r[2],r[3])}else c.prototype.saveCanvas(n)},c.prototype.saveJSON=function(e,t,i){var r;c._validateParameters("saveJSON",arguments),r=i?JSON.stringify(e):JSON.stringify(e,void 0,2),this.saveStrings(r.split("\n"),t,"json")},c.prototype.saveJSONObject=c.prototype.saveJSON,c.prototype.saveJSONArray=c.prototype.saveJSON,c.prototype.saveStrings=function(e,t,i){c._validateParameters("saveStrings",arguments);for(var r=i||"txt",n=this.createWriter(t,r),o=0;o<e.length;o++)e.length,n.print(e[o]);n.close(),n.clear()},c.prototype.saveTable=function(e,t,i){var r;c._validateParameters("saveTable",arguments),r=void 0===i?t.substring(t.lastIndexOf(".")+1,t.length):i;var n=this.createWriter(t,r),s=e.columns,a=",";if("tsv"===r&&(a="\t"),"html"!==r){if("0"!==s[0]){for(var l=0;l<s.length;l++)l<s.length-1?n.write(s[l]+a):n.write(s[l]);n.write("\n")}for(var h=0;h<e.rows.length;h++){var u;for(u=0;u<e.rows[h].arr.length;u++)u<e.rows[h].arr.length-1?n.write(e.rows[h].arr[u]+a):(e.rows.length,n.write(e.rows[h].arr[u]));n.write("\n")}}else{n.print("<html>"),n.print("<head>");var d='  <meta http-equiv="content-type" content';if(d+='="text/html;charset=utf-8" />',n.print(d),n.print("</head>"),n.print("<body>"),n.print("  <table>"),"0"!==s[0]){n.print("    <tr>");for(var f=0;f<s.length;f++){var p=o(s[f]);n.print("      <td>"+p),n.print("      </td>")}n.print("    </tr>")}for(var g=0;g<e.rows.length;g++){n.print("    <tr>");for(var m=0;m<e.columns.length;m++){var v=e.rows[g].getString(m),y=o(v);n.print("      <td>"+y),n.print("      </td>")}n.print("    </tr>")}n.print("  </table>"),n.print("</body>"),n.print("</html>")}n.close(),n.clear()},c.prototype.writeFile=function(e,t,i){var r="application/octet-stream";c.prototype._isSafari()&&(r="text/plain");var n=new Blob(e,{type:r});c.prototype.downloadFile(n,t,i)},c.prototype.downloadFile=function(t,i,r){var n=s(i,r),o=n[0];if(t instanceof Blob)e("file-saver").saveAs(t,o);else{var l=document.createElement("a");if(l.href=t,l.download=o,l.onclick=function(e){a(e),e.stopPropagation()},l.style.display="none",document.body.appendChild(l),c.prototype._isSafari()){var h="Hello, Safari user! To download this file...\n";h+="1. Go to File --\x3e Save As.\n",h+='2. Choose "Page Source" as the Format.\n',h+='3. Name it with this extension: ."'+n[1]+'"',alert(h)}l.click()}},c.prototype._checkFileExtension=s,c.prototype._isSafari=function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},t.exports=c},{"../core/error_helpers":20,"../core/main":24,"es6-promise":4,"fetch-jsonp":5,"file-saver":6,"whatwg-fetch":12}],48:[function(e,t,i){var r=e("../core/main");r.Table=function(e){this.columns=[],this.rows=[]},r.Table.prototype.addRow=function(e){var t=e||new r.TableRow;if(void 0===t.arr||void 0===t.obj)throw new Error("invalid TableRow: "+t);return t.table=this,this.rows.push(t),t},r.Table.prototype.removeRow=function(e){this.rows[e].table=null;var t=this.rows.splice(e+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(t)},r.Table.prototype.getRow=function(e){return this.rows[e]},r.Table.prototype.getRows=function(){return this.rows},r.Table.prototype.findRow=function(e,t){if("string"==typeof t){for(var i=0;i<this.rows.length;i++)if(this.rows[i].obj[t]===e)return this.rows[i]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t]===e)return this.rows[r];return null},r.Table.prototype.findRows=function(e,t){var i=[];if("string"==typeof t)for(var r=0;r<this.rows.length;r++)this.rows[r].obj[t]===e&&i.push(this.rows[r]);else for(var n=0;n<this.rows.length;n++)this.rows[n].arr[t]===e&&i.push(this.rows[n]);return i},r.Table.prototype.matchRow=function(e,t){if("number"==typeof t){for(var i=0;i<this.rows.length;i++)if(this.rows[i].arr[t].match(e))return this.rows[i]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t].match(e))return this.rows[r];return null},r.Table.prototype.matchRows=function(e,t){var i=[];if("number"==typeof t)for(var r=0;r<this.rows.length;r++)this.rows[r].arr[t].match(e)&&i.push(this.rows[r]);else for(var n=0;n<this.rows.length;n++)this.rows[n].obj[t].match(e)&&i.push(this.rows[n]);return i},r.Table.prototype.getColumn=function(e){var t=[];if("string"==typeof e)for(var i=0;i<this.rows.length;i++)t.push(this.rows[i].obj[e]);else for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].arr[e]);return t},r.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},r.Table.prototype.addColumn=function(e){var t=e||null;this.columns.push(t)},r.Table.prototype.getColumnCount=function(){return this.columns.length},r.Table.prototype.getRowCount=function(){return this.rows.length},r.Table.prototype.removeTokens=function(e,t){for(var i=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},r=[],n=0;n<e.length;n++)r.push(i(e.charAt(n)));var o=new RegExp(r.join("|"),"g");if(void 0===t)for(var s=0;s<this.columns.length;s++)for(var a=0;a<this.rows.length;a++){var c=this.rows[a].arr[s];c=c.replace(o,""),this.rows[a].arr[s]=c,this.rows[a].obj[this.columns[s]]=c}else if("string"==typeof t)for(var l=0;l<this.rows.length;l++){var h=this.rows[l].obj[t];h=h.replace(o,""),this.rows[l].obj[t]=h;var u=this.columns.indexOf(t);this.rows[l].arr[u]=h}else for(var d=0;d<this.rows.length;d++){var f=this.rows[d].arr[t];f=f.replace(o,""),this.rows[d].arr[t]=f,this.rows[d].obj[this.columns[t]]=f}},r.Table.prototype.trim=function(e){var t=new RegExp(" ","g");if(void 0===e)for(var i=0;i<this.columns.length;i++)for(var r=0;r<this.rows.length;r++){var n=this.rows[r].arr[i];n=n.replace(t,""),this.rows[r].arr[i]=n,this.rows[r].obj[this.columns[i]]=n}else if("string"==typeof e)for(var o=0;o<this.rows.length;o++){var s=this.rows[o].obj[e];s=s.replace(t,""),this.rows[o].obj[e]=s;var a=this.columns.indexOf(e);this.rows[o].arr[a]=s}else for(var c=0;c<this.rows.length;c++){var l=this.rows[c].arr[e];l=l.replace(t,""),this.rows[c].arr[e]=l,this.rows[c].obj[this.columns[e]]=l}},r.Table.prototype.removeColumn=function(e){var t,i;"string"==typeof e?(t=e,i=this.columns.indexOf(e)):(i=e,t=this.columns[e]);var r=this.columns.splice(i+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(r);for(var n=0;n<this.rows.length;n++){var o=this.rows[n].arr,s=o.splice(i+1,o.length);o.pop(),this.rows[n].arr=o.concat(s),delete this.rows[n].obj[t]}},r.Table.prototype.set=function(e,t,i){this.rows[e].set(t,i)},r.Table.prototype.setNum=function(e,t,i){this.rows[e].setNum(t,i)},r.Table.prototype.setString=function(e,t,i){this.rows[e].setString(t,i)},r.Table.prototype.get=function(e,t){return this.rows[e].get(t)},r.Table.prototype.getNum=function(e,t){return this.rows[e].getNum(t)},r.Table.prototype.getString=function(e,t){return this.rows[e].getString(t)},r.Table.prototype.getObject=function(e){for(var t,i,r={},n=0;n<this.rows.length;n++)if(t=this.rows[n].obj,"string"==typeof e){if(!(this.columns.indexOf(e)>=0))throw new Error('This table has no column named "'+e+'"');i=t[e],r[i]=t}else r[n]=this.rows[n].obj;return r},r.Table.prototype.getArray=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e},t.exports=r},{"../core/main":24}],49:[function(e,t,i){var r=e("../core/main");r.TableRow=function(e,t){var i=[],r={};e&&(t=t||",",i=e.split(t));for(var n=0;n<i.length;n++){var o=n,s=i[n];r[o]=s}this.arr=i,this.obj=r,this.table=null},r.TableRow.prototype.set=function(e,t){if("string"==typeof e){var i=this.table.columns.indexOf(e);if(!(i>=0))throw new Error('This table has no column named "'+e+'"');this.obj[e]=t,this.arr[i]=t}else{if(!(e<this.table.columns.length))throw new Error("Column #"+e+" is out of the range of this table");this.arr[e]=t;var r=this.table.columns[e];this.obj[r]=t}},r.TableRow.prototype.setNum=function(e,t){var i=parseFloat(t);this.set(e,i)},r.TableRow.prototype.setString=function(e,t){var i=t.toString();this.set(e,i)},r.TableRow.prototype.get=function(e){return"string"==typeof e?this.obj[e]:this.arr[e]},r.TableRow.prototype.getNum=function(e){var t;if(t="string"==typeof e?parseFloat(this.obj[e]):parseFloat(this.arr[e]),"NaN"===t.toString())throw"Error: "+this.obj[e]+" is NaN (Not a Number)";return t},r.TableRow.prototype.getString=function(e){return"string"==typeof e?this.obj[e].toString():this.arr[e].toString()},t.exports=r},{"../core/main":24}],50:[function(e,t,i){var r=e("../core/main");r.XML=function(){this.name=null,this.attributes={},this.children=[],this.parent=null,this.content=null},r.XML.prototype.getParent=function(){return this.parent},r.XML.prototype.getName=function(){return this.name},r.XML.prototype.setName=function(e){this.name=e},r.XML.prototype.hasChildren=function(){return this.children.length>0},r.XML.prototype.listChildren=function(){return this.children.map(function(e){return e.name})},r.XML.prototype.getChildren=function(e){return e?this.children.filter(function(t){return t.name===e}):this.children},r.XML.prototype.getChild=function(e){if("string"!=typeof e)return this.children[e];for(var t=0;t<this.children.length;t++){var i=this.children[t];if(i.name===e)return i}},r.XML.prototype.addChild=function(e){e instanceof r.XML&&this.children.push(e)},r.XML.prototype.removeChild=function(e){var t=-1;if("string"==typeof e){for(var i=0;i<this.children.length;i++)if(this.children[i].name===e){t=i;break}}else t=e;-1!==t&&this.children.splice(t,1)},r.XML.prototype.getAttributeCount=function(){return Object.keys(this.attributes).length},r.XML.prototype.listAttributes=function(){return Object.keys(this.attributes)},r.XML.prototype.hasAttribute=function(e){return!!this.attributes[e]},r.XML.prototype.getNum=function(e,t){return Number(this.attributes[e])||t||0},r.XML.prototype.getString=function(e,t){return String(this.attributes[e])||t||null},r.XML.prototype.setAttribute=function(e,t){this.attributes[e]&&(this.attributes[e]=t)},r.XML.prototype.getContent=function(e){return this.content||e||null},r.XML.prototype.setContent=function(e){this.children.length||(this.content=e)},r.XML.prototype._setCont=function(e){var t;t=e,t=t.replace(/\s\s+/g,","),this.content=t},r.XML.prototype._setAttributes=function(e){var t={},i=e.attributes;if(i)for(var r=0;r<i.length;r++){var n=i[r];t[n.nodeName]=n.nodeValue}this.attributes=t},t.exports=r},{"../core/main":24}],51:[function(e,t,i){function r(e,t,i){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var r=arguments.length,n=[],o=0,s=0;s<r;s++){var a=arguments[s];if((a=+a)===1/0||a===-1/0)return 1/0;a=Math.abs(a),a>o&&(o=a),n[s]=a}0===o&&(o=1);for(var c=0,l=0,h=0;h<r;h++){var u=n[h]/o,d=u*u-l,f=c+d;l=f-c-d,c=f}return Math.sqrt(c)*o}var n=e("../core/main");n.prototype.abs=Math.abs,n.prototype.ceil=Math.ceil,n.prototype.constrain=function(e,t,i){return n._validateParameters("constrain",arguments),Math.max(Math.min(e,i),t)},n.prototype.dist=function(){return n._validateParameters("dist",arguments),4===arguments.length?r(arguments[2]-arguments[0],arguments[3]-arguments[1]):6===arguments.length?r(arguments[3]-arguments[0],arguments[4]-arguments[1],arguments[5]-arguments[2]):void 0},n.prototype.exp=Math.exp,n.prototype.floor=Math.floor,n.prototype.lerp=function(e,t,i){return n._validateParameters("lerp",arguments),i*(t-e)+e},n.prototype.log=Math.log,n.prototype.mag=function(e,t){return n._validateParameters("mag",arguments),r(e,t)},n.prototype.map=function(e,t,i,r,o,s){n._validateParameters("map",arguments);var a=(e-t)/(i-t)*(o-r)+r;return s?r<o?this.constrain(a,r,o):this.constrain(a,o,r):a},n.prototype.max=function(){return n._validateParameters("max",arguments),arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},n.prototype.min=function(){return n._validateParameters("min",arguments),arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},n.prototype.norm=function(e,t,i){return n._validateParameters("norm",arguments),this.map(e,t,i,0,1)},n.prototype.pow=Math.pow,n.prototype.round=Math.round,n.prototype.sq=function(e){return e*e},n.prototype.sqrt=Math.sqrt,t.exports=n},{"../core/main":24}],52:[function(e,t,i){var r=e("../core/main");r.prototype.createVector=function(e,t,i){return this instanceof r?new r.Vector(this,arguments):new r.Vector(e,t,i)},t.exports=r},{"../core/main":24}],53:[function(e,t,i){var r,n=e("../core/main"),o=4,s=1<<o,a=8,c=1<<a,l=4095,h=4,u=.5,d=function(e){return.5*(1-Math.cos(e*Math.PI))};n.prototype.noise=function(e,t,i){if(t=t||0,i=i||0,null==r){r=new Array(l+1);for(var n=0;n<l+1;n++)r[n]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),i<0&&(i=-i);for(var f,p,g,m,v,y=Math.floor(e),b=Math.floor(t),w=Math.floor(i),x=e-y,_=t-b,S=i-w,C=0,M=.5,T=0;T<h;T++){var R=y+(b<<o)+(w<<a);f=d(x),p=d(_),g=r[R&l],g+=f*(r[R+1&l]-g),m=r[R+s&l],m+=f*(r[R+s+1&l]-m),g+=p*(m-g),R+=c,m=r[R&l],m+=f*(r[R+1&l]-m),v=r[R+s&l],v+=f*(r[R+s+1&l]-v),m+=p*(v-m),g+=d(S)*(m-g),C+=g*M,M*=u,y<<=1,x*=2,b<<=1,_*=2,w<<=1,S*=2,x>=1&&(y++,x--),_>=1&&(b++,_--),S>=1&&(w++,S--)}return C},n.prototype.noiseDetail=function(e,t){e>0&&(h=e),t>0&&(u=t)},n.prototype.noiseSeed=function(e){var t=function(){var e,t,i=4294967296,r=1664525,n=1013904223;return{setSeed:function(r){t=e=(null==r?Math.random()*i:r)>>>0},getSeed:function(){return e},rand:function(){return(t=(r*t+n)%i)/i}}}();t.setSeed(e),r=new Array(l+1);for(var i=0;i<l+1;i++)r[i]=t.rand()},t.exports=n},{"../core/main":24}],54:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");r.Vector=function(){var e,t,i;arguments[0]instanceof r?(this.p5=arguments[0],e=arguments[1][0]||0,t=arguments[1][1]||0,i=arguments[1][2]||0):(e=arguments[0]||0,t=arguments[1]||0,i=arguments[2]||0),this.x=e,this.y=t,this.z=i},r.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},r.Vector.prototype.set=function(e,t,i){return e instanceof r.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this):e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0,this):(this.x=e||0,this.y=t||0,this.z=i||0,this)},r.Vector.prototype.copy=function(){return this.p5?new r.Vector(this.p5,[this.x,this.y,this.z]):new r.Vector(this.x,this.y,this.z)},r.Vector.prototype.add=function(e,t,i){return e instanceof r.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0,this):e instanceof Array?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0,this):(this.x+=e||0,this.y+=t||0,this.z+=i||0,this)},r.Vector.prototype.sub=function(e,t,i){return e instanceof r.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0,this):e instanceof Array?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0,this):(this.x-=e||0,this.y-=t||0,this.z-=i||0,this)},r.Vector.prototype.mult=function(e){return"number"==typeof e&&isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this):(console.warn("p5.Vector.prototype.mult:","n is undefined or not a finite number"),this)},r.Vector.prototype.div=function(e){return"number"==typeof e&&isFinite(e)?0===e?(console.warn("p5.Vector.prototype.div:","divide by 0"),this):(this.x/=e,this.y/=e,this.z/=e,this):(console.warn("p5.Vector.prototype.div:","n is undefined or not a finite number"),this)},r.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},r.Vector.prototype.magSq=function(){var e=this.x,t=this.y,i=this.z;return e*e+t*t+i*i},r.Vector.prototype.dot=function(e,t,i){return e instanceof r.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(i||0)},r.Vector.prototype.cross=function(e){var t=this.y*e.z-this.z*e.y,i=this.z*e.x-this.x*e.z,n=this.x*e.y-this.y*e.x;return this.p5?new r.Vector(this.p5,[t,i,n]):new r.Vector(t,i,n)},r.Vector.prototype.dist=function(e){return e.copy().sub(this).mag()},r.Vector.prototype.normalize=function(){var e=this.mag();return 0!==e&&this.mult(1/e),this},r.Vector.prototype.limit=function(e){var t=this.magSq();return t>e*e&&this.div(Math.sqrt(t)).mult(e),this},r.Vector.prototype.setMag=function(e){return this.normalize().mult(e)},r.Vector.prototype.heading=function(){var e=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(e):e},r.Vector.prototype.rotate=function(e){var t=this.heading()+e;this.p5&&(t=this.p5._toRadians(t));var i=this.mag();return this.x=Math.cos(t)*i,this.y=Math.sin(t)*i,this},r.Vector.prototype.angleBetween=function(e){var t=this.dot(e)/(this.mag()*e.mag()),i=Math.acos(Math.min(1,Math.max(-1,t)));return this.p5?this.p5._fromRadians(i):i},r.Vector.prototype.lerp=function(e,t,i,n){return e instanceof r.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*n||0,this.y+=(t-this.y)*n||0,this.z+=(i-this.z)*n||0,this)},r.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},r.Vector.prototype.equals=function(e,t,i){var n,o,s;return e instanceof r.Vector?(n=e.x||0,o=e.y||0,s=e.z||0):e instanceof Array?(n=e[0]||0,o=e[1]||0,s=e[2]||0):(n=e||0,o=t||0,s=i||0),this.x===n&&this.y===o&&this.z===s},r.Vector.fromAngle=function(e,t){return void 0===t&&(t=1),new r.Vector(t*Math.cos(e),t*Math.sin(e),0)},r.Vector.fromAngles=function(e,t,i){void 0===i&&(i=1);var n=Math.cos(t),o=Math.sin(t),s=Math.cos(e),a=Math.sin(e);return new r.Vector(i*a*o,-i*s,i*a*n)},r.Vector.random2D=function(){return this.fromAngle(Math.random()*n.TWO_PI)},r.Vector.random3D=function(){var e=Math.random()*n.TWO_PI,t=2*Math.random()-1,i=Math.sqrt(1-t*t),o=i*Math.cos(e),s=i*Math.sin(e);return new r.Vector(o,s,t)},r.Vector.add=function(e,t,i){return i?i.set(e):i=e.copy(),i.add(t),i},r.Vector.sub=function(e,t,i){return i?i.set(e):i=e.copy(),i.sub(t),i},r.Vector.mult=function(e,t,i){return i?i.set(e):i=e.copy(),i.mult(t),i},r.Vector.div=function(e,t,i){return i?i.set(e):i=e.copy(),i.div(t),i},r.Vector.dot=function(e,t){return e.dot(t)},r.Vector.cross=function(e,t){return e.cross(t)},r.Vector.dist=function(e,t){return e.dist(t)},r.Vector.lerp=function(e,t,i,r){return r?r.set(e):r=e.copy(),r.lerp(t,i),r},r.Vector.mag=function(e){var t=e.x,i=e.y,r=e.z,n=t*t+i*i+r*r;return Math.sqrt(n)},t.exports=r.Vector},{"../core/constants":18,"../core/main":24}],55:[function(e,t,i){var r=e("../core/main"),n=!1,o=!1,s=0,a=function(){var e,t,i=4294967296,r=1664525,n=1013904223;return{setSeed:function(r){t=e=(null==r?Math.random()*i:r)>>>0},getSeed:function(){return e},rand:function(){return(t=(r*t+n)%i)/i}}}();r.prototype.randomSeed=function(e){a.setSeed(e),n=!0,o=!1},r.prototype.random=function(e,t){var i;if(i=n?a.rand():Math.random(),void 0===e)return i;if(void 0===t)return e instanceof Array?e[Math.floor(i*e.length)]:i*e;if(e>t){var r=e;e=t,t=r}return i*(t-e)+e},r.prototype.randomGaussian=function(e,t){var i,r,n,a;if(o)i=s,o=!1;else{do{r=this.random(2)-1,n=this.random(2)-1,a=r*r+n*n}while(a>=1);a=Math.sqrt(-2*Math.log(a)/a),i=r*a,s=n*a,o=!0}var c=e||0;return i*(t||1)+c},t.exports=r},{"../core/main":24}],56:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");r.prototype._angleMode=n.RADIANS,r.prototype.acos=function(e){return this._fromRadians(Math.acos(e))},r.prototype.asin=function(e){return this._fromRadians(Math.asin(e))},r.prototype.atan=function(e){return this._fromRadians(Math.atan(e))},r.prototype.atan2=function(e,t){return this._fromRadians(Math.atan2(e,t))},r.prototype.cos=function(e){return Math.cos(this._toRadians(e))},r.prototype.sin=function(e){return Math.sin(this._toRadians(e))},r.prototype.tan=function(e){return Math.tan(this._toRadians(e))},r.prototype.degrees=function(e){return e*n.RAD_TO_DEG},r.prototype.radians=function(e){return e*n.DEG_TO_RAD},r.prototype.angleMode=function(e){e!==n.DEGREES&&e!==n.RADIANS||(this._angleMode=e)},r.prototype._toRadians=function(e){return this._angleMode===n.DEGREES?e*n.DEG_TO_RAD:e},r.prototype._toDegrees=function(e){return this._angleMode===n.RADIANS?e*n.RAD_TO_DEG:e},r.prototype._fromRadians=function(e){return this._angleMode===n.DEGREES?e*n.RAD_TO_DEG:e},t.exports=r},{"../core/constants":18,"../core/main":24}],57:[function(e,t,i){var r=e("../core/main");r.prototype.textAlign=function(e,t){return r._validateParameters("textAlign",arguments),this._renderer.textAlign.apply(this._renderer,arguments)},r.prototype.textLeading=function(e){return r._validateParameters("textLeading",arguments),this._renderer.textLeading.apply(this._renderer,arguments)},r.prototype.textSize=function(e){return r._validateParameters("textSize",arguments),this._renderer.textSize.apply(this._renderer,arguments)},r.prototype.textStyle=function(e){return r._validateParameters("textStyle",arguments),this._renderer.textStyle.apply(this._renderer,arguments)},r.prototype.textWidth=function(e){return r._validateParameters("textWidth",arguments),0===e.length?0:this._renderer.textWidth.apply(this._renderer,arguments)},r.prototype.textAscent=function(){return r._validateParameters("textAscent",arguments),this._renderer.textAscent()},r.prototype.textDescent=function(){return r._validateParameters("textDescent",arguments),this._renderer.textDescent()},r.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},t.exports=r},{"../core/main":24}],58:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants"),o=e("opentype.js");e("../core/error_helpers"),r.prototype.loadFont=function(e,t,i){r._validateParameters("loadFont",arguments);var n=new r.Font(this),s=this;return o.load(e,function(o,a){if(o)return void 0!==i?i(o):(r._friendlyFileLoadError(4,e),void console.error(o,e));n.font=a,void 0!==t&&t(n),s._decrementPreload();var c,l,h=["ttf","otf","woff","woff2"],u=e.split("\\").pop().split("/").pop(),d=u.lastIndexOf("."),f=d<1?null:u.substr(d+1);h.indexOf(f)>-1&&(c=u.substr(0,d),l=document.createElement("style"),l.appendChild(document.createTextNode("\n@font-face {\nfont-family: "+c+";\nsrc: url("+e+");\n}\n")),document.head.appendChild(l))}),n},r.prototype.text=function(e,t,i,n,o){return r._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?this._renderer.text.apply(this._renderer,arguments):this},r.prototype.textFont=function(e,t){if(r._validateParameters("textFont",arguments),arguments.length){if(!e)throw new Error("null font passed to textFont");return this._renderer._setProperty("_textFont",e),t&&(this._renderer._setProperty("_textSize",t),this._renderer._setProperty("_textLeading",t*n._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont},t.exports=r},{"../core/constants":18,"../core/error_helpers":20,"../core/main":24,"opentype.js":10}],59:[function(e,t,i){function r(e,t){for(var i=a(t,{sampleFactor:.1,simplifyThreshold:0}),r=f(e,0,1),o=r/(r*i.sampleFactor),s=[],c=0;c<r;c+=o)s.push(f(e,c));return i.simplifyThreshold&&n(s,i.simplifyThreshold),s}function n(e,t){t=void 0===t?0:t;for(var i=0,r=e.length-1;e.length>3&&r>=0;--r)l(c(e,r-1),c(e,r),c(e,r+1),t)&&(e.splice(r%e.length,1),i++);return i}function o(e){for(var t,i=[],r=0;r<e.length;r++)"M"===e[r].type&&(t&&i.push(t),t=[]),t.push(s(e[r]));return i.push(t),i}function s(e){var t=[e.type];return"M"===e.type||"L"===e.type?t.push(e.x,e.y):"C"===e.type?t.push(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type&&t.push(e.x1,e.y1,e.x,e.y),t}function a(e,t){if("object"!=typeof e)e=t;else for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e}function c(e,t){var i=e.length;return e[t<0?t%i+i:t%i]}function l(e,t,i,r){if(!r)return 0===h(e,t,i);void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]);var n=l.tmpPoint1,o=l.tmpPoint2;n.x=t.x-e.x,n.y=t.y-e.y,o.x=i.x-t.x,o.y=i.y-t.y;var s=n.x*o.x+n.y*o.y,a=Math.sqrt(n.x*n.x+n.y*n.y),c=Math.sqrt(o.x*o.x+o.y*o.y);return Math.acos(s/(a*c))<r}function h(e,t,i){return(t[0]-e[0])*(i[1]-e[1])-(i[0]-e[0])*(t[1]-e[1])}function u(e,t,i,r,n,o,s,a,c){var l=1-c,h=Math.pow(l,3),u=Math.pow(l,2),d=c*c,f=d*c,p=h*e+3*u*c*i+3*l*c*c*n+f*s,g=h*t+3*u*c*r+3*l*c*c*o+f*a,m=e+2*c*(i-e)+d*(n-2*i+e),v=t+2*c*(r-t)+d*(o-2*r+t),y=i+2*c*(n-i)+d*(s-2*n+i),b=r+2*c*(o-r)+d*(a-2*o+r),w=l*e+c*i,x=l*t+c*r,_=l*n+c*s,S=l*o+c*a,C=90-180*Math.atan2(m-y,v-b)/Math.PI;return(m>y||v<b)&&(C+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:w,y:x},end:{x:_,y:S},alpha:C}}function d(e,t,i,r,n,o,s,a,c){return null==c?w(e,t,i,r,n,o,s,a):u(e,t,i,r,n,o,s,a,x(e,t,i,r,n,o,s,a,c))}function f(e,t,i){e=g(e);for(var r,n,o,s,a,c=0,l=0,h=e.length;l<h;l++){if(o=e[l],"M"===o[0])r=+o[1],n=+o[2];else{if(s=d(r,n,o[1],o[2],o[3],o[4],o[5],o[6]),c+s>t&&!i)return a=d(r,n,o[1],o[2],o[3],o[4],o[5],o[6],t-c),{x:a.x,y:a.y,alpha:a.alpha};c+=s,r=+o[5],n=+o[6]}o.shift()+o}return a=i?c:u(r,n,o[0],o[1],o[2],o[3],o[4],o[5],1),a.alpha&&(a={x:a.x,y:a.y,alpha:a.alpha}),a}function p(e){var t=[],i=0,r=0,n=0,o=0,s=0;if(!e)return t;"M"===e[0][0]&&(i=+e[0][1],r=+e[0][2],n=i,o=r,s++,t[0]=["M",i,r]);for(var a,c,l,h=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),u=s,d=e.length;u<d;u++){if(t.push(c=[]),l=e[u],l[0]!==String.prototype.toUpperCase.call(l[0]))switch(c[0]=String.prototype.toUpperCase.call(l[0]),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+(l[6]+i),c[7]=+(l[7]+r);break;case"V":c[1]=+l[1]+r;break;case"H":c[1]=+l[1]+i;break;case"R":a=[i,r].concat(l.slice(1));for(var f=2,p=a.length;f<p;f++)a[f]=+a[f]+i,a[++f]=+a[f]+r;t.pop(),t=t.concat(v(a,h));break;case"M":n=+l[1]+i,o=+l[2]+r;break;default:for(f=1,p=l.length;f<p;f++)c[f]=+l[f]+(f%2?i:r)}else if("R"===l[0])a=[i,r].concat(l.slice(1)),t.pop(),t=t.concat(v(a,h)),c=["R"].concat(l.slice(-2));else for(var g=0,m=l.length;g<m;g++)c[g]=l[g];switch(c[0]){case"Z":i=n,r=o;break;case"H":i=c[1];break;case"V":r=c[1];break;case"M":n=c[c.length-2],o=c[c.length-1];break;default:i=c[c.length-2],r=c[c.length-1]}}return t}function g(e,t){var i,r=p(e),n=t&&p(t),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=[],c=[],l=function(e,t,i){var r,n,o={T:1,Q:1};if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in o||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(m.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===i||"S"===i?(r=2*t.x-t.bx,n=2*t.y-t.by):(r=t.x,n=t.y),e=["C",r,n].concat(e.slice(1));break;case"T":"Q"===i||"T"===i?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(b(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(b(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(y(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(y(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(y(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(y(t.x,t.y,t.X,t.Y))}return e},h=function(e,t){if(e[t].length>7){e[t].shift();for(var o=e[t];o.length;)a[t]="A",n&&(c[t]="A"),e.splice(t++,0,["C"].concat(o.splice(0,6)));e.splice(t,1),i=Math.max(r.length,n&&n.length||0)}},u=function(e,t,o,s,a){e&&t&&"M"===e[a][0]&&"M"!==t[a][0]&&(t.splice(a,0,["M",s.x,s.y]),o.bx=0,o.by=0,o.x=e[a][1],o.y=e[a][2],i=Math.max(r.length,n&&n.length||0))},d="",f="";i=Math.max(r.length,n&&n.length||0);for(var g=0;g<i;g++){r[g]&&(d=r[g][0]),"C"!==d&&(a[g]=d,g&&(f=a[g-1])),r[g]=l(r[g],o,f),"A"!==a[g]&&"C"===d&&(a[g]="C"),h(r,g),n&&(n[g]&&(d=n[g][0]),"C"!==d&&(c[g]=d,g&&(f=c[g-1])),n[g]=l(n[g],s,f),"A"!==c[g]&&"C"===d&&(c[g]="C"),h(n,g)),u(r,n,o,s,g),u(n,r,s,o,g);var v=r[g],w=n&&n[g],x=v.length,_=n&&w.length;o.x=v[x-2],o.y=v[x-1],o.bx=parseFloat(v[x-4])||o.x,o.by=parseFloat(v[x-3])||o.y,s.bx=n&&(parseFloat(w[_-4])||s.x),s.by=n&&(parseFloat(w[_-3])||s.y),s.x=n&&w[_-2],s.y=n&&w[_-1]}return n?[r,n]:r}function m(e,t,i,r,n,o,s,a,c,l){var h,u,d,f,p,g=Math.PI,v=120*g/180,y=g/180*(+n||0),b=[],w=function(e,t,i){return{x:e*Math.cos(i)-t*Math.sin(i),y:e*Math.sin(i)+t*Math.cos(i)}};if(l)h=l[0],u=l[1],d=l[2],f=l[3];else{p=w(e,t,-y),e=p.x,t=p.y,p=w(a,c,-y),a=p.x,c=p.y;var x=(e-a)/2,_=(t-c)/2,S=x*x/(i*i)+_*_/(r*r);S>1&&(S=Math.sqrt(S),i*=S,r*=S);var C=i*i,M=r*r,T=(o===s?-1:1)*Math.sqrt(Math.abs((C*M-C*_*_-M*x*x)/(C*_*_+M*x*x)));d=T*i*_/r+(e+a)/2,f=T*-r*x/i+(t+c)/2,h=Math.asin(((t-f)/r).toFixed(9)),u=Math.asin(((c-f)/r).toFixed(9)),h=e<d?g-h:h,u=a<d?g-u:u,h<0&&(h=2*g+h),u<0&&(u=2*g+u),s&&h>u&&(h-=2*g),!s&&u>h&&(u-=2*g)}var R=u-h;if(Math.abs(R)>v){var E=u,k=a,L=c;u=h+v*(s&&u>h?1:-1),a=d+i*Math.cos(u),c=f+r*Math.sin(u),b=m(a,c,i,r,n,0,s,k,L,[u,E,d,f])}R=u-h;var A=Math.cos(h),$=Math.sin(h),I=Math.cos(u),U=Math.sin(u),P=Math.tan(R/4),O=4/3*i*P,D=4/3*r*P,F=[e,t],B=[e+O*$,t-D*A],N=[a+O*U,c-D*I],G=[a,c];if(B[0]=2*F[0]-B[0],B[1]=2*F[1]-B[1],l)return[B,N,G].concat(b);b=[B,N,G].concat(b).join().split(",");for(var j=[],W=0,H=b.length;W<H;W++)j[W]=W%2?w(b[W-1],b[W],y).y:w(b[W],b[W+1],y).x;return j}function v(e,t){for(var i=[],r=0,n=e.length;n-2*!t>r;r+=2){var o=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?n-4===r?o[3]={x:+e[0],y:+e[1]}:n-2===r&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[n-2],y:+e[n-1]}:n-4===r?o[3]=o[2]:r||(o[0]={x:+e[r],y:+e[r+1]}),i.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return i}function y(e,t,i,r){return[e,t,i,r,i,r]}function b(e,t,i,r,n,o){var s=1/3,a=2/3;return[s*e+a*i,s*t+a*r,s*n+a*i,s*o+a*r,n,o]}function w(e,t,i,r,n,o,s,a,c){null==c&&(c=1),c=c>1?1:c<0?0:c;for(var l=c/2,h=12,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=0,f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0;p<h;p++){var g=l*u[p]+l,m=_(g,e,i,n,s),v=_(g,t,r,o,a),y=m*m+v*v;d+=f[p]*Math.sqrt(y)}return l*d}function x(e,t,i,r,n,o,s,a,c){if(!(c<0||w(e,t,i,r,n,o,s,a)<c)){var l,h=1,u=h/2,d=h-u,f=.01;for(l=w(e,t,i,r,n,o,s,a,d);Math.abs(l-c)>f;)u/=2,d+=(l<c?1:-1)*u,l=w(e,t,i,r,n,o,s,a,d);return d}}function _(e,t,i,r,n){return e*(e*(-3*t+9*i-9*r+3*n)+6*t-12*i+6*r)-3*t+3*i}function S(){for(var e="",t=arguments.length-1;t>=0;--t){var i=arguments[t];e+=i===Object(i)?JSON.stringify(i):i}return e}var C=e("../core/main"),M=e("../core/constants");C.Font=function(e){this.parent=e,this.cache={},this.font=void 0},C.Font.prototype.list=function(){throw new Error("not yet implemented")},C.Font.prototype.textBounds=function(e,t,i,r,n){t=void 0!==t?t:0,i=void 0!==i?i:0,r=r||this.parent._renderer._textSize;var o=n&&n.renderer&&n.renderer._pInst||this.parent,s=o._renderer,a=s._textAlign||M.LEFT,c=s._textBaseline||M.BASELINE,l=S("textBounds",e,t,i,r,a,c),h=this.cache[l];if(!h){var u,d,f,p,g,m=[],v=[],y=this._scale(r);this.font.forEachGlyph(e,t,i,r,n,function(e,t,i,r){var n=e.getMetrics();m.push(t+n.xMin*y),m.push(t+n.xMax*y),v.push(i+-n.yMin*y),v.push(i+-n.yMax*y)}),u=Math.min.apply(null,m),d=Math.min.apply(null,v),f=Math.max.apply(null,m),p=Math.max.apply(null,v),h={x:u,y:d,h:p-d,w:f-u,advance:u-t},g=this._handleAlignment(s,e,h.x,h.y,h.w+h.advance),h.x=g.x,h.y=g.y,this.cache[S("textBounds",e,t,i,r,a,c)]=h}return h},C.Font.prototype.textToPoints=function(e,t,i,n,s){function a(t){return h[t].name&&"space"===h[t].name||e.length===h.length&&" "===e[t]||h[t].index&&3===h[t].index}var c=0,l=[],h=this._getGlyphs(e);n=n||this.parent._renderer._textSize;for(var u=0;u<h.length;u++){if(!a(u))for(var d=h[u].getPath(t,i,n),f=o(d.commands),p=0;p<f.length;p++)for(var g=r(f[p],s),m=0;m<g.length;m++)g[m].x+=c,l.push(g[m]);c+=h[u].advanceWidth*this._scale(n)}return l},C.Font.prototype._getGlyphs=function(e){return this.font.stringToGlyphs(e)},C.Font.prototype._getPath=function(e,t,i,r){var n=r&&r.renderer&&r.renderer._pInst||this.parent,o=n._renderer,s=this._handleAlignment(o,e,t,i);return this.font.getPath(e,s.x,s.y,o._textSize,r)},C.Font.prototype._getPathData=function(e,t,i,r){var n=3;return"string"==typeof e&&arguments.length>2?e=this._getPath(e,t,i,r):"object"==typeof t&&(r=t),r&&"number"==typeof r.decimals&&(n=r.decimals),e.toPathData(n)},C.Font.prototype._getSVG=function(e,t,i,r){var n=3;return"string"==typeof e&&arguments.length>2?e=this._getPath(e,t,i,r):"object"==typeof t&&(r=t),r&&("number"==typeof r.decimals&&(n=r.decimals),"number"==typeof r.strokeWidth&&(e.strokeWidth=r.strokeWidth),void 0!==r.fill&&(e.fill=r.fill),void 0!==r.stroke&&(e.stroke=r.stroke)),e.toSVG(n)},C.Font.prototype._renderPath=function(e,t,i,r){var n,o=r&&r.renderer||this.parent._renderer,s=o.drawingContext;n="object"==typeof e&&e.commands?e.commands:this._getPath(e,t,i,r).commands,s.beginPath();for(var a=0;a<n.length;a+=1){var c=n[a];"M"===c.type?s.moveTo(c.x,c.y):"L"===c.type?s.lineTo(c.x,c.y):"C"===c.type?s.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y):"Q"===c.type?s.quadraticCurveTo(c.x1,c.y1,c.x,c.y):"Z"===c.type&&s.closePath()}return o._doStroke&&o._strokeSet&&s.stroke(),o._doFill&&(o._fillSet||o._setFill(M._DEFAULT_TEXT_FILL),s.fill()),this},C.Font.prototype._textWidth=function(e,t){return this.font.getAdvanceWidth(e,t)},C.Font.prototype._textAscent=function(e){return this.font.ascender*this._scale(e)},C.Font.prototype._textDescent=function(e){return-this.font.descender*this._scale(e)},C.Font.prototype._scale=function(e){return 1/this.font.unitsPerEm*(e||this.parent._renderer._textSize)},C.Font.prototype._handleAlignment=function(e,t,i,r,n){var o=e._textSize;switch(void 0===n&&(n=this._textWidth(t,o)),e._textAlign){case M.CENTER:i-=n/2;break;case M.RIGHT:i-=n}switch(e._textBaseline){case M.TOP:r+=this._textAscent(o);break;case M.CENTER:r+=this._textAscent(o)/2;break;case M.BOTTOM:r-=this._textDescent(o)}return{x:i,y:r}},t.exports=C},{"../core/constants":18,"../core/main":24}],60:[function(e,t,i){var r=e("../core/main");r.prototype.append=function(e,t){return e.push(t),e},r.prototype.arrayCopy=function(e,t,i,r,n){var o,s;void 0!==n?(s=Math.min(n,e.length),o=r,e=e.slice(t,s+t)):(void 0!==i?(s=i,s=Math.min(s,e.length)):s=e.length,o=0,i=t,e=e.slice(0,s)),Array.prototype.splice.apply(i,[o,s].concat(e))},r.prototype.concat=function(e,t){return e.concat(t)},r.prototype.reverse=function(e){return e.reverse()},r.prototype.shorten=function(e){return e.pop(),e},r.prototype.shuffle=function(e,t){var i=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e);e=t||i?e:e.slice();for(var r,n,o=e.length;o>1;)r=Math.random()*o|0,n=e[--o],e[o]=e[r],e[r]=n;return e},r.prototype.sort=function(e,t){var i=t?e.slice(0,Math.min(t,e.length)):e,r=t?e.slice(Math.min(t,e.length)):[];return i="string"==typeof i[0]?i.sort():i.sort(function(e,t){return e-t}),i.concat(r)},r.prototype.splice=function(e,t,i){return Array.prototype.splice.apply(e,[i,0].concat(t)),e},r.prototype.subset=function(e,t,i){return void 0!==i?e.slice(t,t+i):e.slice(t,e.length)},t.exports=r},{"../core/main":24}],61:[function(e,t,i){var r=e("../core/main");r.prototype.float=function(e){return e instanceof Array?e.map(parseFloat):parseFloat(e)},r.prototype.int=function(e,t){return t=t||10,"string"==typeof e?parseInt(e,t):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map(function(e){return r.prototype.int(e,t)}):void 0},r.prototype.str=function(e){return e instanceof Array?e.map(r.prototype.str):String(e)},r.prototype.boolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(r.prototype.boolean):void 0},r.prototype.byte=function(e){var t=r.prototype.int(e,10);return"number"==typeof t?(t+128)%256-128:t instanceof Array?t.map(r.prototype.byte):void 0},r.prototype.char=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(r.prototype.char):"string"==typeof e?r.prototype.char(parseInt(e,10)):void 0:String.fromCharCode(e)},r.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(r.prototype.unchar):void 0},r.prototype.hex=function(e,t){if(t=void 0===t||null===t?t=8:t,e instanceof Array)return e.map(function(e){return r.prototype.hex(e,t)});if("number"==typeof e){e<0&&(e=4294967295+e+1);for(var i=Number(e).toString(16).toUpperCase();i.length<t;)i="0"+i;return i.length>=t&&(i=i.substring(i.length-t,i.length)),i}},r.prototype.unhex=function(e){return e instanceof Array?e.map(r.prototype.unhex):parseInt("0x"+e,16)},t.exports=r},{"../core/main":24}],62:[function(e,t,i){function r(e,t,i){var r=e<0,n=r?e.toString().substring(1):e.toString(),o=n.indexOf("."),s=-1!==o?n.substring(0,o):n,a=-1!==o?n.substring(o+1):"",c=r?"-":"";if(void 0!==i){var l="";(-1!==o||i-a.length>0)&&(l="."),a.length>i&&(a=a.substring(0,i));for(var h=0;h<t-s.length;h++)c+="0";c+=s,c+=l,c+=a;for(var u=0;u<i-a.length;u++)c+="0";return c}for(var d=0;d<Math.max(t-s.length,0);d++)c+="0";return c+n}function n(e,t){e=e.toString();var i=e.indexOf("."),r=-1!==i?e.substring(i):"",n=-1!==i?e.substring(0,i):e;if(n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===t)r="";else if(void 0!==t)if(t>r.length){r+=-1===i?".":"";for(var o=t-r.length+1,s=0;s<o;s++)r+="0"}else r=r.substring(0,t+1);return n+r}function o(e){return parseFloat(e)>0?"+"+e.toString():e.toString()}function s(e){return parseFloat(e)>0?" "+e.toString():e.toString()}var a=e("../core/main");e("../core/error_helpers"),a.prototype.join=function(e,t){return a._validateParameters("join",arguments),e.join(t)},a.prototype.match=function(e,t){return a._validateParameters("match",arguments),e.match(t)},a.prototype.matchAll=function(e,t){a._validateParameters("matchAll",arguments);for(var i=new RegExp(t,"g"),r=i.exec(e),n=[];null!==r;)n.push(r),r=i.exec(e);return n},a.prototype.nf=function(e,t,i){return a._validateParameters("nf",arguments),e instanceof Array?e.map(function(e){return r(e,t,i)}):"[object Arguments]"===Object.prototype.toString.call(e)?3===e.length?this.nf(e[0],e[1],e[2]):2===e.length?this.nf(e[0],e[1]):this.nf(e[0]):r(e,t,i)},a.prototype.nfc=function(e,t){return a._validateParameters("nfc",arguments),e instanceof Array?e.map(function(e){return n(e,t)}):n(e,t)},a.prototype.nfp=function(){a._validateParameters("nfp",arguments);var e=a.prototype.nf.apply(this,arguments);return e instanceof Array?e.map(o):o(e)},a.prototype.nfs=function(){a._validateParameters("nfs",arguments);var e=a.prototype.nf.apply(this,arguments);return e instanceof Array?e.map(s):s(e)},a.prototype.split=function(e,t){return a._validateParameters("split",arguments),e.split(t)},a.prototype.splitTokens=function(e,t){var i;if(a._validateParameters("splitTokens",arguments),void 0!==t){var r=t,n=/\]/g.exec(r),o=/\[/g.exec(r);o&&n?(r=r.slice(0,n.index)+r.slice(n.index+1),o=/\[/g.exec(r),r=r.slice(0,o.index)+r.slice(o.index+1),i=new RegExp("[\\["+r+"\\]]","g")):n?(r=r.slice(0,n.index)+r.slice(n.index+1),i=new RegExp("["+r+"\\]]","g")):o?(r=r.slice(0,o.index)+r.slice(o.index+1),i=new RegExp("["+r+"\\[]","g")):i=new RegExp("["+r+"]","g")}else i=/\s/g;return e.split(i).filter(function(e){return e})},a.prototype.trim=function(e){return a._validateParameters("trim",arguments),e instanceof Array?e.map(this.trim):e.trim()},t.exports=a},{"../core/error_helpers":20,"../core/main":24}],63:[function(e,t,i){var r=e("../core/main");r.prototype.day=function(){return(new Date).getDate()},r.prototype.hour=function(){return(new Date).getHours()},r.prototype.minute=function(){return(new Date).getMinutes()},r.prototype.millis=function(){return window.performance.now()},r.prototype.month=function(){return(new Date).getMonth()+1},r.prototype.second=function(){return(new Date).getSeconds()},r.prototype.year=function(){return(new Date).getFullYear()},t.exports=r},{"../core/main":24}],64:[function(e,t,i){var r=e("../core/main");e("./p5.Geometry");var n=e("../core/constants");r.prototype.plane=function(e,t,i,n){this._assert3d("plane"),r._validateParameters("plane",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===i&&(i=1),void 0===n&&(n=1);var o="plane|"+i+"|"+n;if(!this._renderer.geometryInHash(o)){var s=function(){for(var e,t,i,n=0;n<=this.detailY;n++){t=n/this.detailY;for(var o=0;o<=this.detailX;o++)e=o/this.detailX,i=new r.Vector(e-.5,t-.5,0),this.vertices.push(i),this.uvs.push(e,t)}},a=new r.Geometry(i,n,s);a.computeFaces().computeNormals(),i<=1&&n<=1?a._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(o,a)}return this._renderer.drawBuffersScaled(o,e,t,1),this},r.prototype.box=function(e,t,i,n,o){this._assert3d("box"),r._validateParameters("box",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===i&&(i=t);var s=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===n&&(n=s?1:4),void 0===o&&(o=s?1:4);var a="box|"+n+"|"+o;if(!this._renderer.geometryInHash(a)){var c=function(){var e=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var t=0;t<e.length;t++){for(var i=e[t],n=4*t,o=0;o<4;o++){var s=i[o],a=new r.Vector((2*(1&s)-1)/2,((2&s)-1)/2,((4&s)/2-1)/2);this.vertices.push(a),this.uvs.push(1&o,(2&o)/2)}this.faces.push([n,n+1,n+2]),this.faces.push([n+2,n+1,n+3])}},l=new r.Geometry(n,o,c);l.computeNormals(),n<=4&&o<=4?l._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(a,l)}return this._renderer.drawBuffersScaled(a,e,t,i),this},r.prototype.sphere=function(e,t,i){return this._assert3d("sphere"),r._validateParameters("sphere",arguments),void 0===e&&(e=50),void 0===t&&(t=24),void 0===i&&(i=16),this.ellipsoid(e,e,e,t,i),this};var o=function(e,t,i,n,o,s,a){e=e<=0?1:e,t=t<0?0:t,i=i<=0?e:i,n=n<3?3:n,o=o<1?1:o,s=void 0===s||s,a=void 0===a?0!==t:a;var c,l,h,u,d,f=s?-2:0,p=o+(a?2:0),g={},m=Math.atan2(e-t,i);for(c=f;c<=p;++c){var v,y=c/o,b=i*y;for(c<0?(b=0,y=0,v=e):c>o?(b=i,y=1,v=t):v=e+(t-e)*y,-2!==c&&c!==o+2||(v=0),b-=i/2,g[c]=0===v?1:n,l=0;l<g[c];++l){var w=l/n;this.vertices.push(new r.Vector(Math.sin(2*w*Math.PI)*v,b,Math.cos(2*w*Math.PI)*v)),this.vertexNormals.push(new r.Vector(c<0||c>o?0:Math.sin(2*w*Math.PI)*Math.cos(m),c<0?-1:c>o?1:Math.sin(m),c<0||c>o?0:Math.cos(2*w*Math.PI)*Math.cos(m))),this.uvs.push(w,y)}}var x=0;if(s){for(h=0;h<g[-1];++h)d=(h+1)%g[-1],this.faces.push([x,x+1+d,x+1+h]);x+=g[-2]+g[-1]}for(c=0;c<o;++c){for(l=0;l<g[c];++l)1===g[c+1]?(u=(l+1)%g[c],this.faces.push([x+l,x+u,x+g[c]])):(u=(l+1)%g[c],this.faces.push([x+l,x+u,x+g[c]+u]),this.faces.push([x+l,x+g[c]+u,x+g[c]+l]));x+=g[c]}if(a)for(x+=g[o],l=0;l<g[o+1];++l)u=(l+1)%g[o+1],this.faces.push([x+l,x+u,x+g[o+1]])};r.prototype.cylinder=function(e,t,i,n,s,a){this._assert3d("cylinder"),r._validateParameters("cylinder",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===i&&(i=24),void 0===n&&(n=1),void 0===a&&(a=!0),void 0===s&&(s=!0);var c="cylinder|"+i+"|"+n+"|"+s+"|"+a;if(!this._renderer.geometryInHash(c)){var l=new r.Geometry(i,n);o.call(l,1,1,1,i,n,s,a),l.computeNormals(),i<=24&&n<=16?l._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(c,l)}return this._renderer.drawBuffersScaled(c,e,t,e),this},r.prototype.cone=function(e,t,i,n,s){this._assert3d("cone"),r._validateParameters("cone",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===i&&(i=24),void 0===n&&(n=1),void 0===s&&(s=!0);var a="cone|"+i+"|"+n+"|"+s;if(!this._renderer.geometryInHash(a)){var c=new r.Geometry(i,n);o.call(c,1,0,1,i,n,s,!1),c.computeNormals(),i<=24&&n<=16?c._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(a,c)}return this._renderer.drawBuffersScaled(a,e,t,e),this},r.prototype.ellipsoid=function(e,t,i,n,o){this._assert3d("ellipsoid"),r._validateParameters("ellipsoid",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===i&&(i=e),void 0===n&&(n=24),void 0===o&&(o=16);var s="ellipsoid|"+n+"|"+o;if(!this._renderer.geometryInHash(s)){var a=function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,i=Math.PI*t-Math.PI/2,n=Math.cos(i),o=Math.sin(i),s=0;s<=this.detailX;s++){var a=s/this.detailX,c=2*Math.PI*a,l=Math.cos(c),h=Math.sin(c),u=new r.Vector(n*h,o,n*l);this.vertices.push(u),this.vertexNormals.push(u),this.uvs.push(a,t)}},c=new r.Geometry(n,o,a);c.computeFaces(),n<=24&&o<=24?c._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(s,c)}return this._renderer.drawBuffersScaled(s,e,t,i),this},r.prototype.torus=function(e,t,i,n){if(this._assert3d("torus"),r._validateParameters("torus",arguments),void 0===e)e=50;else if(!e)return;if(void 0===t)t=10;else if(!t)return;void 0===i&&(i=24),void 0===n&&(n=16);var o=(t/e).toPrecision(4),s="torus|"+o+"|"+i+"|"+n;if(!this._renderer.geometryInHash(s)){var a=function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,i=2*Math.PI*t,n=Math.cos(i),s=Math.sin(i),a=1+o*n,c=0;c<=this.detailX;c++){var l=c/this.detailX,h=2*Math.PI*l,u=Math.cos(h),d=Math.sin(h),f=new r.Vector(a*u,a*d,o*s),p=new r.Vector(n*u,n*d,s);this.vertices.push(f),this.vertexNormals.push(p),this.uvs.push(l,t)}},c=new r.Geometry(i,n,a);c.computeFaces(),i<=24&&n<=16?c._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,c)}return this._renderer.drawBuffersScaled(s,e,e,e),this},r.RendererGL.prototype.point=function(e,t,i){this._usePointShader(),this.curPointShader.bindShader(),void 0===i&&(i=0);var n=[];return n.push(new r.Vector(e,t,i)),this._drawPoints(n,this._pointVertexBuffer),this.curPointShader.unbindShader(),this},r.RendererGL.prototype.triangle=function(e){var t=e[0],i=e[1],n=e[2],o=e[3],s=e[4],a=e[5],c="tri";if(!this.geometryInHash(c)){var l=function(){var e=[];e.push(new r.Vector(0,0,0)),e.push(new r.Vector(0,1,0)),e.push(new r.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=e,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]},h=new r.Geometry(1,1,l);h._makeTriangleEdges()._edgesToVertices(),h.computeNormals(),this.createBuffers(c,h)}var u=this.uMVMatrix.copy();try{var d=new r.Matrix([n-t,o-i,0,0,s-t,a-i,0,0,0,0,1,0,t,i,0,1]).mult(this.uMVMatrix);this.uMVMatrix=d,this.drawBuffers(c)}finally{this.uMVMatrix=u}return this},r.RendererGL.prototype.ellipse=function(e){this.arc(e[0],e[1],e[2],e[3],0,n.TWO_PI,n.OPEN,e[4])},r.RendererGL.prototype.arc=function(e){var t,i,o=arguments[0],s=arguments[1],a=arguments[2],c=arguments[3],l=arguments[4],h=arguments[5],u=arguments[6],d=arguments[7]||25;if(Math.abs(h-l)>=n.TWO_PI?(t="ellipse",i=t+"|"+d+"|"):(t="arc",i=t+"|"+l+"|"+h+"|"+u+"|"+d+"|"),!this.geometryInHash(i)){var f=function(){if(this.strokeIndices=[],l.toFixed(10)!==h.toFixed(10)){u!==n.PIE&&void 0!==u||(this.vertices.push(new r.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var e=0;e<=d;e++){var t=e/d,i=(h-l)*t+l,o=.5+Math.cos(i)/2,s=.5+Math.sin(i)/2;this.vertices.push(new r.Vector(o,s,0)),this.uvs.push([o,s]),e<d-1&&(this.faces.push([0,e+1,e+2]),this.strokeIndices.push([e+1,e+2]))}switch(u){case n.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case n.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case n.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}},p=new r.Geometry(d,1,f);p.computeNormals(),d<=50?p._makeTriangleEdges()._edgesToVertices(p):console.log("Cannot stroke "+t+" with more than 50 detail"),this.createBuffers(i,p)}var g=this.uMVMatrix.copy();try{this.uMVMatrix.translate([o,s,0]),this.uMVMatrix.scale(a,c,1),this.drawBuffers(i)}finally{this.uMVMatrix=g}return this},r.RendererGL.prototype.rect=function(e){var t=this.attributes.perPixelLighting,i=e[0],n=e[1],o=e[2],s=e[3],a=e[4]||(t?1:24),c=e[5]||(t?1:16),l="rect|"+a+"|"+c;if(!this.geometryInHash(l)){var h=function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,i=0;i<=this.detailX;i++){var n=i/this.detailX,o=new r.Vector(n,t,0);this.vertices.push(o),this.uvs.push(n,t)}a>0&&c>0&&(this.strokeIndices=[[0,a],[a,(a+1)*(c+1)-1],[(a+1)*(c+1)-1,(a+1)*c],[(a+1)*c,0]])},u=new r.Geometry(a,c,h);u.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(l,u)}var d=this.uMVMatrix.copy();try{this.uMVMatrix.translate([i,n,0]),this.uMVMatrix.scale(o,s,1),this.drawBuffers(l)}finally{this.uMVMatrix=d}return this},r.RendererGL.prototype.quad=function(e,t,i,n,o,s,a,c){var l="quad|"+e+"|"+t+"|"+i+"|"+n+"|"+o+"|"+s+"|"+a+"|"+c;if(!this.geometryInHash(l)){var h=function(){this.vertices.push(new r.Vector(e,t,0)),this.vertices.push(new r.Vector(i,n,0)),this.vertices.push(new r.Vector(o,s,0)),this.vertices.push(new r.Vector(a,c,0)),this.uvs.push(0,0,1,0,1,1,0,1),this.strokeIndices=[[0,1],[1,2],[2,3],[3,0]]},u=new r.Geometry(2,2,h);u.computeNormals()._makeTriangleEdges()._edgesToVertices(),u.faces=[[0,1,2],[2,3,0]],this.createBuffers(l,u)}return this.drawBuffers(l),this},r.RendererGL.prototype.bezier=function(e,t,i,r,n,o,s,a,c,l,h,u){8===arguments.length&&(l=s,h=a,s=n,a=r,r=i,n=r,i=o=c=u=0);var d=this._pInst._bezierDetail||20;this.beginShape();for(var f=0;f<=d;f++){var p=Math.pow(1-f/d,3),g=f/d*3*Math.pow(1-f/d,2),m=3*Math.pow(f/d,2)*(1-f/d),v=Math.pow(f/d,3);this.vertex(e*p+r*g+s*m+l*v,t*p+n*g+a*m+h*v,i*p+o*g+c*m+u*v)}return this.endShape(),this},r.RendererGL.prototype.curve=function(e,t,i,r,n,o,s,a,c,l,h,u){8===arguments.length&&(l=s,h=a,s=n,a=r,r=i,n=r,i=o=c=u=0);var d=this._pInst._curveDetail;this.beginShape();for(var f=0;f<=d;f++){var p=.5*Math.pow(f/d,3),g=.5*Math.pow(f/d,2),m=f/d*.5,v=.5,y=p*(3*r-e-3*s+l)+g*(2*e-5*r+4*s-l)+m*(-e+s)+v*(2*r),b=p*(3*n-t-3*a+h)+g*(2*t-5*n+4*a-h)+m*(-t+a)+v*(2*n),w=p*(3*o-i-3*c+u)+g*(2*i-5*o+4*c-u)+m*(-i+c)+v*(2*o);this.vertex(y,b,w)}return this.endShape(),this},r.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(),this.vertex(arguments[0],arguments[1],arguments[2]),this.vertex(arguments[3],arguments[4],arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(),this.vertex(arguments[0],arguments[1],0),this.vertex(arguments[2],arguments[3],0),this.endShape()),this},r.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var e,t,i,r,n,o=[],s=[],a=[],c=arguments.length;if(e=0,0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var l=1/this._lutBezierDetail,h=0,u=1,d=0;h<1;){if(e=parseFloat(h.toFixed(6)),this._lookUpTableBezier[d]=this._bezierCoefficients(e),u.toFixed(6)===l.toFixed(6)){e=parseFloat(u.toFixed(6))+parseFloat(h.toFixed(6)),++d,this._lookUpTableBezier[d]=this._bezierCoefficients(e);break}h+=l,u-=l,++d}}var f=this._lookUpTableBezier.length;if(6===c){for(this.isBezier=!0,o=[this.immediateMode._bezierVertex[0],arguments[0],arguments[2],arguments[4]],s=[this.immediateMode._bezierVertex[1],arguments[1],arguments[3],arguments[5]],n=0;n<f;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],i=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],this.vertex(t,i);this.immediateMode._bezierVertex[0]=arguments[4],this.immediateMode._bezierVertex[1]=arguments[5]}else if(9===c){for(this.isBezier=!0,o=[this.immediateMode._bezierVertex[0],arguments[0],arguments[3],arguments[6]],s=[this.immediateMode._bezierVertex[1],arguments[1],arguments[4],arguments[7]],a=[this.immediateMode._bezierVertex[2],arguments[2],arguments[5],arguments[8]],n=0;n<f;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],i=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],this.vertex(t,i,r);this.immediateMode._bezierVertex[0]=arguments[6],this.immediateMode._bezierVertex[1]=arguments[7],this.immediateMode._bezierVertex[2]=arguments[8]}},r.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var e,t,i,r,n,o=[],s=[],a=[],c=arguments.length;if(e=0,0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var l=1/this._lutQuadraticDetail,h=0,u=1,d=0;h<1;){if(e=parseFloat(h.toFixed(6)),this._lookUpTableQuadratic[d]=this._quadraticCoefficients(e),u.toFixed(6)===l.toFixed(6)){e=parseFloat(u.toFixed(6))+parseFloat(h.toFixed(6)),++d,this._lookUpTableQuadratic[d]=this._quadraticCoefficients(e);break}h+=l,u-=l,++d}}var f=this._lookUpTableQuadratic.length;if(4===c){for(this.isQuadratic=!0,o=[this.immediateMode._quadraticVertex[0],arguments[0],arguments[2]],s=[this.immediateMode._quadraticVertex[1],arguments[1],arguments[3]],n=0;n<f;n++)t=o[0]*this._lookUpTableQuadratic[n][0]+o[1]*this._lookUpTableQuadratic[n][1]+o[2]*this._lookUpTableQuadratic[n][2],i=s[0]*this._lookUpTableQuadratic[n][0]+s[1]*this._lookUpTableQuadratic[n][1]+s[2]*this._lookUpTableQuadratic[n][2],this.vertex(t,i);this.immediateMode._quadraticVertex[0]=arguments[2],this.immediateMode._quadraticVertex[1]=arguments[3]}else if(6===c){for(this.isQuadratic=!0,o=[this.immediateMode._quadraticVertex[0],arguments[0],arguments[3]],s=[this.immediateMode._quadraticVertex[1],arguments[1],arguments[4]],a=[this.immediateMode._quadraticVertex[2],arguments[2],arguments[5]],n=0;n<f;n++)t=o[0]*this._lookUpTableQuadratic[n][0]+o[1]*this._lookUpTableQuadratic[n][1]+o[2]*this._lookUpTableQuadratic[n][2],i=s[0]*this._lookUpTableQuadratic[n][0]+s[1]*this._lookUpTableQuadratic[n][1]+s[2]*this._lookUpTableQuadratic[n][2],r=a[0]*this._lookUpTableQuadratic[n][0]+a[1]*this._lookUpTableQuadratic[n][1]+a[2]*this._lookUpTableQuadratic[n][2],this.vertex(t,i,r);this.immediateMode._quadraticVertex[0]=arguments[3],this.immediateMode._quadraticVertex[1]=arguments[4],this.immediateMode._quadraticVertex[2]=arguments[5]}},r.RendererGL.prototype.curveVertex=function(){var e,t,i,r,n,o=[],s=[],a=[];e=0;var c=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var l=1/this._lutBezierDetail,h=0,u=1,d=0;h<1;){if(e=parseFloat(h.toFixed(6)),this._lookUpTableBezier[d]=this._bezierCoefficients(e),u.toFixed(6)===l.toFixed(6)){e=parseFloat(u.toFixed(6))+parseFloat(h.toFixed(6)),++d,this._lookUpTableBezier[d]=this._bezierCoefficients(e);break}h+=l,u-=l,++d}}var f=this._lookUpTableBezier.length;if(2===c){if(this.immediateMode._curveVertex.push(arguments[0]),this.immediateMode._curveVertex.push(arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),n=0;n<f;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],i=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],this.vertex(t,i);for(n=0;n<c;n++)this.immediateMode._curveVertex.shift()}}else if(3===c&&(this.immediateMode._curveVertex.push(arguments[0]),this.immediateMode._curveVertex.push(arguments[1]),this.immediateMode._curveVertex.push(arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),n=0;n<f;n++)t=o[0]*this._lookUpTableBezier[n][0]+o[1]*this._lookUpTableBezier[n][1]+o[2]*this._lookUpTableBezier[n][2]+o[3]*this._lookUpTableBezier[n][3],i=s[0]*this._lookUpTableBezier[n][0]+s[1]*this._lookUpTableBezier[n][1]+s[2]*this._lookUpTableBezier[n][2]+s[3]*this._lookUpTableBezier[n][3],r=a[0]*this._lookUpTableBezier[n][0]+a[1]*this._lookUpTableBezier[n][1]+a[2]*this._lookUpTableBezier[n][2]+a[3]*this._lookUpTableBezier[n][3],this.vertex(t,i,r);for(n=0;n<c;n++)this.immediateMode._curveVertex.shift()}},t.exports=r},{"../core/constants":18,"../core/main":24,"./p5.Geometry":70}],65:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");r.prototype.orbitControl=function(e,t){if(this._assert3d("orbitControl"),r._validateParameters("orbitControl",arguments),this.mouseX<this.width&&this.mouseX>0&&this.mouseY<this.height&&this.mouseY>0){var i=this._renderer._curCamera;void 0===e&&(e=1),void 0===t&&(t=e),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var n=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(this._mouseWheelDeltaY>0?this._renderer._curCamera._orbit(0,0,.5*n):this._renderer._curCamera._orbit(0,0,-.5*n)),this.mouseIsPressed)if(this.mouseButton===this.LEFT){var o=-e*(this.mouseX-this.pmouseX)/n,s=t*(this.mouseY-this.pmouseY)/n;this._renderer._curCamera._orbit(o,s,0)}else if(this.mouseButton===this.RIGHT){var a=i._getLocalAxes(),c=Math.sqrt(a.x[0]*a.x[0]+a.x[2]*a.x[2]);0!==c&&(a.x[0]/=c,a.x[2]/=c);var l=Math.sqrt(a.y[0]*a.y[0]+a.y[2]*a.y[2]);0!==l&&(a.y[0]/=l,a.y[2]/=l);var h=-1*e*(this.mouseX-this.pmouseX),u=-1*t*(this.mouseY-this.pmouseY);i.setPosition(i.eyeX+h*a.x[0]+u*a.z[0],i.eyeY,i.eyeZ+h*a.x[2]+u*a.z[2])}return this}},r.prototype.debugMode=function(){this._assert3d("debugMode"),r._validateParameters("debugMode",arguments);for(var e=this._registeredMethods.post.length-1;e>=0;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1);arguments[0]===n.GRID?this.registerMethod("post",this._grid.call(this,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])):arguments[0]===n.AXES?this.registerMethod("post",this._axesIcon.call(this,arguments[1],arguments[2],arguments[3],arguments[4])):(this.registerMethod("post",this._grid.call(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])),this.registerMethod("post",this._axesIcon.call(this,arguments[5],arguments[6],arguments[7],arguments[8])))},r.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var e=this._registeredMethods.post.length-1;e>=0;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1)},r.prototype._grid=function(e,t,i,r,n){void 0===e&&(e=this.width/2),void 0===t&&(t=Math.round(e/30)<4?4:Math.round(e/30)),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0);var o=e/t,s=e/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var e=0;e<=t;e++)this.beginShape(this.LINES),this.vertex(-s+i,r,e*o-s+n),this.vertex(+s+i,r,e*o-s+n),this.endShape();for(var a=0;a<=t;a++)this.beginShape(this.LINES),this.vertex(a*o-s+i,r,-s+n),this.vertex(a*o-s+i,r,+s+n),this.endShape();this.pop()}},r.prototype._axesIcon=function(e,t,i,r){return void 0===e&&(e=this.width/20>40?this.width/20:40),void 0===t&&(t=-this.width/4),void 0===i&&(i=t),void 0===r&&(r=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,i,r),this.vertex(t+e,i,r),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,i,r),this.vertex(t,i+e,r),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,i,r),this.vertex(t,i,r+e),this.endShape(),this.pop()}},t.exports=r},{"../core/constants":18,"../core/main":24}],66:[function(e,t,i){var r=e("../core/main");r.prototype.ambientLight=function(e,t,i,n){this._assert3d("ambientLight"),r._validateParameters("ambientLight",arguments);var o=this.color.apply(this,arguments),s=this._renderer._useLightShader();return s.setUniform("uUseLighting",!0),s.setUniform("uMaterialColor",this._renderer.curFillColor),this._renderer.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),s.setUniform("uAmbientColor",this._renderer.ambientLightColors),s.setUniform("uAmbientLightCount",this._renderer.ambientLightColors.length/3),this},r.prototype.directionalLight=function(e,t,i,n,o,s){this._assert3d("directionalLight"),r._validateParameters("directionalLight",arguments);var a,c=this._renderer._useLightShader();a=e instanceof r.Color?e:this.color(e,t,i);var l,h,u,d=arguments[arguments.length-1];"number"==typeof d?(l=arguments[arguments.length-3],h=arguments[arguments.length-2],u=arguments[arguments.length-1]):(l=d.x,h=d.y,u=d.z),c.setUniform("uUseLighting",!0),c.setUniform("uMaterialColor",this._renderer.curFillColor);var f=Math.sqrt(l*l+h*h+u*u);return this._renderer.directionalLightDirections.push(l/f,h/f,u/f),c.setUniform("uLightingDirection",this._renderer.directionalLightDirections),this._renderer.directionalLightColors.push(a._array[0],a._array[1],a._array[2]),c.setUniform("uDirectionalColor",this._renderer.directionalLightColors),c.setUniform("uDirectionalLightCount",this._renderer.directionalLightColors.length/3),this},r.prototype.pointLight=function(e,t,i,n,o,s){var a;this._assert3d("pointLight"),r._validateParameters("pointLight",arguments),a=e instanceof r.Color?e:this.color(e,t,i);var c,l,h,u=arguments[arguments.length-1];"number"==typeof u?(c=arguments[arguments.length-3],l=arguments[arguments.length-2],h=arguments[arguments.length-1]):(c=u.x,l=u.y,h=u.z);var d=this._renderer._useLightShader();return d.setUniform("uUseLighting",!0),d.setUniform("uMaterialColor",this._renderer.curFillColor),this._renderer.pointLightPositions.push(c,l,h),d.setUniform("uPointLightLocation",this._renderer.pointLightPositions),this._renderer.pointLightColors.push(a._array[0],a._array[1],a._array[2]),d.setUniform("uPointLightColor",this._renderer.pointLightColors),d.setUniform("uPointLightCount",this._renderer.pointLightColors.length/3),this},t.exports=r},{"../core/main":24}],67:[function(e,t,i){function r(e,t){for(var i={v:[],vt:[],vn:[]},r={},o=0;o<t.length;++o){var s=t[o].trim().split(/\b\s+/);if(s.length>0)if("v"===s[0]||"vn"===s[0]){var a=new n.Vector(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));i[s[0]].push(a)}else if("vt"===s[0]){var c=[parseFloat(s[1]),parseFloat(s[2])];i[s[0]].push(c)}else if("f"===s[0])for(var l=3;l<s.length;++l){for(var h=[],u=[1,l-1,l],d=0;d<u.length;++d){var f=s[u[d]],p=0;if(void 0!==r[f])p=r[f];else{for(var g=f.split("/"),m=0;m<g.length;m++)g[m]=parseInt(g[m])-1;p=r[f]=e.vertices.length,e.vertices.push(i.v[g[0]].copy()),i.vt[g[1]]?e.uvs.push(i.vt[g[1]].slice()):e.uvs.push([0,0]),i.vn[g[2]]&&e.vertexNormals.push(i.vn[g[2]].copy())}h.push(p)}h[0]!==h[1]&&h[0]!==h[2]&&h[1]!==h[2]&&e.faces.push(h)}}return 0===e.vertexNormals.length&&e.computeNormals(),e}var n=e("../core/main");e("./p5.Geometry"),n.prototype.loadModel=function(e){var t,i,o;n._validateParameters("loadModel",arguments),"boolean"==typeof arguments[1]?(t=arguments[1],i=arguments[2],o=arguments[3]):(t=!1,i=arguments[1],o=arguments[2]);var s=new n.Geometry;s.gid=e+"|"+t;var a=this;return this.loadStrings(e,function(e){r(s,e),t&&s.normalize(),a._decrementPreload(),"function"==typeof i&&i(s)}.bind(this),o),s},n.prototype.model=function(e){this._assert3d("model"),n._validateParameters("model",arguments),e.vertices.length>0&&(this._renderer.geometryInHash(e.gid)||(e._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(e.gid,e)),this._renderer.drawBuffers(e.gid))},t.exports=n},{"../core/main":24,"./p5.Geometry":70}],68:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");e("./p5.Texture"),r.prototype.loadShader=function(e,t){r._validateParameters("loadShader",arguments);var i=new r.Shader,n=this,o=!1,s=!1;return this.loadStrings(t,function(e){i._fragSrc=e.join("\n"),o=!0,s&&n._decrementPreload()}),this.loadStrings(e,function(e){i._vertSrc=e.join("\n"),s=!0,o&&n._decrementPreload()}),i},r.prototype.createShader=function(e,t){return this._assert3d("createShader"),r._validateParameters("createShader",arguments),new r.Shader(this._renderer,e,t)},r.prototype.shader=function(e){return this._assert3d("shader"),r._validateParameters("shader",arguments),void 0===e._renderer&&(e._renderer=this._renderer),e.isStrokeShader()?this._renderer.setStrokeShader(e):this._renderer.setFillShader(e),this},r.prototype.normalMaterial=function(){return this._assert3d("normalMaterial"),r._validateParameters("normalMaterial",arguments),this._renderer.drawMode=n.FILL,this._renderer.setFillShader(this._renderer._getNormalShader()),this._renderer.curFillColor=[1,1,1,1],this.noStroke(),this},r.prototype.texture=function(e){this._assert3d("texture"),r._validateParameters("texture",arguments),this._renderer.drawMode=n.TEXTURE;var t=this._renderer._useLightShader();return t.setUniform("uSpecular",!1),t.setUniform("isTexture",!0),t.setUniform("uSampler",e),this.noStroke(),this},r.prototype.ambientMaterial=function(e,t,i,n){this._assert3d("ambientMaterial"),r._validateParameters("ambientMaterial",arguments);var o=r.prototype.color.apply(this,arguments);this._renderer.curFillColor=o._array;var s=this._renderer._useLightShader();return s.setUniform("uMaterialColor",this._renderer.curFillColor),s.setUniform("uSpecular",!1),s.setUniform("isTexture",!1),this},r.prototype.specularMaterial=function(e,t,i,n){this._assert3d("specularMaterial"),r._validateParameters("specularMaterial",arguments);var o=r.prototype.color.apply(this,arguments);this._renderer.curFillColor=o._array;var s=this._renderer._useLightShader();return s.setUniform("uMaterialColor",this._renderer.curFillColor),s.setUniform("uSpecular",!0),s.setUniform("isTexture",!1),this},r.RendererGL.prototype._applyColorBlend=function(e){var t=this.GL,i=this.drawMode===n.TEXTURE;return i||e[e.length-1]<1?(t.depthMask(i),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA)):(t.depthMask(!0),t.disable(t.BLEND)),e},t.exports=r},{"../core/constants":18,"../core/main":24,"./p5.Texture":76}],69:[function(e,t,i){var r=e("../core/main");r.prototype.camera=function(){return this._assert3d("camera"),r._validateParameters("camera",arguments),this._renderer._curCamera.camera.apply(this._renderer._curCamera,arguments),this},r.prototype.perspective=function(){return this._assert3d("perspective"),r._validateParameters("perspective",arguments),this._renderer._curCamera.perspective.apply(this._renderer._curCamera,arguments),this},r.prototype.ortho=function(){return this._assert3d("ortho"),r._validateParameters("ortho",arguments),this._renderer._curCamera.ortho.apply(this._renderer._curCamera,arguments),this},r.prototype.createCamera=function(){this._assert3d("createCamera");var e=new r.Camera(this._renderer);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this._renderer._curCamera=e,e},r.Camera=function(e){this._renderer=e,this.cameraType="default",this.cameraMatrix=new r.Matrix,this.projMatrix=new r.Matrix},r.Camera.prototype.perspective=function(e,t,i,n){void 0===e?(e=this.defaultCameraFOV,this.cameraFOV=e):this.cameraFOV=this._renderer._pInst._toRadians(e),void 0===t&&(t=this.defaultAspectRatio),void 0===i&&(i=this.defaultCameraNear),void 0===n&&(n=this.defaultCameraFar),i<=1e-4&&(i=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),n<i&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.cameraFOV=this._renderer._pInst._toRadians(e),this.aspectRatio=t,this.cameraNear=i,this.cameraFar=n,this.projMatrix=r.Matrix.identity();var o=1/Math.tan(this.cameraFOV/2),s=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(o/t,0,0,0,0,-o,0,0,0,0,(n+i)*s,-1,0,0,2*n*i*s,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},r.Camera.prototype.ortho=function(e,t,i,n,o,s){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=+this._renderer.width/2),void 0===i&&(i=-this._renderer.height/2),void 0===n&&(n=+this._renderer.height/2),void 0===o&&(o=0),void 0===s&&(s=Math.max(this._renderer.width,this._renderer.height));var a=t-e,c=n-i,l=s-o,h=2/a,u=2/c,d=-2/l,f=-(t+e)/a,p=-(n+i)/c,g=-(s+o)/l;this.projMatrix=r.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-u,0,0,0,0,d,0,f,p,g,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},r.Camera.prototype._rotateView=function(e,t,i,n){var o=this.centerX,s=this.centerY,a=this.centerZ;o-=this.eyeX,s-=this.eyeY,a-=this.eyeZ;var c=r.Matrix.identity(this._renderer._pInst);c.rotate(e,t,i,n);var l=[o*c.mat4[0]+s*c.mat4[4]+a*c.mat4[8],o*c.mat4[1]+s*c.mat4[5]+a*c.mat4[9],o*c.mat4[2]+s*c.mat4[6]+a*c.mat4[10]];l[0]+=this.eyeX,l[1]+=this.eyeY,l[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,l[0],l[1],l[2],this.upX,this.upY,this.upZ)},r.Camera.prototype.pan=function(e){var t=this._getLocalAxes();this._rotateView(e,t.y[0],t.y[1],t.y[2])},r.Camera.prototype.tilt=function(e){var t=this._getLocalAxes();this._rotateView(e,t.x[0],t.x[1],t.x[2])},r.Camera.prototype.lookAt=function(e,t,i){this.camera(this.eyeX,this.eyeY,this.eyeZ,e,t,i,this.upX,this.upY,this.upZ)},r.Camera.prototype.camera=function(e,t,i,r,n,o,s,a,c){void 0===e&&(e=this.defaultEyeX,t=this.defaultEyeY,i=this.defaultEyeZ,r=e,n=t,o=0,s=0,a=1,c=0),this.eyeX=e,this.eyeY=t,this.eyeZ=i,this.centerX=r,this.centerY=n,this.centerZ=o,this.upX=s,this.upY=a,this.upZ=c;var l=this._getLocalAxes();this.cameraMatrix.set(l.x[0],l.y[0],l.z[0],0,l.x[1],l.y[1],l.z[1],0,l.x[2],l.y[2],l.z[2],0,0,0,0,1);var h=-e,u=-t,d=-i;return this.cameraMatrix.translate([h,u,d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},r.Camera.prototype.move=function(e,t,i){var r=this._getLocalAxes(),n=[r.x[0]*e,r.x[1]*e,r.x[2]*e],o=[r.y[0]*t,r.y[1]*t,r.y[2]*t],s=[r.z[0]*i,r.z[1]*i,r.z[2]*i];this.camera(this.eyeX+n[0]+o[0]+s[0],this.eyeY+n[1]+o[1]+s[1],this.eyeZ+n[2]+o[2]+s[2],this.centerX+n[0]+o[0]+s[0],this.centerY+n[1]+o[1]+s[1],this.centerZ+n[2]+o[2]+s[2],0,1,0)},r.Camera.prototype.setPosition=function(e,t,i){var r=e-this.eyeX,n=t-this.eyeY,o=i-this.eyeZ;this.camera(e,t,i,this.centerX+r,this.centerY+n,this.centerZ+o,0,1,0)},r.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},r.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},r.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},r.Camera.prototype.copy=function(){var e=new r.Camera(this._renderer);return e.cameraFOV=this.cameraFOV,e.aspectRatio=this.aspectRatio,e.eyeX=this.eyeX,e.eyeY=this.eyeY,e.eyeZ=this.eyeZ,e.centerX=this.centerX,e.centerY=this.centerY,e.centerZ=this.centerZ,e.cameraNear=this.cameraNear,e.cameraFar=this.cameraFar,e.cameraType=this.cameraType,e.cameraMatrix=this.cameraMatrix.copy(),e.projMatrix=this.projMatrix.copy(),e},r.Camera.prototype._getLocalAxes=function(){var e=this.eyeX-this.centerX,t=this.eyeY-this.centerY,i=this.eyeZ-this.centerZ,r=Math.sqrt(e*e+t*t+i*i);0!==r&&(e/=r,t/=r,i/=r);var n=this.upX,o=this.upY,s=this.upZ,a=o*i-s*t,c=-n*i+s*e,l=n*t-o*e;n=t*l-i*c,o=-e*l+i*a,s=e*c-t*a;var h=Math.sqrt(a*a+c*c+l*l);0!==h&&(a/=h,c/=h,l/=h);var u=Math.sqrt(n*n+o*o+s*s);return 0!==u&&(n/=u,o/=u,s/=u),{x:[a,c,l],y:[n,o,s],z:[e,t,i]}},r.Camera.prototype._orbit=function(e,t,i){var r=this.eyeX-this.centerX,n=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,s=Math.sqrt(r*r+n*n+o*o),a=Math.atan2(r,o),c=Math.acos(Math.max(-1,Math.min(1,n/s)));a+=e,c+=t,s+=i,s<0&&(s=.1),c>Math.PI?c=Math.PI:c<=0&&(c=.001);var l=Math.sin(c)*s*Math.sin(a),h=Math.cos(c)*s,u=Math.sin(c)*s*Math.cos(a);this.camera(l+this.centerX,h+this.centerY,u+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},r.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},r.prototype.setCamera=function(e){this._renderer._curCamera=e,this._renderer.uPMatrix.set(e.projMatrix.mat4[0],e.projMatrix.mat4[1],e.projMatrix.mat4[2],e.projMatrix.mat4[3],e.projMatrix.mat4[4],e.projMatrix.mat4[5],e.projMatrix.mat4[6],e.projMatrix.mat4[7],e.projMatrix.mat4[8],e.projMatrix.mat4[9],e.projMatrix.mat4[10],e.projMatrix.mat4[11],e.projMatrix.mat4[12],e.projMatrix.mat4[13],e.projMatrix.mat4[14],e.projMatrix.mat4[15])},t.exports=r.Camera},{"../core/main":24}],70:[function(e,t,i){var r=e("../core/main");r.Geometry=function(e,t,i){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.detailX=void 0!==e?e:1,this.detailY=void 0!==t?t:1,i instanceof Function&&i.call(this),this},r.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var e,t,i,r,n=this.detailX+1,o=0;o<this.detailY;o++)for(var s=0;s<this.detailX;s++)e=o*n+s,t=o*n+s+1,i=(o+1)*n+s+1,r=(o+1)*n+s,this.faces.push([e,t,r]),this.faces.push([r,t,i]);return this},r.Geometry.prototype._getFaceNormal=function(e){var t=this.faces[e],i=this.vertices[t[0]],n=this.vertices[t[1]],o=this.vertices[t[2]],s=r.Vector.sub(n,i),a=r.Vector.sub(o,i),c=r.Vector.cross(s,a),l=r.Vector.mag(c),h=l/(r.Vector.mag(s)*r.Vector.mag(a));return 0===h||isNaN(h)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),c):(h>1&&(h=1),c.mult(Math.asin(h)/l))},r.Geometry.prototype.computeNormals=function(){var e,t=this.vertexNormals,i=this.vertices,n=this.faces;for(t.length=0,e=0;e<i.length;++e)t.push(new r.Vector);for(var o=0;o<n.length;++o)for(var s=n[o],a=this._getFaceNormal(o),c=0;c<3;++c){var l=s[c];t[l].add(a)}for(e=0;e<i.length;++e)t[e].normalize();return this},r.Geometry.prototype.averageNormals=function(){for(var e=0;e<=this.detailY;e++){var t=this.detailX+1,i=r.Vector.add(this.vertexNormals[e*t],this.vertexNormals[e*t+this.detailX]);i=r.Vector.div(i,2),this.vertexNormals[e*t]=i,this.vertexNormals[e*t+this.detailX]=i}return this},r.Geometry.prototype.averagePoleNormals=function(){for(var e=new r.Vector(0,0,0),t=0;t<this.detailX;t++)e.add(this.vertexNormals[t]);for(e=r.Vector.div(e,this.detailX),t=0;t<this.detailX;t++)this.vertexNormals[t]=e;for(e=new r.Vector(0,0,0),t=this.vertices.length-1;t>this.vertices.length-1-this.detailX;t--)e.add(this.vertexNormals[t]);for(e=r.Vector.div(e,this.detailX),t=this.vertices.length-1;t>this.vertices.length-1-this.detailX;t--)this.vertexNormals[t]=e;return this},r.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var e=0,t=this.strokeIndices.length;e<t;e++)this.edges.push(this.strokeIndices[e]);else for(var i=0;i<this.faces.length;i++)this.edges.push([this.faces[i][0],this.faces[i][1]]),this.edges.push([this.faces[i][1],this.faces[i][2]]),this.edges.push([this.faces[i][2],this.faces[i][0]]);return this},r.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0,this.lineNormals.length=0;for(var e=0;e<this.edges.length;e++){var t=this.vertices[this.edges[e][0]],i=this.vertices[this.edges[e][1]],r=i.copy().sub(t).normalize(),n=t.array(),o=t.array(),s=i.array(),a=i.array(),c=r.array(),l=r.array();c.push(1),l.push(-1),this.lineNormals.push(c,l,c,c,l,l),this.lineVertices.push(n,o,s,s,o,a)}return this},r.Geometry.prototype.normalize=function(){if(this.vertices.length>0){for(var e=this.vertices[0].copy(),t=this.vertices[0].copy(),i=0;i<this.vertices.length;i++)e.x=Math.max(e.x,this.vertices[i].x),t.x=Math.min(t.x,this.vertices[i].x),e.y=Math.max(e.y,this.vertices[i].y),t.y=Math.min(t.y,this.vertices[i].y),e.z=Math.max(e.z,this.vertices[i].z),t.z=Math.min(t.z,this.vertices[i].z);var n=r.Vector.lerp(e,t,.5),o=r.Vector.sub(e,t),s=Math.max(Math.max(o.x,o.y),o.z),a=200/s;for(i=0;i<this.vertices.length;i++)this.vertices[i].sub(n),this.vertices[i].mult(a)}return this},t.exports=r.Geometry},{"../core/main":24}],71:[function(e,t,i){var r=e("../core/main"),n=Array,o=function(e){return e instanceof Array};"undefined"!=typeof Float32Array&&(n=Float32Array,o=function(e){return e instanceof Array||e instanceof Float32Array}),r.Matrix=function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];return e.length&&e[e.length-1]instanceof r&&(this.p5=e[e.length-1]),"mat3"===e[0]?this.mat3=Array.isArray(e[1])?e[1]:new n([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(e[0])?e[0]:new n([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},r.Matrix.prototype.set=function(e){return e instanceof r.Matrix?(this.mat4=e.mat4,this):o(e)?(this.mat4=e,this):(16===arguments.length&&(this.mat4[0]=arguments[0],this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this)},r.Matrix.prototype.get=function(){return new r.Matrix(this.mat4,this.p5)},r.Matrix.prototype.copy=function(){var e=new r.Matrix(this.p5);return e.mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15],e},r.Matrix.identity=function(e){return new r.Matrix(e)},r.Matrix.prototype.transpose=function(e){var t,i,n,s,a,c;return e instanceof r.Matrix?(t=e.mat4[1],i=e.mat4[2],n=e.mat4[3],s=e.mat4[6],a=e.mat4[7],c=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=i,this.mat4[9]=s,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=n,this.mat4[13]=a,this.mat4[14]=c,this.mat4[15]=e.mat4[15]):o(e)&&(t=e[1],i=e[2],n=e[3],s=e[6],a=e[7],c=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=i,this.mat4[9]=s,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=n,this.mat4[13]=a,this.mat4[14]=c,this.mat4[15]=e[15]),this},r.Matrix.prototype.invert=function(e){var t,i,n,s,a,c,l,h,u,d,f,p,g,m,v,y;e instanceof r.Matrix?(t=e.mat4[0],i=e.mat4[1],n=e.mat4[2],s=e.mat4[3],a=e.mat4[4],c=e.mat4[5],l=e.mat4[6],h=e.mat4[7],u=e.mat4[8],d=e.mat4[9],f=e.mat4[10],p=e.mat4[11],g=e.mat4[12],m=e.mat4[13],v=e.mat4[14],y=e.mat4[15]):o(e)&&(t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],c=e[5],l=e[6],h=e[7],u=e[8],d=e[9],f=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15]);var b=t*c-i*a,w=t*l-n*a,x=t*h-s*a,_=i*l-n*c,S=i*h-s*c,C=n*h-s*l,M=u*m-d*g,T=u*v-f*g,R=u*y-p*g,E=d*v-f*m,k=d*y-p*m,L=f*y-p*v,A=b*L-w*k+x*E+_*R-S*T+C*M;return A?(A=1/A,this.mat4[0]=(c*L-l*k+h*E)*A,this.mat4[1]=(n*k-i*L-s*E)*A,this.mat4[2]=(m*C-v*S+y*_)*A,this.mat4[3]=(f*S-d*C-p*_)*A,this.mat4[4]=(l*R-a*L-h*T)*A,this.mat4[5]=(t*L-n*R+s*T)*A,this.mat4[6]=(v*x-g*C-y*w)*A,this.mat4[7]=(u*C-f*x+p*w)*A,this.mat4[8]=(a*k-c*R+h*M)*A,this.mat4[9]=(i*R-t*k-s*M)*A,this.mat4[10]=(g*S-m*x+y*b)*A,this.mat4[11]=(d*x-u*S-p*b)*A,this.mat4[12]=(c*T-a*E-l*M)*A,this.mat4[13]=(t*E-i*T+n*M)*A,this.mat4[14]=(m*w-g*_-v*b)*A,this.mat4[15]=(u*_-d*w+f*b)*A,this):null},r.Matrix.prototype.invert3x3=function(){var e=this.mat3[0],t=this.mat3[1],i=this.mat3[2],r=this.mat3[3],n=this.mat3[4],o=this.mat3[5],s=this.mat3[6],a=this.mat3[7],c=this.mat3[8],l=c*n-o*a,h=-c*r+o*s,u=a*r-n*s,d=e*l+t*h+i*u;return d?(d=1/d,this.mat3[0]=l*d,this.mat3[1]=(-c*t+i*a)*d,this.mat3[2]=(o*t-i*n)*d,this.mat3[3]=h*d,this.mat3[4]=(c*e-i*s)*d,this.mat3[5]=(-o*e+i*r)*d,this.mat3[6]=u*d,this.mat3[7]=(-a*e+t*s)*d,this.mat3[8]=(n*e-t*r)*d,this):null},r.Matrix.prototype.transpose3x3=function(e){var t=e[1],i=e[2],r=e[5];return this.mat3[1]=e[3],this.mat3[2]=e[6],this.mat3[3]=t,this.mat3[5]=e[7],this.mat3[6]=i,this.mat3[7]=r,this},r.Matrix.prototype.inverseTranspose=function(e){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=e.mat4[0],this.mat3[1]=e.mat4[1],this.mat3[2]=e.mat4[2],this.mat3[3]=e.mat4[4],this.mat3[4]=e.mat4[5],this.mat3[5]=e.mat4[6],this.mat3[6]=e.mat4[8],this.mat3[7]=e.mat4[9],this.mat3[8]=e.mat4[10]);var t=this.invert3x3();if(t)t.transpose3x3(this.mat3);else for(var i=0;i<9;i++)this.mat3[i]=0;return this},r.Matrix.prototype.determinant=function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],i=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],r=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],n=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],s=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],a=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],c=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],l=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],h=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return e*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-t*h+i*l+r*c-n*a+o*s},r.Matrix.prototype.mult=function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof r.Matrix)t=e.mat4;else{if(!o(e))return;t=e}var i=this.mat4[0],n=this.mat4[1],s=this.mat4[2],a=this.mat4[3];return this.mat4[0]=i*t[0]+n*t[4]+s*t[8]+a*t[12],this.mat4[1]=i*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[2]=i*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[3]=i*t[3]+n*t[7]+s*t[11]+a*t[15],i=this.mat4[4],n=this.mat4[5],s=this.mat4[6],a=this.mat4[7],this.mat4[4]=i*t[0]+n*t[4]+s*t[8]+a*t[12],this.mat4[5]=i*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[6]=i*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[7]=i*t[3]+n*t[7]+s*t[11]+a*t[15],i=this.mat4[8],n=this.mat4[9],s=this.mat4[10],a=this.mat4[11],this.mat4[8]=i*t[0]+n*t[4]+s*t[8]+a*t[12],this.mat4[9]=i*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[10]=i*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[11]=i*t[3]+n*t[7]+s*t[11]+a*t[15],i=this.mat4[12],n=this.mat4[13],s=this.mat4[14],a=this.mat4[15],this.mat4[12]=i*t[0]+n*t[4]+s*t[8]+a*t[12],this.mat4[13]=i*t[1]+n*t[5]+s*t[9]+a*t[13],this.mat4[14]=i*t[2]+n*t[6]+s*t[10]+a*t[14],this.mat4[15]=i*t[3]+n*t[7]+s*t[11]+a*t[15],this},r.Matrix.prototype.scale=function(e,t,i){return e instanceof r.Vector?(t=e.y,i=e.z,e=e.x):e instanceof Array&&(t=e[1],i=e[2],e=e[0]),this.mat4[0]*=e,this.mat4[1]*=e,this.mat4[2]*=e,this.mat4[3]*=e,this.mat4[4]*=t,this.mat4[5]*=t,this.mat4[6]*=t,this.mat4[7]*=t,this.mat4[8]*=i,this.mat4[9]*=i,this.mat4[10]*=i,this.mat4[11]*=i,this},r.Matrix.prototype.rotate=function(e,t,i,n){var o=this.p5?this.p5._toRadians(e):e;t instanceof r.Vector?(i=t.y,n=t.z,t=t.x):t instanceof Array&&(i=t[1],n=t[2],t=t[0]);var s=Math.sqrt(t*t+i*i+n*n);t*=1/s,i*=1/s,n*=1/s;var a=this.mat4[0],c=this.mat4[1],l=this.mat4[2],h=this.mat4[3],u=this.mat4[4],d=this.mat4[5],f=this.mat4[6],p=this.mat4[7],g=this.mat4[8],m=this.mat4[9],v=this.mat4[10],y=this.mat4[11],b=Math.sin(o),w=Math.cos(o),x=1-w,_=t*t*x+w,S=i*t*x+n*b,C=n*t*x-i*b,M=t*i*x-n*b,T=i*i*x+w,R=n*i*x+t*b,E=t*n*x+i*b,k=i*n*x-t*b,L=n*n*x+w;return this.mat4[0]=a*_+u*S+g*C,this.mat4[1]=c*_+d*S+m*C,this.mat4[2]=l*_+f*S+v*C,this.mat4[3]=h*_+p*S+y*C,this.mat4[4]=a*M+u*T+g*R,this.mat4[5]=c*M+d*T+m*R,this.mat4[6]=l*M+f*T+v*R,this.mat4[7]=h*M+p*T+y*R,this.mat4[8]=a*E+u*k+g*L,this.mat4[9]=c*E+d*k+m*L,this.mat4[10]=l*E+f*k+v*L,this.mat4[11]=h*E+p*k+y*L,this},r.Matrix.prototype.translate=function(e){var t=e[0],i=e[1],r=e[2]||0;this.mat4[12]+=this.mat4[0]*t+this.mat4[4]*i+this.mat4[8]*r,this.mat4[13]+=this.mat4[1]*t+this.mat4[5]*i+this.mat4[9]*r,this.mat4[14]+=this.mat4[2]*t+this.mat4[6]*i+this.mat4[10]*r,this.mat4[15]+=this.mat4[3]*t+this.mat4[7]*i+this.mat4[11]*r},r.Matrix.prototype.rotateX=function(e){this.rotate(e,1,0,0)},r.Matrix.prototype.rotateY=function(e){this.rotate(e,0,1,0)},r.Matrix.prototype.rotateZ=function(e){this.rotate(e,0,0,1)},r.Matrix.prototype.perspective=function(e,t,i,r){var n=1/Math.tan(e/2),o=1/(i-r);return this.mat4[0]=n/t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=n,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(r+i)*o,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*r*i*o,this.mat4[15]=0,this},r.Matrix.prototype.ortho=function(e,t,i,r,n,o){var s=1/(e-t),a=1/(i-r),c=1/(n-o);return this.mat4[0]=-2*s,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*a,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*c,this.mat4[11]=0,this.mat4[12]=(e+t)*s,this.mat4[13]=(r+i)*a,this.mat4[14]=(o+n)*c,this.mat4[15]=1,this},t.exports=r.Matrix},{"../core/main":24}],72:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");r.RendererGL.prototype.beginShape=function(e){return this.immediateMode.shapeMode=void 0!==e?e:n.LINE_STRIP,void 0===this.immediateMode.vertices?(this.immediateMode.vertices=[],this.immediateMode.edges=[],this.immediateMode.lineVertices=[],this.immediateMode.vertexColors=[],this.immediateMode.lineNormals=[],this.immediateMode.uvCoords=[],this.immediateMode.vertexBuffer=this.GL.createBuffer(),this.immediateMode.colorBuffer=this.GL.createBuffer(),this.immediateMode.uvBuffer=this.GL.createBuffer(),this.immediateMode.lineVertexBuffer=this.GL.createBuffer(),this.immediateMode.lineNormalBuffer=this.GL.createBuffer(),this.immediateMode.pointVertexBuffer=this.GL.createBuffer(),this.immediateMode._bezierVertex=[],this.immediateMode._quadraticVertex=[],this.immediateMode._curveVertex=[]):(this.immediateMode.vertices.length=0,this.immediateMode.edges.length=0,this.immediateMode.lineVertices.length=0,this.immediateMode.lineNormals.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0),this.isImmediateDrawing=!0,this},r.RendererGL.prototype.vertex=function(e,t){var i,n,o;i=n=o=0,3===arguments.length?i=arguments[2]:4===arguments.length?(n=arguments[2],o=arguments[3]):5===arguments.length&&(i=arguments[2],n=arguments[3],o=arguments[4]);var s=new r.Vector(e,t,i);this.immediateMode.vertices.push(s);var a=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.vertexColors.push(a[0],a[1],a[2],a[3]),this.immediateMode.uvCoords.push(n,o),this.immediateMode._bezierVertex[0]=e,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=i,this.immediateMode._quadraticVertex[0]=e,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=i,this},r.RendererGL.prototype.endShape=function(e,t,i,o,s,a){if(this.immediateMode.shapeMode===n.POINTS)this._usePointShader(),this.curPointShader.bindShader(),this._drawPoints(this.immediateMode.vertices,this.immediateMode.pointVertexBuffer),this.curPointShader.unbindShader();else if(this.immediateMode.vertices.length>1){if(this._useImmediateModeShader(),this._doStroke&&this.drawMode!==n.TEXTURE){for(var c=0;c<this.immediateMode.vertices.length-1;c++)this.immediateMode.edges.push([c,c+1]);e===n.CLOSE&&this.immediateMode.edges.push([this.immediateMode.vertices.length-1,0]),r.Geometry.prototype._edgesToVertices.call(this.immediateMode),this._drawStrokeImmediateMode()}if(this._doFill){if(this.isBezier||this.isQuadratic||this.isCurve){var l=[new Float32Array(this._vToNArray(this.immediateMode.vertices))],h=this._triangulate(l);this.immediateMode.vertices=[];for(var u=0,d=h.length;u<d;u+=3)this.vertex(h[u],h[u+1],h[u+2])}this._drawFillImmediateMode(e,t,i,o,s,a)}}return this.immediateMode.vertices.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0,this.isImmediateDrawing=!1,this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0,this},r.RendererGL.prototype._drawFillImmediateMode=function(e,t,i,r,o,s){var a=this.GL;if(this.curFillShader.bindShader(),this.curFillShader.attributes.aPosition&&(this._bindBuffer(this.immediateMode.vertexBuffer,a.ARRAY_BUFFER,this._vToNArray(this.immediateMode.vertices),Float32Array,a.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,a.FLOAT,!1,0,0)),this.drawMode===n.FILL&&this.curFillShader.attributes.aVertexColor&&(this._bindBuffer(this.immediateMode.colorBuffer,a.ARRAY_BUFFER,this.immediateMode.vertexColors,Float32Array,a.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aVertexColor.location,4,a.FLOAT,!1,0,0)),this.drawMode===n.TEXTURE&&this.curFillShader.attributes.aTexCoord&&(this._bindBuffer(this.immediateMode.uvBuffer,a.ARRAY_BUFFER,this.immediateMode.uvCoords,Float32Array,a.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,a.FLOAT,!1,0,0)),this.drawMode===n.FILL||this.drawMode===n.TEXTURE)switch(this.immediateMode.shapeMode){case n.LINE_STRIP:case n.LINES:case n.TRIANGLES:this.immediateMode.shapeMode=this.isBezier||this.isQuadratic||this.isCurve?n.TRIANGLES:n.TRIANGLE_FAN}else switch(this.immediateMode.shapeMode){case n.LINE_STRIP:case n.LINES:this.immediateMode.shapeMode=n.LINE_LOOP}if(this.immediateMode.shapeMode===n.QUADS||this.immediateMode.shapeMode===n.QUAD_STRIP)throw new Error("sorry, "+this.immediateMode.shapeMode+" not yet implemented in webgl mode.");this._applyColorBlend(this.curFillColor),a.enable(a.BLEND),a.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.vertices.length),this._pInst._pixelsDirty=!0,this.curFillShader.unbindShader()},r.RendererGL.prototype._drawStrokeImmediateMode=function(){var e=this.GL;this.curStrokeShader.bindShader(),this.curStrokeShader.attributes.aPosition&&(this._bindBuffer(this.immediateMode.lineVertexBuffer,e.ARRAY_BUFFER,this._flatten(this.immediateMode.lineVertices),Float32Array,e.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,e.FLOAT,!1,0,0)),this.curStrokeShader.attributes.aDirection&&(this._bindBuffer(this.immediateMode.lineNormalBuffer,e.ARRAY_BUFFER,this._flatten(this.immediateMode.lineNormals),Float32Array,e.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,e.FLOAT,!1,0,0)),this._applyColorBlend(this.curStrokeColor),e.drawArrays(e.TRIANGLES,0,this.immediateMode.lineVertices.length),this.curStrokeShader.unbindShader(),this._pInst._pixelsDirty=!0},t.exports=r.RendererGL},{"../core/constants":18,"../core/main":24}],73:[function(e,t,i){var r=e("../core/main"),n=0;r.RendererGL.prototype._initBufferDefaults=function(e){if(this._freeBuffers(e),++n>1e3){var t=Object.keys(this.gHash)[0];delete this.gHash[t],n--}this.gHash[e]={}},r.RendererGL.prototype._freeBuffers=function(e){var t=this.gHash[e];if(t){delete this.gHash[e],n--;var i=this.GL;t.vertexBuffer&&i.deleteBuffer(t.vertexBuffer),t.normalBuffer&&i.deleteBuffer(t.normalBuffer),t.lineNormalBuffer&&i.deleteBuffer(t.lineNormalBuffer),t.uvBuffer&&i.deleteBuffer(t.uvBuffer),t.indexBuffer&&i.deleteBuffer(t.indexBuffer),t.lineVertexBuffer&&i.deleteBuffer(t.lineVertexBuffer)}},r.RendererGL.prototype.createBuffers=function(e,t){var i=this.GL;this._initBufferDefaults(e);var r=this.gHash[e];return r.numberOfItems=3*t.faces.length,r.lineVertexCount=t.lineVertices.length,this._useColorShader(),this.curStrokeShader.attributes.aPosition&&(r.lineVertexBuffer=i.createBuffer(),this._bindBuffer(r.lineVertexBuffer,i.ARRAY_BUFFER,this._flatten(t.lineVertices),Float32Array,i.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,i.FLOAT,!1,0,0)),this.curStrokeShader.attributes.aDirection&&(r.lineNormalBuffer=i.createBuffer(),this._bindBuffer(r.lineNormalBuffer,i.ARRAY_BUFFER,this._flatten(t.lineNormals),Float32Array,i.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,i.FLOAT,!1,0,0)),this.curFillShader.attributes.aPosition&&(r.vertexBuffer=i.createBuffer(),this._bindBuffer(r.vertexBuffer,i.ARRAY_BUFFER,this._vToNArray(t.vertices),Float32Array,i.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,i.FLOAT,!1,0,0)),r.indexBuffer=i.createBuffer(),this._bindBuffer(r.indexBuffer,i.ELEMENT_ARRAY_BUFFER,this._flatten(t.faces),Uint16Array,i.STATIC_DRAW),this.curFillShader.attributes.aNormal&&(r.normalBuffer=i.createBuffer(),this._bindBuffer(r.normalBuffer,i.ARRAY_BUFFER,this._vToNArray(t.vertexNormals),Float32Array,i.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location,3,i.FLOAT,!1,0,0)),this.curFillShader.attributes.aTexCoord&&(r.uvBuffer=i.createBuffer(),this._bindBuffer(r.uvBuffer,i.ARRAY_BUFFER,this._flatten(t.uvs),Float32Array,i.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,i.FLOAT,!1,0,0)),r},r.RendererGL.prototype.drawBuffers=function(e){var t=this.GL;this._useColorShader();var i=this.gHash[e];return this._doStroke&&i.lineVertexCount>0&&(this.curStrokeShader.bindShader(),i.lineVertexBuffer&&(this._bindBuffer(i.lineVertexBuffer,t.ARRAY_BUFFER),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,t.FLOAT,!1,0,0)),i.lineNormalBuffer&&(this._bindBuffer(i.lineNormalBuffer,t.ARRAY_BUFFER),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,t.FLOAT,!1,0,0)),this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,e),this.curStrokeShader.unbindShader()),!1!==this._doFill&&(this.curFillShader.bindShader(),i.vertexBuffer&&(this._bindBuffer(i.vertexBuffer,t.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,t.FLOAT,!1,0,0)),i.indexBuffer&&this._bindBuffer(i.indexBuffer,t.ELEMENT_ARRAY_BUFFER),i.normalBuffer&&(this._bindBuffer(i.normalBuffer,t.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location,3,t.FLOAT,!1,0,0)),i.uvBuffer&&(this._bindBuffer(i.uvBuffer,t.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,t.FLOAT,!1,0,0)),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,e),this.curFillShader.unbindShader()),this},r.RendererGL.prototype.drawBuffersScaled=function(e,t,i,r){var n=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,i,r),this.drawBuffers(e)}finally{this.uMVMatrix=n}},r.RendererGL.prototype._drawArrays=function(e,t){return this.GL.drawArrays(e,0,this.gHash[t].lineVertexCount),this._pInst._pixelsDirty=!0,this},r.RendererGL.prototype._drawElements=function(e,t){this.GL.drawElements(e,this.gHash[t].numberOfItems,this.GL.UNSIGNED_SHORT,0),this._pInst._pixelsDirty=!0},r.RendererGL.prototype._drawPoints=function(e,t){var i=this.GL;this._bindBuffer(t,i.ARRAY_BUFFER,this._vToNArray(e),Float32Array,i.STATIC_DRAW),this.curPointShader.enableAttrib(this.curPointShader.attributes.aPosition.location,3,i.FLOAT,!1,0,0),i.drawArrays(i.Points,0,e.length)},t.exports=r.RendererGL},{"../core/main":24}],74:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants"),o=e("libtess");e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix");var s={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uViewMatrix;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nuniform vec3 uAmbientColor[8];\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nvarying vec3 vVertexNormal;\nvarying vec2 vVertTexCoord;\nvarying vec3 vLightWeighting;\n\nvoid main(void){\n\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\n  vec3 vertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertexNormal = vertexNormal;\n  vVertTexCoord = aTexCoord;\n\n  vec4 mvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  vec3 eyeDirection = normalize(-mvPosition.xyz);\n\n  float shininess = 32.0;\n  float specularFactor = 2.0;\n  float diffuseFactor = 0.3;\n\n  vec3 ambientLightFactor = vec3(0.0);\n\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    ambientLightFactor += uAmbientColor[i];\n  }\n\n\n  vec3 directionalLightFactor = vec3(0.0);\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n    vec3 dir = uLightingDirection[j];\n    float directionalLightWeighting = max(dot(vertexNormal, -dir), 0.0);\n    directionalLightFactor += uDirectionalColor[j] * directionalLightWeighting;\n  }\n\n\n  vec3 pointLightFactor = vec3(0.0);\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n    vec3 loc = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightDirection = normalize(loc - mvPosition.xyz);\n\n    float directionalLightWeighting = max(dot(vertexNormal, lightDirection), 0.0);\n\n    float specularLightWeighting = 0.0;\n    if (uSpecular ){\n      vec3 reflectionDirection = reflect(-lightDirection, vertexNormal);\n      specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n    }\n\n    pointLightFactor += uPointLightColor[k] * (specularFactor * specularLightWeighting\n      + directionalLightWeighting * diffuseFactor);\n  }\n\n  vLightWeighting =  ambientLightFactor + directionalLightFactor + pointLightFactor;\n}\n",lightTextureFrag:"precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nvarying vec3 vLightWeighting;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) : uMaterialColor;\n  if (uUseLighting)\n    gl_FragColor.rgb *= vLightWeighting;\n}",phongVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[8];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void){\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = normalize(uNormalMatrix * normalize(aNormal));\n  vTexCoord = aTexCoord;\n\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    vAmbientColor += uAmbientColor[i];\n  }\n}\n",phongFrag:"precision mediump float;\n\n//uniform mat4 uModelViewMatrix;\nuniform mat4 uViewMatrix;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvec3 V;\nvec3 N;\n\nconst float shininess = 32.0;\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n\tfloat specular;\n\tfloat diffuse;\n};\n\nfloat phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = normalize(reflect(-lightDirection, surfaceNormal));  \n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat lambertDiffuse(\n  vec3 lightDirection,\n  vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult light(vec3 lightVector) {\n\n  vec3 L = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = phongSpecular(L, V, N, shininess);\n  lr.diffuse = lambertDiffuse(L, N);\n  return lr;\n}\n\nvoid main(void) {\n\n  V = normalize(vViewPosition);\n  N = vNormal;\n\n  vec3 diffuse = vec3(0.0);\n  float specular = 0.0;\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n\n    LightResult result = light(uLightingDirection[j]);\n    diffuse += result.diffuse * uDirectionalColor[j];\n    specular += result.specular;\n  }\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n\n    vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightVector = vViewPosition - lightPosition;\n\t\n    //calculate attenuation\n    float lightDistance = length(lightVector);\n    float falloff = 500.0 / (lightDistance + 500.0);\n\n    LightResult result = light(lightVector);\n    diffuse += result.diffuse * falloff * uPointLightColor[k];\n    specular += result.specular * falloff;\n  }\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n  gl_FragColor.rgb = gl_FragColor.rgb * (diffuse * diffuseFactor + vAmbientColor) + specular * specularFactor;\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision mediump int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\n\n// using a scale <1 moves the lines towards the camera\n// in order to prevent popping effects due to half of\n// the line disappearing behind the geometry faces.\nvec3 scale = vec3(0.9995);\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  // Perspective ---\n  // convert from world to clip by multiplying with projection scaling factor\n  // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n  // invert Y, projections in Processing invert Y\n  vec2 perspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n\n  // No Perspective ---\n  // multiply by W (to cancel out division by W later in the pipeline) and\n  // convert from screen to clip (derived from clip to screen above)\n  vec2 noPerspScale = p.w / (0.5 * uViewport.zw);\n\n  //gl_Position.xy = p.xy + offset.xy * mix(noPerspScale, perspScale, float(perspective > 0));\n  gl_Position.xy = p.xy + offset.xy * perspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};r.RendererGL=function(e,t,i,n){return r.Renderer.call(this,e,t,i),this.attributes={},n=n||{},this.attributes.alpha=void 0===n.alpha||n.alpha,this.attributes.depth=void 0===n.depth||n.depth,this.attributes.stencil=void 0===n.stencil||n.stencil,this.attributes.antialias=void 0!==n.antialias&&n.antialias,this.attributes.premultipliedAlpha=void 0!==n.premultipliedAlpha&&n.premultipliedAlpha,this.attributes.preserveDrawingBuffer=void 0===n.preserveDrawingBuffer||n.preserveDrawingBuffer,this.attributes.perPixelLighting=void 0!==n.perPixelLighting&&n.perPixelLighting,this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this.ambientLightColors=[],this.directionalLightDirections=[],this.directionalLightColors=[],this.pointLightPositions=[],this.pointLightColors=[],this.uMVMatrix=new r.Matrix,this.uPMatrix=new r.Matrix,this.uNMatrix=new r.Matrix("mat3"),this._curCamera=new r.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this.gHash={},this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.curFillShader=void 0,this.curStrokeShader=void 0,this.curPointShader=void 0,this._useColorShader(),this.setStrokeShader(this._getLineShader()),this._usePointShader(),this._pointVertexBuffer=this.GL.createBuffer(),this.isImmediateDrawing=!1,this.immediateMode={},this.fill(255,255,255,255),this.pointSize=5,this.strokeWeight(1),this.stroke(0,0,0),this.textures=[],this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this},r.RendererGL.prototype=Object.create(r.Renderer.prototype),r.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this.attributes)||this.canvas.getContext("experimental-webgl",this.attributes),null===this.drawingContext)throw new Error("Error creating webgl context");console.log("p5.RendererGL: enabled webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(e){throw e}},r.RendererGL.prototype._resetContext=function(e,t,i){var n=this.width,o=this.height,s=this.canvas.id,a=this.canvas;a&&a.parentNode.removeChild(a),a=document.createElement("canvas"),a.id=s,this._pInst._userNode?this._pInst._userNode.appendChild(a):document.body.appendChild(a),this._pInst.canvas=a;var c=new r.RendererGL(this._pInst.canvas,this._pInst,!0,e);this._pInst._setProperty("_renderer",c),c.resize(n,o),c._applyDefaults(),this._pInst._elements.push(c),"function"==typeof i&&setTimeout(function(){i.apply(window._renderer,t)},0)},r.prototype.setAttributes=function(e,t){var i;this._assert3d("setAttributes"),void 0!==t?(i={},i[e]=t):e instanceof Object&&(i=e),this.push(),this._renderer._resetContext(i),this.pop()},r.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.directionalLightDirections.length=0,this.directionalLightColors.length=0,this.pointLightPositions.length=0,this.pointLightColors.length=0},r.RendererGL.prototype.background=function(){var e=this._pInst.color.apply(this._pInst,arguments),t=e.levels[0]/255,i=e.levels[1]/255,r=e.levels[2]/255,n=e.levels[3]/255;this.GL.clearColor(t,i,r,n),this.GL.depthMask(!0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},r.RendererGL.prototype.fill=function(e,t,i,o){var s=r.prototype.color.apply(this._pInst,arguments);this.curFillColor=s._array,this.isImmediateDrawing?this.setFillShader(this._getImmediateModeShader()):this.setFillShader(this._getColorShader()),this.drawMode=n.FILL,this.curFillShader.setUniform("uMaterialColor",this.curFillColor)},r.RendererGL.prototype.stroke=function(e,t,i,n){arguments[3]=255;var o=r.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=o._array,this.curStrokeShader.setUniform("uMaterialColor",this.curStrokeColor),this.curPointShader.setUniform("uMaterialColor",o._array)},r.RendererGL.prototype.strokeWeight=function(e){this.curStrokeWeight!==e&&(this.pointSize=e,this.curStrokeWeight=e,this.curStrokeShader.setUniform("uStrokeWeight",e),this.curPointShader.setUniform("uPointSize",e))},r.RendererGL.prototype.get=function(e,t,i,n){return r.Renderer2D.prototype.get.apply(this,[e,t,i,n])},r.RendererGL.prototype.loadPixels=function(){if(!0===this.attributes.preserveDrawingBuffer){var e=this._pInst._pixelDensity,t=this.width,i=this.height;t*=e,i*=e,void 0===this.pixels&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),this.GL.readPixels(0,0,t,i,this.GL.RGBA,this.GL.UNSIGNED_BYTE,this.pixels),this._pInst._setProperty("pixels",this.pixels)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},r.RendererGL.prototype.geometryInHash=function(e){return void 0!==this.gHash[e]},r.RendererGL.prototype.resize=function(e,t){r.Renderer.prototype.resize.call(this,e,t),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),void 0!==this.pixels&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},r.RendererGL.prototype.clear=function(){var e=arguments[0]||0,t=arguments[1]||0,i=arguments[2]||0,r=arguments[3]||0;this.GL.clearColor(e,t,i,r),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},r.RendererGL.prototype.translate=function(e,t,i){return e instanceof r.Vector&&(i=e.z,t=e.y,e=e.x),this.uMVMatrix.translate([e,t,i]),this},r.RendererGL.prototype.scale=function(e,t,i){return this.uMVMatrix.scale(e,t,i),this},r.RendererGL.prototype.rotate=function(e,t){return void 0===t?this.rotateZ(e):(arguments[0]=this._pInst._fromRadians(e),r.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},r.RendererGL.prototype.rotateX=function(e){return this.rotate(e,1,0,0),this},r.RendererGL.prototype.rotateY=function(e){return this.rotate(e,0,1,0),this},r.RendererGL.prototype.rotateZ=function(e){return this.rotate(e,0,0,1),this},r.RendererGL.prototype.push=function(){var e=r.Renderer.prototype.push.apply(this),t=e.properties;return t.uMVMatrix=this.uMVMatrix.copy(),t.uPMatrix=this.uPMatrix.copy(),t._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),e},r.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=r.Matrix.identity(this._pInst),this},r.RendererGL.prototype.setFillShader=function(e){return this.curFillShader!==e&&(this.curFillShader=e,this.curFillShader.init()),this.curFillShader},r.RendererGL.prototype.setPointShader=function(e){return this.curPointShader!==e&&(this.curPointShader=e,this.curPointShader.init()),this.curPointShader},r.RendererGL.prototype.setStrokeShader=function(e){return this.curStrokeShader!==e&&(this.curStrokeShader=e,this.curStrokeShader.init()),this.curStrokeShader},r.RendererGL.prototype._useLightShader=function(){return this.curFillShader&&this.curFillShader.isLightShader()||this.setFillShader(this._getLightShader()),this.curFillShader},r.RendererGL.prototype._useColorShader=function(){return this.curFillShader&&this.curFillShader!==this._defaultImmediateModeShader||this.setFillShader(this._getColorShader()),this.curFillShader},r.RendererGL.prototype._usePointShader=function(){return this.curPointShader||this.setPointShader(this._getPointShader()),this.curPointShader},r.RendererGL.prototype._useImmediateModeShader=function(){return this.curFillShader&&this.curFillShader!==this._defaultColorShader||this.setFillShader(this._getImmediateModeShader()),this.curFillShader},r.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this.attributes.perPixelLighting?this._defaultLightShader=new r.Shader(this,s.phongVert,s.phongFrag):this._defaultLightShader=new r.Shader(this,s.lightVert,s.lightTextureFrag)),this._defaultLightShader},r.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new r.Shader(this,s.immediateVert,s.vertexColorFrag)),this._defaultImmediateModeShader},r.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new r.Shader(this,s.normalVert,s.normalFrag)),this._defaultNormalShader},r.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new r.Shader(this,s.normalVert,s.basicFrag)),this._defaultColorShader},r.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new r.Shader(this,s.pointVert,s.pointFrag)),this._defaultPointShader},r.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new r.Shader(this,s.lineVert,s.lineFrag)),this._defaultLineShader},r.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new r.Shader(this,s.fontVert,s.fontFrag)),this._defaultFontShader},r.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var e=new r.Image(1,1);e.set(0,0,255),this._emptyTexture=new r.Texture(this,e)}return this._emptyTexture},r.RendererGL.prototype.getTexture=function(e){for(var t=this.textures,i=0;i<t.length;++i){var n=t[i];if(n.src===e)return n}var o=new r.Texture(this,e);return this.textures.push(o),o},r.RendererGL.prototype._bindBuffer=function(e,t,i,r,n){if(this.GL.bindBuffer(t,e),void 0!==i){var o=new r(i);this.GL.bufferData(t,o,n)}},r.RendererGL.prototype.smooth=function(){!1===this.attributes.antialias&&this._pInst.setAttributes("antialias",!0)},r.RendererGL.prototype.noSmooth=function(){!0===this.attributes.antialias&&this._pInst.setAttributes("antialias",!1)},r.RendererGL.prototype._flatten=function(e){if(0===e.length)return[];if(e.length>2e4){var t,i=Object.prototype.toString,r="[object Array]",n=[],o=e.slice();t=o.pop();do{i.call(t)===r?o.push.apply(o,t):n.push(t)}while(o.length&&void 0!==(t=o.pop()));return n.reverse(),n}return[].concat.apply([],e)},r.RendererGL.prototype._vToNArray=function(e){return this._flatten(e.map(function(e){return[e.x,e.y,e.z]}))},r.prototype._assert3d=function(e){if(!this._renderer.isP3D)throw new Error(e+"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.")},r.RendererGL.prototype._initTessy=function(){function e(e,t){t[t.length]=e[0],t[t.length]=e[1],t[t.length]=e[2]}function t(e){e!==o.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: "+e)}function i(e){console.log("error callback"),console.log("error number: "+e)}function r(e,t,i){return[e[0],e[1],e[2]]}function n(e){}var s=new o.GluTesselator;return s.gluTessCallback(o.gluEnum.GLU_TESS_VERTEX_DATA,e),s.gluTessCallback(o.gluEnum.GLU_TESS_BEGIN,t),s.gluTessCallback(o.gluEnum.GLU_TESS_ERROR,i),s.gluTessCallback(o.gluEnum.GLU_TESS_COMBINE,r),s.gluTessCallback(o.gluEnum.GLU_TESS_EDGE_FLAG,n),s},r.RendererGL.prototype._triangulate=function(e){this._tessy.gluTessNormal(0,0,1);var t=[];this._tessy.gluTessBeginPolygon(t);for(var i=0;i<e.length;i++){this._tessy.gluTessBeginContour();for(var r=e[i],n=0;n<r.length;n+=3){var o=[r[n],r[n+1],r[n+2]];this._tessy.gluTessVertex(o,o)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),t},r.RendererGL.prototype._bezierCoefficients=function(e){var t=e*e,i=t*e,r=1-e,n=r*r;return[n*r,3*n*e,3*r*t,i]},r.RendererGL.prototype._quadraticCoefficients=function(e){var t=e*e,i=1-e;return[i*i,2*i*e,t]},r.RendererGL.prototype._bezierToCatmull=function(e){return[e[1],e[1]+(e[2]-e[0])/this._curveTightness,e[2]-(e[3]-e[1])/this._curveTightness,e[2]]},t.exports=r.RendererGL},{"../core/constants":18,"../core/main":24,"../core/p5.Renderer":27,"./p5.Camera":69,"./p5.Matrix":71,"./p5.Shader":75,libtess:9}],75:[function(e,t,i){var r=e("../core/main");r.Shader=function(e,t,i){this._renderer=e,this._vertSrc=t,this._fragSrc=i,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},r.Shader.prototype.init=function(){if(0===this._glProgram){var e=this._renderer.GL;if(this._vertShader=e.createShader(e.VERTEX_SHADER),e.shaderSource(this._vertShader,this._vertSrc),e.compileShader(this._vertShader),!e.getShaderParameter(this._vertShader,e.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:"+e.getShaderInfoLog(this._vertShader)),null;if(this._fragShader=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(this._fragShader,this._fragSrc),e.compileShader(this._fragShader),!e.getShaderParameter(this._fragShader,e.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:"+e.getShaderInfoLog(this._fragShader)),null;this._glProgram=e.createProgram(),e.attachShader(this._glProgram,this._vertShader),e.attachShader(this._glProgram,this._fragShader),e.linkProgram(this._glProgram),e.getProgramParameter(this._glProgram,e.LINK_STATUS)||console.error("Snap! Error linking shader program: "+e.getProgramInfoLog(this._glProgram)),this._loadAttributes(),this._loadUniforms()}return this},r.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_ATTRIBUTES),i=0;i<t;++i){var r=e.getActiveAttrib(this._glProgram,i),n=r.name,o=e.getAttribLocation(this._glProgram,n),s={};s.name=n,s.location=o,s.type=r.type,s.size=r.size,this.attributes[n]=s}this._loadedAttributes=!0}},r.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_UNIFORMS),i=0,r=0;r<t;++r){var n=e.getActiveUniform(this._glProgram,r),o={};o.location=e.getUniformLocation(this._glProgram,n.name),o.size=n.size;var s=n.name;n.size>1&&(s=s.substring(0,s.indexOf("[0]"))),o.name=s,o.type=n.type,o.type===e.SAMPLER_2D&&(o.samplerIndex=i,i++,this.samplers.push(o)),this.uniforms[s]=o}this._loadedUniforms=!0}},r.Shader.prototype.compile=function(){},r.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this.bindTextures(),this._setMatrixUniforms(),this===this._renderer.curStrokeShader&&this._setViewportUniform())},r.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},r.Shader.prototype.bindTextures=function(){for(var e=this._renderer.GL,t=0;t<this.samplers.length;t++){var i=this.samplers[t],r=i.texture;void 0===r&&(r=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+i.samplerIndex),r.bindTexture(),r.update(),e.uniform1i(i.location,i.samplerIndex)}},r.Shader.prototype.updateTextures=function(){for(var e=0;e<this.samplers.length;e++){var t=this.samplers[e],i=t.texture;i&&i.update()}},r.Shader.prototype.unbindTextures=function(){},r.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer._curCamera.cameraMatrix.mat4),this===this._renderer.curFillShader&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},r.Shader.prototype._setViewportUniform=function(){this.setUniform("uViewport",this._renderer._viewport)},r.Shader.prototype.useProgram=function(){return this._renderer.GL.useProgram(this._glProgram),this},r.Shader.prototype.setUniform=function(e,t){var i=this.uniforms[e];if(i){var r=i.location,n=this._renderer.GL;switch(this.useProgram(),i.type){case n.BOOL:!0===t?n.uniform1i(r,1):n.uniform1i(r,0);break;case n.INT:i.size>1?t.length&&n.uniform1iv(r,t):n.uniform1i(r,t);break;case n.FLOAT:i.size>1?t.length&&n.uniform1fv(r,t):n.uniform1f(r,t);break;case n.FLOAT_MAT3:n.uniformMatrix3fv(r,!1,t);break;case n.FLOAT_MAT4:n.uniformMatrix4fv(r,!1,t);break;case n.FLOAT_VEC2:i.size>1?t.length&&n.uniform2fv(r,t):n.uniform2f(r,t[0],t[1]);break;case n.FLOAT_VEC3:i.size>1?t.length&&n.uniform3fv(r,t):n.uniform3f(r,t[0],t[1],t[2]);break;case n.FLOAT_VEC4:i.size>1?t.length&&n.uniform4fv(r,t):n.uniform4f(r,t[0],t[1],t[2],t[3]);break;case n.INT_VEC2:i.size>1?t.length&&n.uniform2iv(r,t):n.uniform2i(r,t[0],t[1]);break;case n.INT_VEC3:i.size>1?t.length&&n.uniform3iv(r,t):n.uniform3i(r,t[0],t[1],t[2]);break;case n.INT_VEC4:i.size>1?t.length&&n.uniform4iv(r,t):n.uniform4i(r,t[0],t[1],t[2],t[3]);break;case n.SAMPLER_2D:n.activeTexture(n.TEXTURE0+i.samplerIndex),i.texture=this._renderer.getTexture(t),n.uniform1i(i.location,i.samplerIndex)}return this}},r.Shader.prototype.isLightShader=function(){return void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalColor||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightColor||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},r.Shader.prototype.isTextureShader=function(){return this.samplerIndex>0},r.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},r.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},r.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},r.Shader.prototype.enableAttrib=function(e,t,i,r,n,o){var s=this._renderer.GL;return-1!==e&&(s.enableVertexAttribArray(e),s.vertexAttribPointer(e,t,i,r,n,o)),this},t.exports=r.Shader},{"../core/main":24}],76:[function(e,t,i){var r=e("../core/main"),n=e("../core/constants");r.Texture=function(e,t){this._renderer=e;var i=this._renderer.GL;this.src=t,this.glTex=void 0,this.glTarget=i.TEXTURE_2D,this.glFormat=i.RGBA,this.mipmaps=!1,this.glMinFilter=i.LINEAR,this.glMagFilter=i.LINEAR,this.glWrapS=i.CLAMP_TO_EDGE,this.glWrapT=i.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==r.MediaElement&&t instanceof r.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==r.Element&&t instanceof r.Element&&!(t instanceof r.Graphics),this.isSrcP5Image=t instanceof r.Image,this.isSrcP5Graphics=t instanceof r.Graphics,this.isImageData="undefined"!=typeof ImageData&&t instanceof ImageData;var n=this._getTextureDataFromSource();return this.width=n.width,this.height=n.height,this.init(n),this},r.Texture.prototype._getTextureDataFromSource=function(){var e;return this.isSrcP5Image?e=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement?e=this.src.elt:this.isImageData&&(e=this.src),e},r.Texture.prototype.init=function(e){var t=this._renderer.GL;if(this.glTex=t.createTexture(),this.bindTexture(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,this.glMagFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,this.glMinFilter),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.glWrapS),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.glWrapT),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var i=new Uint8Array([1,1,1,1]);t.texImage2D(this.glTarget,0,t.RGBA,1,1,0,this.glFormat,t.UNSIGNED_BYTE,i)}else t.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,t.UNSIGNED_BYTE,e)},r.Texture.prototype.update=function(){var e=this.src;if(0===e.width||0===e.height)return!1;var t=this._getTextureDataFromSource(),i=!1,r=this._renderer.GL;return t.width!==this.width||t.height!==this.height?(i=!0,this.width=t.width,this.height=t.height,this.isSrcP5Image?e.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&e.setModified(!0)):this.isSrcP5Image?e.isModified()&&(i=!0,e.setModified(!1)):this.isSrcMediaElement?e.isModified()?(i=!0,e.setModified(!1)):e.loadedmetadata&&this._videoPrevUpdateTime!==e.time()&&(this._videoPrevUpdateTime=e.time(),i=!0):this.isImageData?e._dirty&&(e._dirty=!1,i=!0):i=!0,i&&(this.bindTexture(),r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,r.UNSIGNED_BYTE,t)),i},r.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},r.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},r.Texture.prototype.setInterpolation=function(e,t){var i=this._renderer.GL;e===n.NEAREST?this.glMinFilter=i.NEAREST:this.glMinFilter=i.LINEAR,t===n.NEAREST?this.glMagFilter=i.NEAREST:this.glMagFilter=i.LINEAR,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},r.Texture.prototype.setWrapMode=function(e,t){var i=this._renderer.GL,r=function(e){return 0==(e&e-1)},o=r(this.width),s=r(this.width);e===n.REPEAT?o&&s?this.glWrapS=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):e===n.MIRROR?o&&s?this.glWrapS=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=i.CLAMP_TO_EDGE):this.glWrapS=i.CLAMP_TO_EDGE,t===n.REPEAT?o&&s?this.glWrapT=i.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):t===n.MIRROR?o&&s?this.glWrapT=i.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=i.CLAMP_TO_EDGE):this.glWrapT=i.CLAMP_TO_EDGE,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,this.glWrapS),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()},t.exports=r.Texture},{"../core/constants":18,"../core/main":24}],77:[function(e,t,i){function r(e,t){this.width=e,this.height=t,this.infos=[],this.findImage=function(e){var t=this.width*this.height;if(e>t)throw new Error("font is too complex to render in 3D");for(var i,r,n=this.infos.length-1;n>=0;--n){var o=this.infos[n];if(o.index+e<t){i=o,r=o.imageData;break}}if(!i){try{r=new ImageData(this.width,this.height)}catch(e){var s=document.getElementsByTagName("canvas")[0],a=!s;s||(s=document.createElement("canvas"),s.style.display="none",document.body.appendChild(s));var c=s.getContext("2d");c&&(r=c.createImageData(this.width,this.height)),a&&document.body.removeChild(s)}i={index:0,imageData:r},this.infos.push(i)}var l=i.index;return i.index+=e,r._dirty=!0,{imageData:r,index:l}}}function n(e,t,i,r,n){var o=e.imageData,s=o.data,a=4*e.index++;s[a++]=t,s[a++]=i,s[a++]=r,s[a++]=n}var o=e("../core/main"),s=e("../core/constants");e("./p5.Shader"),e("./p5.RendererGL"),o.RendererGL.prototype._applyTextProperties=function(){},o.RendererGL.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):0};var a=9,c=a,l=64,h=64,u=64,d=64,f=64,p=64,g=Math.sqrt(3),m=function(e){this.font=e,this.strokeImageInfos=new r(l,h),this.colDimImageInfos=new r(u,d),this.rowDimImageInfos=new r(u,d),this.colCellImageInfos=new r(f,p),this.rowCellImageInfos=new r(f,p),this.glyphInfos={},this.getGlyphInfo=function(e){function t(e,t,i){function r(e,t,i){for(var r=e.length;r-- >0;){var n=e[r];t>n&&(t=n),i<n&&(i=n)}return{min:t,max:i}}var n=_.length;_.push(i);for(var o=r(e,1,0),s=Math.max(Math.floor(o.min*a),0),l=Math.min(Math.ceil(o.max*a),a),h=s;h<l;++h)C[h].push(n);for(var u=r(t,1,0),d=Math.max(Math.floor(u.min*c),0),f=Math.min(Math.ceil(u.max*c),c),p=d;p<f;++p)S[p].push(n)}function i(e,t,i){return e<t?t:e>i?i:e}function r(e){return i(255*e,0,255)}function s(e,t,i,r){this.p0=e,this.c0=t,this.c1=i,this.p1=r,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return o.Vector.sub(o.Vector.sub(this.p1,this.p0),o.Vector.mult(o.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(e){var t=o.Vector.lerp(this.p0,this.c0,e),i=o.Vector.lerp(this.c0,this.c1,e),r=o.Vector.lerp(t,i,e);this.c1=o.Vector.lerp(this.c1,this.p1,e),this.c0=o.Vector.lerp(i,this.c1,e);var n=o.Vector.lerp(r,this.c0,e),a=new s(this.p0,t,r,n);return this.p0=n,a},this.splitInflections=function(){var e=o.Vector.sub(this.c0,this.p0),t=o.Vector.sub(o.Vector.sub(this.c1,this.c0),e),i=o.Vector.sub(o.Vector.sub(o.Vector.sub(this.p1,this.c1),e),o.Vector.mult(t,2)),r=[],n=t.x*i.y-t.y*i.x;if(0!==n){var s=e.x*i.y-e.y*i.x,a=e.x*t.y-e.y*t.x,c=s*s-4*n*a;if(c>=0){n<0&&(n=-n,s=-s,a=-a);var l=Math.sqrt(c),h=(-s-l)/(2*n),u=(-s+l)/(2*n);h>0&&h<1&&(r.push(this.split(h)),u=1-(1-u)/(1-h)),u>0&&u<1&&r.push(this.split(u))}}return r.push(this),r}}function l(e,t,i,r,n,a,c,l){for(var h=new s(new o.Vector(e,t),new o.Vector(i,r),new o.Vector(n,a),new o.Vector(c,l)).splitInflections(),u=[],d=30/g,f=0;f<h.length;f++){for(var p,m=h[f],v=[];!((p=d/m.quadError())>=.125);){var y=Math.pow(p,1/3),b=m.split(y),w=m.split(1-y/(1-y));u.push(b),v.push(m),m=w}p<1&&u.push(m.split(.5)),u.push(m),Array.prototype.push.apply(u,v.reverse())}return u}function h(e,i,r,n){t([e,r],[i,n],{x:e,y:i,cx:(e+r)/2,cy:(i+n)/2})}function u(e,t,i,r){return Math.abs(i-e)<1e-5&&Math.abs(r-t)<1e-5}function d(e,t,i){for(var r=e.length,o=t.findImage(r),s=o.index,a=0,c=0;c<r;++c)a+=e[c].length;for(var l=i.findImage(a),h=0;h<r;++h){var u=e[h],d=u.length,f=l.index;n(o,f>>7,127&f,d>>7,127&d);for(var p=0;p<d;++p){var g=u[p]+H;n(l,g>>7,127&g,0,0)}}return{cellImageInfo:l,dimOffset:s,dimImageInfo:o}}var f=this.glyphInfos[e.index];if(f)return f;var p=e.getBoundingBox(),m=p.x1,v=p.y1,y=p.x2-m,b=p.y2-v,w=e.path.commands;if(0===y||0===b||!w.length)return this.glyphInfos[e.index]={};var x,_=[],S=[],C=[];for(x=a-1;x>=0;--x)C.push([]);for(x=c-1;x>=0;--x)S.push([]);for(var M,T,R,E,k=0;k<w.length;++k){var L=w[k],A=(L.x-m)/y,$=(L.y-v)/b;if(!u(M,T,A,$)){switch(L.type){case"M":R=A,E=$;break;case"L":h(M,T,A,$);break;case"Q":var I=(L.x1-m)/y,U=(L.y1-v)/b;t([M,A,I],[T,$,U],{x:M,y:T,cx:I,cy:U});break;case"Z":u(M,T,R,E)?_.push({x:M,y:T}):(h(M,T,R,E),_.push({x:R,y:E}));break;case"C":for(var P=(L.x1-m)/y,O=(L.y1-v)/b,D=(L.x2-m)/y,F=(L.y2-v)/b,B=l(M,T,P,O,D,F,A,$),N=0;N<B.length;N++){var G=B[N].toQuadratic();t([G.x,G.x1,G.cx],[G.y,G.y1,G.cy],G)}break;default:throw new Error("unknown command type: "+L.type)}M=A,T=$}}for(var j=_.length,W=this.strokeImageInfos.findImage(j),H=W.index,V=0;V<j;++V){var z=_[V];n(W,r(z.x),r(z.y),r(z.cx),r(z.cy))}return f=this.glyphInfos[e.index]={glyph:e,uGlyphRect:[p.x1,-p.y1,p.x2,-p.y2],strokeImageInfo:W,strokes:_,colInfo:d(C,this.colDimImageInfos,this.colCellImageInfos),rowInfo:d(S,this.rowDimImageInfos,this.rowCellImageInfos)},f.uGridOffset=[f.colInfo.dimOffset,f.rowInfo.dimOffset],f}};o.RendererGL.prototype._renderText=function(e,t,i,r,n){if(!(r>=n)&&this._doFill){if(!this._isOpenType())return console.log("WEBGL: only opentype fonts are supported"),e;e.push();var g=this.curFillShader,v=this._doStroke,y=this.drawMode;this.curFillShader=null,this._doStroke=!1,this.drawMode=s.TEXTURE;var b=this._textFont.font,w=this._textFont._fontInfo;w||(w=this._textFont._fontInfo=new m(b));var x=this._textFont._handleAlignment(this,t,i,r),_=this._textSize,S=_/b.unitsPerEm;this.translate(x.x,x.y,0),this.scale(S,S,1);var C=this.GL,M=!this._defaultFontShader,T=this.setFillShader(this._getFontShader());M&&(T.setUniform("uGridImageSize",[u,d]),T.setUniform("uCellsImageSize",[f,p]),T.setUniform("uStrokeImageSize",[l,h]),T.setUniform("uGridSize",[a,c])),this._applyColorBlend(this.curFillColor);var R=this.gHash.glyph;if(!R){var E=this._textGeom=new o.Geometry(1,1,function(){for(var e=0;e<=1;e++)for(var t=0;t<=1;t++)this.vertices.push(new o.Vector(t,e,0)),this.uvs.push(t,e)});E.computeFaces().computeNormals(),R=this.createBuffers("glyph",E)}this._bindBuffer(R.vertexBuffer,C.ARRAY_BUFFER),T.enableAttrib(T.attributes.aPosition.location,3,C.FLOAT,!1,0,0),this._bindBuffer(R.indexBuffer,C.ELEMENT_ARRAY_BUFFER),this._bindBuffer(R.uvBuffer,C.ARRAY_BUFFER),T.enableAttrib(T.attributes.aTexCoord.location,2,C.FLOAT,!1,0,0),T.setUniform("uMaterialColor",this.curFillColor);try{for(var k=0,L=null,A=!1,$=b.stringToGlyphs(t),I=0;I<$.length;++I){var U=$[I];L&&(k+=b.getKerningValue(L,U));var P=w.getGlyphInfo(U);if(P.uGlyphRect){var O=P.rowInfo,D=P.colInfo;T.setUniform("uSamplerStrokes",P.strokeImageInfo.imageData),T.setUniform("uSamplerRowStrokes",O.cellImageInfo.imageData),T.setUniform("uSamplerRows",O.dimImageInfo.imageData),T.setUniform("uSamplerColStrokes",D.cellImageInfo.imageData),T.setUniform("uSamplerCols",D.dimImageInfo.imageData),T.setUniform("uGridOffset",P.uGridOffset),T.setUniform("uGlyphRect",P.uGlyphRect),T.setUniform("uGlyphOffset",k),A?T.bindTextures():(A=!0,T.bindShader()),C.drawElements(C.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}k+=U.advanceWidth,L=U}}finally{T.unbindShader(),this.curFillShader=g,this._doStroke=v,this.drawMode=y,e.pop()}return this._pInst._pixelsDirty=!0,e}}},{"../core/constants":18,"../core/main":24,"./p5.RendererGL":74,"./p5.Shader":75}]},{},[13])(13)})}),s=r(o),a={name:"VueP5",mounted(){const e={preload:"preload",setup:"setup",draw:"draw",keyPressed:"keypressed",keyReleased:"keyreleased",keyTyped:"keytyped",mouseMoved:"mousemoved",mouseDragged:"mousedragged",mousePressed:"mousepressed",mouseReleased:"mousereleased",mouseClicked:"mouseclicked",doubleClicked:"doubleclicked",mouseWheel:"mousewheel",touchStarted:"touchstarted",touchMoved:"touchmoved",touchEnded:"touchended",deviceMoved:"devicemoved",deviceTurned:"deviceturned",deviceShaken:"deviceshaken"};new s(t=>{this.$emit("sketch",t);for(let i in e){const r=e[i],n=t[i];t[i]=((...e)=>{n&&n(t,...e),this.$emit(r,t,...e)})}},this.$el)}};const c=a;var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},h=[];l._withStripped=!0;const u=void 0,d=void 0,f=void 0,p=!1;function g(e,t,i,r,n,o,s,a){const c=("function"===typeof i?i.options:i)||{};return c.__file="D:\\Users\\Ruslan\\Projects\\Web\\vue-p5\\src\\p5.vue",c.render||(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,n&&(c.functional=!0)),c._scopeId=r,c}var m=g({render:l,staticRenderFns:h},u,c,d,p,f,void 0,void 0);return"undefined"!==typeof Vue&&Vue&&Vue.component("vue-p5",m),m})}).call(this,i("c8ba"))},e352:function(e,t,i){e.exports=i.p+"64e0bdef3d222c8d85b006d237204914.js"},e402:function(e,t,i){e.exports=i.p+"1295d4470d348d3ff8ea442b1dcef3d3.js"},e437:function(e,t,i){e.exports=i.p+"dcb084d6aacfa517923dd3a94e3b9af5.js"},e476:function(e,t,i){e.exports=i.p+"eb6f00b565c6441d02346354a0ef64ce.js"},e48e:function(e,t,i){e.exports=i.p+"c71f680a7b7d316139d2cce70e62e30f.js"},e4e9:function(e,t,i){e.exports=i.p+"64c2180bd663565101e0f81a4619ce2d.js"},e608:function(e,t,i){e.exports=i.p+"b041dbc078ff4c44294022569c7e1fda.js"},e636:function(e,t,i){e.exports=i.p+"15abe309c5ecbc579dccc79beb041fd8.js"},e7bf:function(e,t,i){e.exports=i.p+"0ec5fd3cff31303d324fc853798b66e6.js"},e899:function(e,t,i){},e8f9:function(e,t,i){e.exports=i.p+"cf1f6c842a1ec0af6b00ce1859dce6d5.js"},e94f:function(e,t,i){e.exports=i.p+"d9e8c265bee810922243aaf4ba2b115a.js"},e9a6:function(e,t,i){e.exports=i.p+"b0f618b1a155de1495030d31facf6692.js"},ea53:function(e,t,i){e.exports=i.p+"16d2899be426bd265925b9479c5ab602.js"},ea8d:function(e,t,i){e.exports=i.p+"3be3e31b3decff384801f14329554a9c.js"},ea97:function(e,t,i){e.exports=i.p+"4474c9775d04684871043fae3501ec66.js"},eb31:function(e,t,i){e.exports=i.p+"f4a289a80719015c317663b24b247c87.js"},ebbe:function(e,t,i){e.exports=i.p+"6dafd4eb9102ea47229a42a24d40f457.js"},ecaf:function(e,t,i){e.exports=i.p+"61d6fdd8df046735bdb490640e3837d4.js"},ecdc:function(e,t,i){e.exports=i.p+"7bdb2e4d3bc51d15863aa7be6e0a23a9.js"},eda7:function(e,t,i){e.exports=i.p+"8d9ab03ad891997ec1b12b718a69b855.js"},edc5:function(e,t,i){e.exports=i.p+"0a4b12234fd7cba4d7c62207e4835f4c.js"},edd8:function(e,t,i){e.exports=i.p+"ab2c1db619f8721ba22987d9c71f5e1d.js"},ee39:function(e,t,i){e.exports=i.p+"5840cca8419b74fa36b217f7d705802a.js"},ee4d:function(e,t,i){e.exports=i.p+"835463665498ec7fc4b0e297f316ae3c.js"},ee9b:function(e,t,i){e.exports=i.p+"528a3090b1df1ea3c80e351f32564d05.js"},efb9:function(e,t,i){e.exports=i.p+"dde12e6c2c05d17c95ed0a94da234b3b.js"},efe9:function(e,t,i){e.exports=i.p+"b1ff2cb4863b8ed961d815393cfe246d.js"},f07a:function(e,t,i){e.exports=i.p+"73a5ec171b6c3cbf69069a762aee934d.js"},f0f9:function(e,t,i){e.exports=i.p+"4bc334f8bbb887cb9b2436309d9e5772.js"},f158:function(e,t,i){e.exports=i.p+"50eeb828262568282a21d6fb27523560.js"},f18b:function(e,t,i){e.exports=i.p+"f829c90f48ef0234876f9e325ff04478.js"},f238:function(e,t,i){e.exports=i.p+"9bc8e822f1c7519dcd3b90335322f81e.js"},f2f9:function(e,t,i){e.exports=i.p+"0870bcf868f8d64dc9a6226a6c8b341d.js"},f369:function(e,t,i){e.exports=i.p+"2f6f1f6753d430190cb38411a9112f08.js"},f386:function(e,t,i){e.exports=i.p+"7f3b69a9f3625fe6d43ae16a95794b19.js"},f45c:function(e,t,i){e.exports=i.p+"646c9322233a0ba128268dee916e5719.js"},f51f:function(e,t,i){e.exports=i.p+"27b0610b05b99da6573eb4f329c7c3f5.js"},f56d:function(e,t,i){e.exports=i.p+"4750f0ff62cbd59f35aac31b996194e6.js"},f5a8:function(e,t,i){e.exports=i.p+"cc540e2af50f440e71e48ae2b47831e2.js"},f5b4:function(e,t,i){e.exports=i.p+"e1dbe800b2d3f5d74b2b5480ea2b897a.js"},f6b3:function(e,t,i){e.exports=i.p+"f3b6993cd8f9bbdd1d5ad68a5e1cdf70.js"},f85c:function(e,t,i){e.exports=i.p+"b5cf565ba84271f8dcfb6132b032a2be.js"},f865:function(e,t,i){e.exports=i.p+"e72569f3e8710b5048959f4bdac6d38f.js"},f8a9:function(e,t,i){e.exports=i.p+"30f5b57295dfda4eafc7f8c098160582.js"},f8d0:function(e,t,i){e.exports=i.p+"5ffe6036955225e3811a2f79d4cfc9ad.js"},f9fe:function(e,t,i){e.exports=i.p+"78999d905693a14a2c4677977ba222fb.js"},fa7c:function(e,t,i){e.exports=i.p+"c0026b5092f03fc85c50c7fe34119e98.js"},fb47:function(e,t,i){e.exports=i.p+"e3c98100442ffaafdb150f31e514b019.js"},fb7c:function(e,t,i){e.exports=i.p+"4705b919138245a5b454d25f8e418435.js"},fbb9:function(e,t,i){e.exports=i.p+"43bd62d6b50d1253f782c9ae5be1593d.js"},fbe3:function(e,t,i){e.exports=i.p+"c22815e57cdd3467a5a04e2ed655ed59.js"},fd05:function(e,t,i){e.exports=i.p+"aae854c65b0dda243a618fc2b9fb0ca1.js"},fe63:function(e,t,i){e.exports=i.p+"1e33cb44dfab039b4a7e88a3ee1bbfe7.js"},fec3:function(e,t,i){e.exports=i.p+"8369703a12bca7fe68cc1e73cc3b43de.js"},ffa8:function(e,t,i){e.exports=i.p+"1997c82a11999e021909406a6e634fbb.js"},ffed:function(e,t,i){e.exports=i.p+"76f1c23a8b5915860d0fcd83d2f6ec34.js"}}]);
//# sourceMappingURL=chunk-514a6566.f755af34.js.map